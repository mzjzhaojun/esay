var st=Object.defineProperty,ot=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var ze=Object.getOwnPropertySymbols;var lt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable;var Ge=(e,r,n)=>r in e?st(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Xe=(e,r)=>{for(var n in r||(r={}))lt.call(r,n)&&Ge(e,n,r[n]);if(ze)for(var n of ze(r))ct.call(r,n)&&Ge(e,n,r[n]);return e},We=(e,r)=>ot(e,ut(r));const p$1=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}};p$1();function makeMap(e,r){const n=Object.create(null),a=e.split(",");for(let o=0;o<a.length;o++)n[a[o]]=!0;return r?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function normalizeStyle(e){if(isArray$1(e)){const r={};for(let n=0;n<e.length;n++){const a=e[n],o=isString$1(a)?parseStringStyle(a):normalizeStyle(a);if(o)for(const u in o)r[u]=o[u]}return r}else{if(isString$1(e))return e;if(isObject$2(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(e){const r={};return e.split(listDelimiterRE).forEach(n=>{if(n){const a=n.split(propertyDelimiterRE);a.length>1&&(r[a[0].trim()]=a[1].trim())}}),r}function normalizeClass(e){let r="";if(isString$1(e))r=e;else if(isArray$1(e))for(let n=0;n<e.length;n++){const a=normalizeClass(e[n]);a&&(r+=a+" ")}else if(isObject$2(e))for(const n in e)e[n]&&(r+=n+" ");return r.trim()}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$1(e)||isObject$2(e)&&(e.toString===objectToString||!isFunction$2(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,r)=>r&&r.__v_isRef?replacer(e,r.value):isMap(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((n,[a,o])=>(n[`${a} =>`]=o,n),{})}:isSet(r)?{[`Set(${r.size})`]:[...r.values()]}:isObject$2(r)&&!isArray$1(r)&&!isPlainObject$2(r)?String(r):r,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend$2=Object.assign,remove=(e,r)=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,r)=>hasOwnProperty$1.call(e,r),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction$2=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$2=e=>e!==null&&typeof e=="object",isPromise$1=e=>isObject$2(e)&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$2=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const r=Object.create(null);return n=>r[n]||(r[n]=e(n))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction(e=>e.replace(camelizeRE$1,(r,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,r)=>!Object.is(e,r),invokeArrayFns=(e,r)=>{for(let n=0;n<e.length;n++)e[n](r)},def=(e,r,n)=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value:n})},toNumber=e=>{const r=parseFloat(e);return isNaN(r)?e:r};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(r){if(this.active){const n=activeEffectScope;try{return activeEffectScope=this,r()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(r){if(this.active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(this.parent&&!r){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,r=activeEffectScope){r&&r.active&&r.effects.push(e)}const createDep=e=>{const r=new Set(e);return r.w=0,r.n=0,r},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let r=0;r<e.length;r++)e[r].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:r}=e;if(r.length){let n=0;for(let a=0;a<r.length;a++){const o=r[a];wasTracked(o)&&!newTracked(o)?o.delete(e):r[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}r.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(r,n=null,a){this.fn=r,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,a)}run(){if(!this.active)return this.fn();let r=activeEffect,n=shouldTrack;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:r}=e;if(r.length){for(let n=0;n<r.length;n++)r[n].delete(e);r.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,r,n){if(shouldTrack&&activeEffect){let a=targetMap.get(e);a||targetMap.set(e,a=new Map);let o=a.get(n);o||a.set(n,o=createDep()),trackEffects(o)}}function trackEffects(e,r){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,n=!wasTracked(e)):n=!e.has(activeEffect),n&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,r,n,a,o,u){const l=targetMap.get(e);if(!l)return;let c=[];if(r==="clear")c=[...l.values()];else if(n==="length"&&isArray$1(e))l.forEach((g,d)=>{(d==="length"||d>=a)&&c.push(g)});else switch(n!==void 0&&c.push(l.get(n)),r){case"add":isArray$1(e)?isIntegerKey(n)&&c.push(l.get("length")):(c.push(l.get(ITERATE_KEY)),isMap(e)&&c.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(c.push(l.get(ITERATE_KEY)),isMap(e)&&c.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&c.push(l.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const g=[];for(const d of c)d&&g.push(...d);triggerEffects(createDep(g))}}function triggerEffects(e,r){for(const n of isArray$1(e)?e:[...e])(n!==activeEffect||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(r=>{e[r]=function(...n){const a=toRaw(this);for(let u=0,l=this.length;u<l;u++)track(a,"get",u+"");const o=a[r](...n);return o===-1||o===!1?a[r](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(r=>{e[r]=function(...n){pauseTracking();const a=toRaw(this)[r].apply(this,n);return resetTracking(),a}}),e}function createGetter(e=!1,r=!1){return function(a,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return r;if(o==="__v_raw"&&u===(e?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(a))return a;const l=isArray$1(a);if(!e&&l&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,u);const c=Reflect.get(a,o,u);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(e||track(a,"get",o),r)?c:isRef(c)?!l||!isIntegerKey(o)?c.value:c:isObject$2(c)?e?readonly(c):reactive(c):c}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(n,a,o,u){let l=n[a];if(isReadonly(l)&&isRef(l)&&!isRef(o))return!1;if(!e&&!isReadonly(o)&&(isShallow(o)||(o=toRaw(o),l=toRaw(l)),!isArray$1(n)&&isRef(l)&&!isRef(o)))return l.value=o,!0;const c=isArray$1(n)&&isIntegerKey(a)?Number(a)<n.length:hasOwn(n,a),g=Reflect.set(n,a,o,u);return n===toRaw(u)&&(c?hasChanged(o,l)&&trigger(n,"set",a,o):trigger(n,"add",a,o)),g}}function deleteProperty(e,r){const n=hasOwn(e,r);e[r];const a=Reflect.deleteProperty(e,r);return a&&n&&trigger(e,"delete",r,void 0),a}function has$1(e,r){const n=Reflect.has(e,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(e,"has",r),n}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,r){return!0},deleteProperty(e,r){return!0}},shallowReactiveHandlers=extend$2({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1$1(e,r,n=!1,a=!1){e=e.__v_raw;const o=toRaw(e),u=toRaw(r);r!==u&&!n&&track(o,"get",r),!n&&track(o,"get",u);const{has:l}=getProto(o),c=a?toShallow:n?toReadonly:toReactive;if(l.call(o,r))return c(e.get(r));if(l.call(o,u))return c(e.get(u));e!==o&&e.get(r)}function has$1$1(e,r=!1){const n=this.__v_raw,a=toRaw(n),o=toRaw(e);return e!==o&&!r&&track(a,"has",e),!r&&track(a,"has",o),e===o?n.has(e):n.has(e)||n.has(o)}function size(e,r=!1){return e=e.__v_raw,!r&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add$1(e){e=toRaw(e);const r=toRaw(this);return getProto(r).has.call(r,e)||(r.add(e),trigger(r,"add",e,e)),this}function set$1(e,r){r=toRaw(r);const n=toRaw(this),{has:a,get:o}=getProto(n);let u=a.call(n,e);u||(e=toRaw(e),u=a.call(n,e));const l=o.call(n,e);return n.set(e,r),u?hasChanged(r,l)&&trigger(n,"set",e,r):trigger(n,"add",e,r),this}function deleteEntry(e){const r=toRaw(this),{has:n,get:a}=getProto(r);let o=n.call(r,e);o||(e=toRaw(e),o=n.call(r,e)),a&&a.call(r,e);const u=r.delete(e);return o&&trigger(r,"delete",e,void 0),u}function clear(){const e=toRaw(this),r=e.size!==0,n=e.clear();return r&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,r){return function(a,o){const u=this,l=u.__v_raw,c=toRaw(l),g=r?toShallow:e?toReadonly:toReactive;return!e&&track(c,"iterate",ITERATE_KEY),l.forEach((d,v)=>a.call(o,g(d),g(v),u))}}function createIterableMethod(e,r,n){return function(...a){const o=this.__v_raw,u=toRaw(o),l=isMap(u),c=e==="entries"||e===Symbol.iterator&&l,g=e==="keys"&&l,d=o[e](...a),v=n?toShallow:r?toReadonly:toReactive;return!r&&track(u,"iterate",g?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:x,done:m}=d.next();return m?{value:x,done:m}:{value:c?[v(x[0]),v(x[1])]:v(x),done:m}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...r){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(u){return get$1$1(this,u)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},r={get(u){return get$1$1(this,u,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(u){return get$1$1(this,u,!0)},get size(){return size(this,!0)},has(u){return has$1$1.call(this,u,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},a={get(u){return get$1$1(this,u,!0,!0)},get size(){return size(this,!0)},has(u){return has$1$1.call(this,u,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=createIterableMethod(u,!1,!1),n[u]=createIterableMethod(u,!0,!1),r[u]=createIterableMethod(u,!1,!0),a[u]=createIterableMethod(u,!0,!0)}),[e,n,r,a]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,r){const n=r?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(a,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?a:Reflect.get(hasOwn(n,o)&&o in a?n:a,o,u)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,r,n,a,o){if(!isObject$2(e)||e.__v_raw&&!(r&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const l=getTargetType(e);if(l===0)return e;const c=new Proxy(e,l===2?a:n);return o.set(e,c),c}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const r=e&&e.__v_raw;return r?toRaw(r):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$2(e)?reactive(e):e,toReadonly=e=>isObject$2(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,r){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,r){return isRef(e)?e:new RefImpl(e,r)}class RefImpl{constructor(r,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?r:toRaw(r),this._value=n?r:toReactive(r)}get value(){return trackRefValue(this),this._value}set value(r){r=this.__v_isShallow?r:toRaw(r),hasChanged(r,this._rawValue)&&(this._rawValue=r,this._value=this.__v_isShallow?r:toReactive(r),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,r,n)=>unref(Reflect.get(e,r,n)),set:(e,r,n,a)=>{const o=e[r];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(e,r,n,a)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const r=isArray$1(e)?new Array(e.length):{};for(const n in e)r[n]=toRef(e,n);return r}class ObjectRefImpl{constructor(r,n,a){this._object=r,this._key=n,this._defaultValue=a,this.__v_isRef=!0}get value(){const r=this._object[this._key];return r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}}function toRef(e,r,n){const a=e[r];return isRef(a)?a:new ObjectRefImpl(e,r,n)}class ComputedRefImpl{constructor(r,n,a,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(r,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=a}get value(){const r=toRaw(this);return trackRefValue(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function computed$1(e,r,n=!1){let a,o;const u=isFunction$2(e);return u?(a=e,o=NOOP):(a=e.get,o=e.set),new ComputedRefImpl(a,o,u||!o,n)}Promise.resolve();function callWithErrorHandling(e,r,n,a){let o;try{o=a?e(...a):e()}catch(u){handleError$1(u,r,n)}return o}function callWithAsyncErrorHandling(e,r,n,a){if(isFunction$2(e)){const u=callWithErrorHandling(e,r,n,a);return u&&isPromise$1(u)&&u.catch(l=>{handleError$1(l,r,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(callWithAsyncErrorHandling(e[u],r,n,a));return o}function handleError$1(e,r,n,a=!0){const o=r?r.vnode:null;if(r){let u=r.parent;const l=r.proxy,c=n;for(;u;){const d=u.ec;if(d){for(let v=0;v<d.length;v++)if(d[v](e,l,c)===!1)return}u=u.parent}const g=r.appContext.config.errorHandler;if(g){callWithErrorHandling(g,null,10,[e,l,c]);return}}logError(e,n,o,a)}function logError(e,r,n,a=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(e){const r=currentFlushPromise||resolvedPromise;return e?r.then(this?e.bind(this):e):r}function findInsertionIndex(e){let r=flushIndex+1,n=queue.length;for(;r<n;){const a=r+n>>>1;getId(queue[a])<e?r=a+1:n=a}return r}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&e!==currentPreFlushParentJob&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const r=queue.indexOf(e);r>flushIndex&&queue.splice(r,1)}function queueCb(e,r,n,a){isArray$1(e)?n.push(...e):(!r||!r.includes(e,e.allowRecurse?a+1:a))&&n.push(e),queueFlush()}function queuePreFlushCb(e){queueCb(e,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(e){queueCb(e,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(e,r=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=r,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(e,r)}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const r=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...r);return}for(activePostFlushCbs=r,activePostFlushCbs.sort((n,a)=>getId(n)-getId(a)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id;function flushJobs(e){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(e),queue.sort((n,a)=>getId(n)-getId(a));const r=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(e)}}function emit$1(e,r,...n){const a=e.vnode.props||EMPTY_OBJ;let o=n;const u=r.startsWith("update:"),l=u&&r.slice(7);if(l&&l in a){const v=`${l==="modelValue"?"model":l}Modifiers`,{number:x,trim:m}=a[v]||EMPTY_OBJ;m?o=n.map(E=>E.trim()):x&&(o=n.map(toNumber))}let c,g=a[c=toHandlerKey(r)]||a[c=toHandlerKey(camelize$1(r))];!g&&u&&(g=a[c=toHandlerKey(hyphenate(r))]),g&&callWithAsyncErrorHandling(g,e,6,o);const d=a[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,callWithAsyncErrorHandling(d,e,6,o)}}function normalizeEmitsOptions(e,r,n=!1){const a=r.emitsCache,o=a.get(e);if(o!==void 0)return o;const u=e.emits;let l={},c=!1;if(!isFunction$2(e)){const g=d=>{const v=normalizeEmitsOptions(d,r,!0);v&&(c=!0,extend$2(l,v))};!n&&r.mixins.length&&r.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!u&&!c?(a.set(e,null),null):(isArray$1(u)?u.forEach(g=>l[g]=null):extend$2(l,u),a.set(e,l),l)}function isEmitListener(e,r){return!e||!isOn(r)?!1:(r=r.slice(2).replace(/Once$/,""),hasOwn(e,r[0].toLowerCase()+r.slice(1))||hasOwn(e,hyphenate(r))||hasOwn(e,r))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const r=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,r}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,r=currentRenderingInstance,n){if(!r||e._n)return e;const a=(...o)=>{a._d&&setBlockTracking(-1);const u=setCurrentRenderingInstance(r),l=e(...o);return setCurrentRenderingInstance(u),a._d&&setBlockTracking(1),l};return a._n=!0,a._c=!0,a._d=!0,a}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:r,vnode:n,proxy:a,withProxy:o,props:u,propsOptions:[l],slots:c,attrs:g,emit:d,render:v,renderCache:x,data:m,setupState:E,ctx:y,inheritAttrs:C}=e;let b,$;const B=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const F=o||a;b=normalizeVNode(v.call(F,F,x,u,E,m,y)),$=g}else{const F=r;b=normalizeVNode(F.length>1?F(u,{attrs:g,slots:c,emit:d}):F(u,null)),$=r.props?g:getFunctionalFallthrough(g)}}catch(F){blockStack.length=0,handleError$1(F,e,1),b=createVNode(Comment)}let w=b;if($&&C!==!1){const F=Object.keys($),{shapeFlag:U}=w;F.length&&U&7&&(l&&F.some(isModelListener)&&($=filterModelListeners($,l)),w=cloneVNode(w,$))}return n.dirs&&(w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),b=w,setCurrentRenderingInstance(B),b}const getFunctionalFallthrough=e=>{let r;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((r||(r={}))[n]=e[n]);return r},filterModelListeners=(e,r)=>{const n={};for(const a in e)(!isModelListener(a)||!(a.slice(9)in r))&&(n[a]=e[a]);return n};function shouldUpdateComponent(e,r,n){const{props:a,children:o,component:u}=e,{props:l,children:c,patchFlag:g}=r,d=u.emitsOptions;if(r.dirs||r.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return a?hasPropsChanged(a,l,d):!!l;if(g&8){const v=r.dynamicProps;for(let x=0;x<v.length;x++){const m=v[x];if(l[m]!==a[m]&&!isEmitListener(d,m))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:a===l?!1:a?l?hasPropsChanged(a,l,d):!0:!!l;return!1}function hasPropsChanged(e,r,n){const a=Object.keys(r);if(a.length!==Object.keys(e).length)return!0;for(let o=0;o<a.length;o++){const u=a[o];if(r[u]!==e[u]&&!isEmitListener(n,u))return!0}return!1}function updateHOCHostEl({vnode:e,parent:r},n){for(;r&&r.subTree===e;)(e=r.vnode).el=n,r=r.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,r){r&&r.pendingBranch?isArray$1(e)?r.effects.push(...e):r.effects.push(e):queuePostFlushCb(e)}function provide(e,r){if(currentInstance){let n=currentInstance.provides;const a=currentInstance.parent&&currentInstance.parent.provides;a===n&&(n=currentInstance.provides=Object.create(a)),n[e]=r}}function inject(e,r,n=!1){const a=currentInstance||currentRenderingInstance;if(a){const o=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&isFunction$2(r)?r.call(a.proxy):r}}const INITIAL_WATCHER_VALUE={};function watch(e,r,n){return doWatch(e,r,n)}function doWatch(e,r,{immediate:n,deep:a,flush:o,onTrack:u,onTrigger:l}=EMPTY_OBJ){const c=currentInstance;let g,d=!1,v=!1;if(isRef(e)?(g=()=>e.value,d=isShallow(e)):isReactive(e)?(g=()=>e,a=!0):isArray$1(e)?(v=!0,d=e.some(isReactive),g=()=>e.map($=>{if(isRef($))return $.value;if(isReactive($))return traverse($);if(isFunction$2($))return callWithErrorHandling($,c,2)})):isFunction$2(e)?r?g=()=>callWithErrorHandling(e,c,2):g=()=>{if(!(c&&c.isUnmounted))return x&&x(),callWithAsyncErrorHandling(e,c,3,[m])}:g=NOOP,r&&a){const $=g;g=()=>traverse($())}let x,m=$=>{x=b.onStop=()=>{callWithErrorHandling($,c,4)}};if(isInSSRComponentSetup)return m=NOOP,r?n&&callWithAsyncErrorHandling(r,c,3,[g(),v?[]:void 0,m]):g(),NOOP;let E=v?[]:INITIAL_WATCHER_VALUE;const y=()=>{if(!!b.active)if(r){const $=b.run();(a||d||(v?$.some((B,w)=>hasChanged(B,E[w])):hasChanged($,E)))&&(x&&x(),callWithAsyncErrorHandling(r,c,3,[$,E===INITIAL_WATCHER_VALUE?void 0:E,m]),E=$)}else b.run()};y.allowRecurse=!!r;let C;o==="sync"?C=y:o==="post"?C=()=>queuePostRenderEffect(y,c&&c.suspense):C=()=>{!c||c.isMounted?queuePreFlushCb(y):y()};const b=new ReactiveEffect(g,C);return r?n?y():E=b.run():o==="post"?queuePostRenderEffect(b.run.bind(b),c&&c.suspense):b.run(),()=>{b.stop(),c&&c.scope&&remove(c.scope.effects,b)}}function instanceWatch(e,r,n){const a=this.proxy,o=isString$1(e)?e.includes(".")?createPathGetter(a,e):()=>a[e]:e.bind(a,a);let u;isFunction$2(r)?u=r:(u=r.handler,n=r);const l=currentInstance;setCurrentInstance(this);const c=doWatch(o,u.bind(a),n);return l?setCurrentInstance(l):unsetCurrentInstance(),c}function createPathGetter(e,r){const n=r.split(".");return()=>{let a=e;for(let o=0;o<n.length&&a;o++)a=a[n[o]];return a}}function traverse(e,r){if(!isObject$2(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),isRef(e))traverse(e.value,r);else if(isArray$1(e))for(let n=0;n<e.length;n++)traverse(e[n],r);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse(n,r)});else if(isPlainObject$2(e))for(const n in e)traverse(e[n],r);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:r}){const n=getCurrentInstance(),a=useTransitionState();let o;return()=>{const u=r.default&&getTransitionRawChildren(r.default(),!0);if(!u||!u.length)return;const l=toRaw(e),{mode:c}=l,g=u[0];if(a.isLeaving)return emptyPlaceholder(g);const d=getKeepAliveChild(g);if(!d)return emptyPlaceholder(g);const v=resolveTransitionHooks(d,l,a,n);setTransitionHooks(d,v);const x=n.subTree,m=x&&getKeepAliveChild(x);let E=!1;const{getTransitionKey:y}=d.type;if(y){const C=y();o===void 0?o=C:C!==o&&(o=C,E=!0)}if(m&&m.type!==Comment&&(!isSameVNodeType(d,m)||E)){const C=resolveTransitionHooks(m,l,a,n);if(setTransitionHooks(m,C),c==="out-in")return a.isLeaving=!0,C.afterLeave=()=>{a.isLeaving=!1,n.update()},emptyPlaceholder(g);c==="in-out"&&d.type!==Comment&&(C.delayLeave=(b,$,B)=>{const w=getLeavingNodesForType(a,m);w[String(m.key)]=m,b._leaveCb=()=>{$(),b._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=B})}return g}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,r){const{leavingVNodes:n}=e;let a=n.get(r.type);return a||(a=Object.create(null),n.set(r.type,a)),a}function resolveTransitionHooks(e,r,n,a){const{appear:o,mode:u,persisted:l=!1,onBeforeEnter:c,onEnter:g,onAfterEnter:d,onEnterCancelled:v,onBeforeLeave:x,onLeave:m,onAfterLeave:E,onLeaveCancelled:y,onBeforeAppear:C,onAppear:b,onAfterAppear:$,onAppearCancelled:B}=r,w=String(e.key),F=getLeavingNodesForType(n,e),U=(T,k)=>{T&&callWithAsyncErrorHandling(T,a,9,k)},_={mode:u,persisted:l,beforeEnter(T){let k=c;if(!n.isMounted)if(o)k=C||c;else return;T._leaveCb&&T._leaveCb(!0);const N=F[w];N&&isSameVNodeType(e,N)&&N.el._leaveCb&&N.el._leaveCb(),U(k,[T])},enter(T){let k=g,N=d,K=v;if(!n.isMounted)if(o)k=b||g,N=$||d,K=B||v;else return;let O=!1;const V=T._enterCb=J=>{O||(O=!0,J?U(K,[T]):U(N,[T]),_.delayedLeave&&_.delayedLeave(),T._enterCb=void 0)};k?(k(T,V),k.length<=1&&V()):V()},leave(T,k){const N=String(e.key);if(T._enterCb&&T._enterCb(!0),n.isUnmounting)return k();U(x,[T]);let K=!1;const O=T._leaveCb=V=>{K||(K=!0,k(),V?U(y,[T]):U(E,[T]),T._leaveCb=void 0,F[N]===e&&delete F[N])};F[N]=e,m?(m(T,O),m.length<=1&&O()):O()},clone(T){return resolveTransitionHooks(T,r,n,a)}};return _}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,r){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,r):e.shapeFlag&128?(e.ssContent.transition=r.clone(e.ssContent),e.ssFallback.transition=r.clone(e.ssFallback)):e.transition=r}function getTransitionRawChildren(e,r=!1,n){let a=[],o=0;for(let u=0;u<e.length;u++){let l=e[u];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:u);l.type===Fragment?(l.patchFlag&128&&o++,a=a.concat(getTransitionRawChildren(l.children,r,c))):(r||l.type!==Comment)&&a.push(c!=null?cloneVNode(l,{key:c}):l)}if(o>1)for(let u=0;u<a.length;u++)a[u].patchFlag=-2;return a}function defineComponent(e){return isFunction$2(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,r){registerKeepAliveHook(e,"a",r)}function onDeactivated(e,r){registerKeepAliveHook(e,"da",r)}function registerKeepAliveHook(e,r,n=currentInstance){const a=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(r,a,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(a,r,n,o),o=o.parent}}function injectToKeepAliveRoot(e,r,n,a){const o=injectHook(r,e,a,!0);onUnmounted(()=>{remove(a[r],o)},n)}function injectHook(e,r,n=currentInstance,a=!1){if(n){const o=n[e]||(n[e]=[]),u=r.__weh||(r.__weh=(...l)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const c=callWithAsyncErrorHandling(r,n,e,l);return unsetCurrentInstance(),resetTracking(),c});return a?o.unshift(u):o.push(u),u}}const createHook=e=>(r,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,r,n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,r=currentInstance){injectHook("ec",e,r)}let shouldCacheAccess=!0;function applyOptions(e){const r=resolveMergedOptions(e),n=e.proxy,a=e.ctx;shouldCacheAccess=!1,r.beforeCreate&&callHook$1(r.beforeCreate,e,"bc");const{data:o,computed:u,methods:l,watch:c,provide:g,inject:d,created:v,beforeMount:x,mounted:m,beforeUpdate:E,updated:y,activated:C,deactivated:b,beforeDestroy:$,beforeUnmount:B,destroyed:w,unmounted:F,render:U,renderTracked:_,renderTriggered:T,errorCaptured:k,serverPrefetch:N,expose:K,inheritAttrs:O,components:V,directives:J,filters:H}=r;if(d&&resolveInjections(d,a,null,e.appContext.config.unwrapInjectedRef),l)for(const Q in l){const xe=l[Q];isFunction$2(xe)&&(a[Q]=xe.bind(n))}if(o){const Q=o.call(n,n);isObject$2(Q)&&(e.data=reactive(Q))}if(shouldCacheAccess=!0,u)for(const Q in u){const xe=u[Q],ce=isFunction$2(xe)?xe.bind(n,n):isFunction$2(xe.get)?xe.get.bind(n,n):NOOP,de=!isFunction$2(xe)&&isFunction$2(xe.set)?xe.set.bind(n):NOOP,W=computed({get:ce,set:de});Object.defineProperty(a,Q,{enumerable:!0,configurable:!0,get:()=>W.value,set:re=>W.value=re})}if(c)for(const Q in c)createWatcher(c[Q],a,n,Q);if(g){const Q=isFunction$2(g)?g.call(n):g;Reflect.ownKeys(Q).forEach(xe=>{provide(xe,Q[xe])})}v&&callHook$1(v,e,"c");function te(Q,xe){isArray$1(xe)?xe.forEach(ce=>Q(ce.bind(n))):xe&&Q(xe.bind(n))}if(te(onBeforeMount,x),te(onMounted,m),te(onBeforeUpdate,E),te(onUpdated,y),te(onActivated,C),te(onDeactivated,b),te(onErrorCaptured,k),te(onRenderTracked,_),te(onRenderTriggered,T),te(onBeforeUnmount,B),te(onUnmounted,F),te(onServerPrefetch,N),isArray$1(K))if(K.length){const Q=e.exposed||(e.exposed={});K.forEach(xe=>{Object.defineProperty(Q,xe,{get:()=>n[xe],set:ce=>n[xe]=ce})})}else e.exposed||(e.exposed={});U&&e.render===NOOP&&(e.render=U),O!=null&&(e.inheritAttrs=O),V&&(e.components=V),J&&(e.directives=J)}function resolveInjections(e,r,n=NOOP,a=!1){isArray$1(e)&&(e=normalizeInject(e));for(const o in e){const u=e[o];let l;isObject$2(u)?"default"in u?l=inject(u.from||o,u.default,!0):l=inject(u.from||o):l=inject(u),isRef(l)&&a?Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):r[o]=l}}function callHook$1(e,r,n){callWithAsyncErrorHandling(isArray$1(e)?e.map(a=>a.bind(r.proxy)):e.bind(r.proxy),r,n)}function createWatcher(e,r,n,a){const o=a.includes(".")?createPathGetter(n,a):()=>n[a];if(isString$1(e)){const u=r[e];isFunction$2(u)&&watch(o,u)}else if(isFunction$2(e))watch(o,e.bind(n));else if(isObject$2(e))if(isArray$1(e))e.forEach(u=>createWatcher(u,r,n,a));else{const u=isFunction$2(e.handler)?e.handler.bind(n):r[e.handler];isFunction$2(u)&&watch(o,u,e)}}function resolveMergedOptions(e){const r=e.type,{mixins:n,extends:a}=r,{mixins:o,optionsCache:u,config:{optionMergeStrategies:l}}=e.appContext,c=u.get(r);let g;return c?g=c:!o.length&&!n&&!a?g=r:(g={},o.length&&o.forEach(d=>mergeOptions$1(g,d,l,!0)),mergeOptions$1(g,r,l)),u.set(r,g),g}function mergeOptions$1(e,r,n,a=!1){const{mixins:o,extends:u}=r;u&&mergeOptions$1(e,u,n,!0),o&&o.forEach(l=>mergeOptions$1(e,l,n,!0));for(const l in r)if(!(a&&l==="expose")){const c=internalOptionMergeStrats[l]||n&&n[l];e[l]=c?c(e[l],r[l]):r[l]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,r){return r?e?function(){return extend$2(isFunction$2(e)?e.call(this,this):e,isFunction$2(r)?r.call(this,this):r)}:r:e}function mergeInject(e,r){return mergeObjectOptions(normalizeInject(e),normalizeInject(r))}function normalizeInject(e){if(isArray$1(e)){const r={};for(let n=0;n<e.length;n++)r[e[n]]=e[n];return r}return e}function mergeAsArray(e,r){return e?[...new Set([].concat(e,r))]:r}function mergeObjectOptions(e,r){return e?extend$2(extend$2(Object.create(null),e),r):r}function mergeWatchOptions(e,r){if(!e)return r;if(!r)return e;const n=extend$2(Object.create(null),e);for(const a in r)n[a]=mergeAsArray(e[a],r[a]);return n}function initProps(e,r,n,a=!1){const o={},u={};def(u,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,r,o,u);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);n?e.props=a?o:shallowReactive(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function updateProps(e,r,n,a){const{props:o,attrs:u,vnode:{patchFlag:l}}=e,c=toRaw(o),[g]=e.propsOptions;let d=!1;if((a||l>0)&&!(l&16)){if(l&8){const v=e.vnode.dynamicProps;for(let x=0;x<v.length;x++){let m=v[x];if(isEmitListener(e.emitsOptions,m))continue;const E=r[m];if(g)if(hasOwn(u,m))E!==u[m]&&(u[m]=E,d=!0);else{const y=camelize$1(m);o[y]=resolvePropValue(g,c,y,E,e,!1)}else E!==u[m]&&(u[m]=E,d=!0)}}}else{setFullProps(e,r,o,u)&&(d=!0);let v;for(const x in c)(!r||!hasOwn(r,x)&&((v=hyphenate(x))===x||!hasOwn(r,v)))&&(g?n&&(n[x]!==void 0||n[v]!==void 0)&&(o[x]=resolvePropValue(g,c,x,void 0,e,!0)):delete o[x]);if(u!==c)for(const x in u)(!r||!hasOwn(r,x)&&!0)&&(delete u[x],d=!0)}d&&trigger(e,"set","$attrs")}function setFullProps(e,r,n,a){const[o,u]=e.propsOptions;let l=!1,c;if(r)for(let g in r){if(isReservedProp(g))continue;const d=r[g];let v;o&&hasOwn(o,v=camelize$1(g))?!u||!u.includes(v)?n[v]=d:(c||(c={}))[v]=d:isEmitListener(e.emitsOptions,g)||(!(g in a)||d!==a[g])&&(a[g]=d,l=!0)}if(u){const g=toRaw(n),d=c||EMPTY_OBJ;for(let v=0;v<u.length;v++){const x=u[v];n[x]=resolvePropValue(o,g,x,d[x],e,!hasOwn(d,x))}}return l}function resolvePropValue(e,r,n,a,o,u){const l=e[n];if(l!=null){const c=hasOwn(l,"default");if(c&&a===void 0){const g=l.default;if(l.type!==Function&&isFunction$2(g)){const{propsDefaults:d}=o;n in d?a=d[n]:(setCurrentInstance(o),a=d[n]=g.call(null,r),unsetCurrentInstance())}else a=g}l[0]&&(u&&!c?a=!1:l[1]&&(a===""||a===hyphenate(n))&&(a=!0))}return a}function normalizePropsOptions(e,r,n=!1){const a=r.propsCache,o=a.get(e);if(o)return o;const u=e.props,l={},c=[];let g=!1;if(!isFunction$2(e)){const v=x=>{g=!0;const[m,E]=normalizePropsOptions(x,r,!0);extend$2(l,m),E&&c.push(...E)};!n&&r.mixins.length&&r.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!u&&!g)return a.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(u))for(let v=0;v<u.length;v++){const x=camelize$1(u[v]);validatePropName(x)&&(l[x]=EMPTY_OBJ)}else if(u)for(const v in u){const x=camelize$1(v);if(validatePropName(x)){const m=u[v],E=l[x]=isArray$1(m)||isFunction$2(m)?{type:m}:m;if(E){const y=getTypeIndex(Boolean,E.type),C=getTypeIndex(String,E.type);E[0]=y>-1,E[1]=C<0||y<C,(y>-1||hasOwn(E,"default"))&&c.push(x)}}}const d=[l,c];return a.set(e,d),d}function validatePropName(e){return e[0]!=="$"}function getType(e){const r=e&&e.toString().match(/^\s*function (\w+)/);return r?r[1]:e===null?"null":""}function isSameType(e,r){return getType(e)===getType(r)}function getTypeIndex(e,r){return isArray$1(r)?r.findIndex(n=>isSameType(n,e)):isFunction$2(r)&&isSameType(r,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,r,n)=>{const a=withCtx((...o)=>normalizeSlotValue(r(...o)),n);return a._c=!1,a},normalizeObjectSlots=(e,r,n)=>{const a=e._ctx;for(const o in e){if(isInternalKey(o))continue;const u=e[o];if(isFunction$2(u))r[o]=normalizeSlot$1(o,u,a);else if(u!=null){const l=normalizeSlotValue(u);r[o]=()=>l}}},normalizeVNodeSlots=(e,r)=>{const n=normalizeSlotValue(r);e.slots.default=()=>n},initSlots=(e,r)=>{if(e.vnode.shapeFlag&32){const n=r._;n?(e.slots=toRaw(r),def(r,"_",n)):normalizeObjectSlots(r,e.slots={})}else e.slots={},r&&normalizeVNodeSlots(e,r);def(e.slots,InternalObjectKey,1)},updateSlots=(e,r,n)=>{const{vnode:a,slots:o}=e;let u=!0,l=EMPTY_OBJ;if(a.shapeFlag&32){const c=r._;c?n&&c===1?u=!1:(extend$2(o,r),!n&&c===1&&delete o._):(u=!r.$stable,normalizeObjectSlots(r,o)),l=r}else r&&(normalizeVNodeSlots(e,r),l={default:1});if(u)for(const c in o)!isInternalKey(c)&&!(c in l)&&delete o[c]};function withDirectives(e,r){const n=currentRenderingInstance;if(n===null)return e;const a=getExposeProxy(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<r.length;u++){let[l,c,g,d=EMPTY_OBJ]=r[u];isFunction$2(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(c),o.push({dir:l,instance:a,value:c,oldValue:void 0,arg:g,modifiers:d})}return e}function invokeDirectiveHook(e,r,n,a){const o=e.dirs,u=r&&r.dirs;for(let l=0;l<o.length;l++){const c=o[l];u&&(c.oldValue=u[l].value);let g=c.dir[a];g&&(pauseTracking(),callWithAsyncErrorHandling(g,n,8,[e.el,c,e,r]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,r){return function(a,o=null){isFunction$2(a)||(a=Object.assign({},a)),o!=null&&!isObject$2(o)&&(o=null);const u=createAppContext(),l=new Set;let c=!1;const g=u.app={_uid:uid++,_component:a,_props:o,_container:null,_context:u,_instance:null,version,get config(){return u.config},set config(d){},use(d,...v){return l.has(d)||(d&&isFunction$2(d.install)?(l.add(d),d.install(g,...v)):isFunction$2(d)&&(l.add(d),d(g,...v))),g},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),g},component(d,v){return v?(u.components[d]=v,g):u.components[d]},directive(d,v){return v?(u.directives[d]=v,g):u.directives[d]},mount(d,v,x){if(!c){const m=createVNode(a,o);return m.appContext=u,v&&r?r(m,d):e(m,d,x),c=!0,g._container=d,d.__vue_app__=g,getExposeProxy(m.component)||m.component.proxy}},unmount(){c&&(e(null,g._container),delete g._container.__vue_app__)},provide(d,v){return u.provides[d]=v,g}};return g}}function setRef(e,r,n,a,o=!1){if(isArray$1(e)){e.forEach((m,E)=>setRef(m,r&&(isArray$1(r)?r[E]:r),n,a,o));return}if(isAsyncWrapper(a)&&!o)return;const u=a.shapeFlag&4?getExposeProxy(a.component)||a.component.proxy:a.el,l=o?null:u,{i:c,r:g}=e,d=r&&r.r,v=c.refs===EMPTY_OBJ?c.refs={}:c.refs,x=c.setupState;if(d!=null&&d!==g&&(isString$1(d)?(v[d]=null,hasOwn(x,d)&&(x[d]=null)):isRef(d)&&(d.value=null)),isFunction$2(g))callWithErrorHandling(g,c,12,[l,v]);else{const m=isString$1(g),E=isRef(g);if(m||E){const y=()=>{if(e.f){const C=m?v[g]:g.value;o?isArray$1(C)&&remove(C,u):isArray$1(C)?C.includes(u)||C.push(u):m?(v[g]=[u],hasOwn(x,g)&&(x[g]=v[g])):(g.value=[u],e.k&&(v[e.k]=g.value))}else m?(v[g]=l,hasOwn(x,g)&&(x[g]=l)):isRef(g)&&(g.value=l,e.k&&(v[e.k]=l))};l?(y.id=-1,queuePostRenderEffect(y,n)):y()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,r){const n=getGlobalThis();n.__VUE__=!0;const{insert:a,remove:o,patchProp:u,createElement:l,createText:c,createComment:g,setText:d,setElementText:v,parentNode:x,nextSibling:m,setScopeId:E=NOOP,cloneNode:y,insertStaticContent:C}=e,b=(j,ee,ae,le=null,fe=null,ve=null,Ce=!1,pe=null,ge=!!ee.dynamicChildren)=>{if(j===ee)return;j&&!isSameVNodeType(j,ee)&&(le=oe(j),q(j,fe,ve,!0),j=null),ee.patchFlag===-2&&(ge=!1,ee.dynamicChildren=null);const{type:he,ref:Be,shapeFlag:me}=ee;switch(he){case Text:$(j,ee,ae,le);break;case Comment:B(j,ee,ae,le);break;case Static:j==null&&w(ee,ae,le,Ce);break;case Fragment:J(j,ee,ae,le,fe,ve,Ce,pe,ge);break;default:me&1?_(j,ee,ae,le,fe,ve,Ce,pe,ge):me&6?H(j,ee,ae,le,fe,ve,Ce,pe,ge):(me&64||me&128)&&he.process(j,ee,ae,le,fe,ve,Ce,pe,ge,be)}Be!=null&&fe&&setRef(Be,j&&j.ref,ve,ee||j,!ee)},$=(j,ee,ae,le)=>{if(j==null)a(ee.el=c(ee.children),ae,le);else{const fe=ee.el=j.el;ee.children!==j.children&&d(fe,ee.children)}},B=(j,ee,ae,le)=>{j==null?a(ee.el=g(ee.children||""),ae,le):ee.el=j.el},w=(j,ee,ae,le)=>{[j.el,j.anchor]=C(j.children,ee,ae,le,j.el,j.anchor)},F=({el:j,anchor:ee},ae,le)=>{let fe;for(;j&&j!==ee;)fe=m(j),a(j,ae,le),j=fe;a(ee,ae,le)},U=({el:j,anchor:ee})=>{let ae;for(;j&&j!==ee;)ae=m(j),o(j),j=ae;o(ee)},_=(j,ee,ae,le,fe,ve,Ce,pe,ge)=>{Ce=Ce||ee.type==="svg",j==null?T(ee,ae,le,fe,ve,Ce,pe,ge):K(j,ee,fe,ve,Ce,pe,ge)},T=(j,ee,ae,le,fe,ve,Ce,pe)=>{let ge,he;const{type:Be,props:me,shapeFlag:Ae,transition:Ee,patchFlag:_e,dirs:we}=j;if(j.el&&y!==void 0&&_e===-1)ge=j.el=y(j.el);else{if(ge=j.el=l(j.type,ve,me&&me.is,me),Ae&8?v(ge,j.children):Ae&16&&N(j.children,ge,null,le,fe,ve&&Be!=="foreignObject",Ce,pe),we&&invokeDirectiveHook(j,null,le,"created"),me){for(const Ie in me)Ie!=="value"&&!isReservedProp(Ie)&&u(ge,Ie,null,me[Ie],ve,j.children,le,fe,se);"value"in me&&u(ge,"value",null,me.value),(he=me.onVnodeBeforeMount)&&invokeVNodeHook(he,le,j)}k(ge,j,j.scopeId,Ce,le)}we&&invokeDirectiveHook(j,null,le,"beforeMount");const Re=(!fe||fe&&!fe.pendingBranch)&&Ee&&!Ee.persisted;Re&&Ee.beforeEnter(ge),a(ge,ee,ae),((he=me&&me.onVnodeMounted)||Re||we)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,le,j),Re&&Ee.enter(ge),we&&invokeDirectiveHook(j,null,le,"mounted")},fe)},k=(j,ee,ae,le,fe)=>{if(ae&&E(j,ae),le)for(let ve=0;ve<le.length;ve++)E(j,le[ve]);if(fe){let ve=fe.subTree;if(ee===ve){const Ce=fe.vnode;k(j,Ce,Ce.scopeId,Ce.slotScopeIds,fe.parent)}}},N=(j,ee,ae,le,fe,ve,Ce,pe,ge=0)=>{for(let he=ge;he<j.length;he++){const Be=j[he]=pe?cloneIfMounted(j[he]):normalizeVNode(j[he]);b(null,Be,ee,ae,le,fe,ve,Ce,pe)}},K=(j,ee,ae,le,fe,ve,Ce)=>{const pe=ee.el=j.el;let{patchFlag:ge,dynamicChildren:he,dirs:Be}=ee;ge|=j.patchFlag&16;const me=j.props||EMPTY_OBJ,Ae=ee.props||EMPTY_OBJ;let Ee;ae&&toggleRecurse(ae,!1),(Ee=Ae.onVnodeBeforeUpdate)&&invokeVNodeHook(Ee,ae,ee,j),Be&&invokeDirectiveHook(ee,j,ae,"beforeUpdate"),ae&&toggleRecurse(ae,!0);const _e=fe&&ee.type!=="foreignObject";if(he?O(j.dynamicChildren,he,pe,ae,le,_e,ve):Ce||ce(j,ee,pe,null,ae,le,_e,ve,!1),ge>0){if(ge&16)V(pe,ee,me,Ae,ae,le,fe);else if(ge&2&&me.class!==Ae.class&&u(pe,"class",null,Ae.class,fe),ge&4&&u(pe,"style",me.style,Ae.style,fe),ge&8){const we=ee.dynamicProps;for(let Re=0;Re<we.length;Re++){const Ie=we[Re],Te=me[Ie],De=Ae[Ie];(De!==Te||Ie==="value")&&u(pe,Ie,Te,De,fe,j.children,ae,le,se)}}ge&1&&j.children!==ee.children&&v(pe,ee.children)}else!Ce&&he==null&&V(pe,ee,me,Ae,ae,le,fe);((Ee=Ae.onVnodeUpdated)||Be)&&queuePostRenderEffect(()=>{Ee&&invokeVNodeHook(Ee,ae,ee,j),Be&&invokeDirectiveHook(ee,j,ae,"updated")},le)},O=(j,ee,ae,le,fe,ve,Ce)=>{for(let pe=0;pe<ee.length;pe++){const ge=j[pe],he=ee[pe],Be=ge.el&&(ge.type===Fragment||!isSameVNodeType(ge,he)||ge.shapeFlag&70)?x(ge.el):ae;b(ge,he,Be,null,le,fe,ve,Ce,!0)}},V=(j,ee,ae,le,fe,ve,Ce)=>{if(ae!==le){for(const pe in le){if(isReservedProp(pe))continue;const ge=le[pe],he=ae[pe];ge!==he&&pe!=="value"&&u(j,pe,he,ge,Ce,ee.children,fe,ve,se)}if(ae!==EMPTY_OBJ)for(const pe in ae)!isReservedProp(pe)&&!(pe in le)&&u(j,pe,ae[pe],null,Ce,ee.children,fe,ve,se);"value"in le&&u(j,"value",ae.value,le.value)}},J=(j,ee,ae,le,fe,ve,Ce,pe,ge)=>{const he=ee.el=j?j.el:c(""),Be=ee.anchor=j?j.anchor:c("");let{patchFlag:me,dynamicChildren:Ae,slotScopeIds:Ee}=ee;Ee&&(pe=pe?pe.concat(Ee):Ee),j==null?(a(he,ae,le),a(Be,ae,le),N(ee.children,ae,Be,fe,ve,Ce,pe,ge)):me>0&&me&64&&Ae&&j.dynamicChildren?(O(j.dynamicChildren,Ae,ae,fe,ve,Ce,pe),(ee.key!=null||fe&&ee===fe.subTree)&&traverseStaticChildren(j,ee,!0)):ce(j,ee,ae,Be,fe,ve,Ce,pe,ge)},H=(j,ee,ae,le,fe,ve,Ce,pe,ge)=>{ee.slotScopeIds=pe,j==null?ee.shapeFlag&512?fe.ctx.activate(ee,ae,le,Ce,ge):G(ee,ae,le,fe,ve,Ce,ge):te(j,ee,ge)},G=(j,ee,ae,le,fe,ve,Ce)=>{const pe=j.component=createComponentInstance(j,le,fe);if(isKeepAlive(j)&&(pe.ctx.renderer=be),setupComponent(pe),pe.asyncDep){if(fe&&fe.registerDep(pe,Q),!j.el){const ge=pe.subTree=createVNode(Comment);B(null,ge,ee,ae)}return}Q(pe,j,ee,ae,fe,ve,Ce)},te=(j,ee,ae)=>{const le=ee.component=j.component;if(shouldUpdateComponent(j,ee,ae))if(le.asyncDep&&!le.asyncResolved){xe(le,ee,ae);return}else le.next=ee,invalidateJob(le.update),le.update();else ee.component=j.component,ee.el=j.el,le.vnode=ee},Q=(j,ee,ae,le,fe,ve,Ce)=>{const pe=()=>{if(j.isMounted){let{next:Be,bu:me,u:Ae,parent:Ee,vnode:_e}=j,we=Be,Re;toggleRecurse(j,!1),Be?(Be.el=_e.el,xe(j,Be,Ce)):Be=_e,me&&invokeArrayFns(me),(Re=Be.props&&Be.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Re,Ee,Be,_e),toggleRecurse(j,!0);const Ie=renderComponentRoot(j),Te=j.subTree;j.subTree=Ie,b(Te,Ie,x(Te.el),oe(Te),j,fe,ve),Be.el=Ie.el,we===null&&updateHOCHostEl(j,Ie.el),Ae&&queuePostRenderEffect(Ae,fe),(Re=Be.props&&Be.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Re,Ee,Be,_e),fe)}else{let Be;const{el:me,props:Ae}=ee,{bm:Ee,m:_e,parent:we}=j,Re=isAsyncWrapper(ee);if(toggleRecurse(j,!1),Ee&&invokeArrayFns(Ee),!Re&&(Be=Ae&&Ae.onVnodeBeforeMount)&&invokeVNodeHook(Be,we,ee),toggleRecurse(j,!0),me&&ye){const Ie=()=>{j.subTree=renderComponentRoot(j),ye(me,j.subTree,j,fe,null)};Re?ee.type.__asyncLoader().then(()=>!j.isUnmounted&&Ie()):Ie()}else{const Ie=j.subTree=renderComponentRoot(j);b(null,Ie,ae,le,j,fe,ve),ee.el=Ie.el}if(_e&&queuePostRenderEffect(_e,fe),!Re&&(Be=Ae&&Ae.onVnodeMounted)){const Ie=ee;queuePostRenderEffect(()=>invokeVNodeHook(Be,we,Ie),fe)}ee.shapeFlag&256&&j.a&&queuePostRenderEffect(j.a,fe),j.isMounted=!0,ee=ae=le=null}},ge=j.effect=new ReactiveEffect(pe,()=>queueJob(j.update),j.scope),he=j.update=ge.run.bind(ge);he.id=j.uid,toggleRecurse(j,!0),he()},xe=(j,ee,ae)=>{ee.component=j;const le=j.vnode.props;j.vnode=ee,j.next=null,updateProps(j,ee.props,le,ae),updateSlots(j,ee.children,ae),pauseTracking(),flushPreFlushCbs(void 0,j.update),resetTracking()},ce=(j,ee,ae,le,fe,ve,Ce,pe,ge=!1)=>{const he=j&&j.children,Be=j?j.shapeFlag:0,me=ee.children,{patchFlag:Ae,shapeFlag:Ee}=ee;if(Ae>0){if(Ae&128){W(he,me,ae,le,fe,ve,Ce,pe,ge);return}else if(Ae&256){de(he,me,ae,le,fe,ve,Ce,pe,ge);return}}Ee&8?(Be&16&&se(he,fe,ve),me!==he&&v(ae,me)):Be&16?Ee&16?W(he,me,ae,le,fe,ve,Ce,pe,ge):se(he,fe,ve,!0):(Be&8&&v(ae,""),Ee&16&&N(me,ae,le,fe,ve,Ce,pe,ge))},de=(j,ee,ae,le,fe,ve,Ce,pe,ge)=>{j=j||EMPTY_ARR,ee=ee||EMPTY_ARR;const he=j.length,Be=ee.length,me=Math.min(he,Be);let Ae;for(Ae=0;Ae<me;Ae++){const Ee=ee[Ae]=ge?cloneIfMounted(ee[Ae]):normalizeVNode(ee[Ae]);b(j[Ae],Ee,ae,null,fe,ve,Ce,pe,ge)}he>Be?se(j,fe,ve,!0,!1,me):N(ee,ae,le,fe,ve,Ce,pe,ge,me)},W=(j,ee,ae,le,fe,ve,Ce,pe,ge)=>{let he=0;const Be=ee.length;let me=j.length-1,Ae=Be-1;for(;he<=me&&he<=Ae;){const Ee=j[he],_e=ee[he]=ge?cloneIfMounted(ee[he]):normalizeVNode(ee[he]);if(isSameVNodeType(Ee,_e))b(Ee,_e,ae,null,fe,ve,Ce,pe,ge);else break;he++}for(;he<=me&&he<=Ae;){const Ee=j[me],_e=ee[Ae]=ge?cloneIfMounted(ee[Ae]):normalizeVNode(ee[Ae]);if(isSameVNodeType(Ee,_e))b(Ee,_e,ae,null,fe,ve,Ce,pe,ge);else break;me--,Ae--}if(he>me){if(he<=Ae){const Ee=Ae+1,_e=Ee<Be?ee[Ee].el:le;for(;he<=Ae;)b(null,ee[he]=ge?cloneIfMounted(ee[he]):normalizeVNode(ee[he]),ae,_e,fe,ve,Ce,pe,ge),he++}}else if(he>Ae)for(;he<=me;)q(j[he],fe,ve,!0),he++;else{const Ee=he,_e=he,we=new Map;for(he=_e;he<=Ae;he++){const Fe=ee[he]=ge?cloneIfMounted(ee[he]):normalizeVNode(ee[he]);Fe.key!=null&&we.set(Fe.key,he)}let Re,Ie=0;const Te=Ae-_e+1;let De=!1,Le=0;const ke=new Array(Te);for(he=0;he<Te;he++)ke[he]=0;for(he=Ee;he<=me;he++){const Fe=j[he];if(Ie>=Te){q(Fe,fe,ve,!0);continue}let Pe;if(Fe.key!=null)Pe=we.get(Fe.key);else for(Re=_e;Re<=Ae;Re++)if(ke[Re-_e]===0&&isSameVNodeType(Fe,ee[Re])){Pe=Re;break}Pe===void 0?q(Fe,fe,ve,!0):(ke[Pe-_e]=he+1,Pe>=Le?Le=Pe:De=!0,b(Fe,ee[Pe],ae,null,fe,ve,Ce,pe,ge),Ie++)}const Ke=De?getSequence(ke):EMPTY_ARR;for(Re=Ke.length-1,he=Te-1;he>=0;he--){const Fe=_e+he,Pe=ee[Fe],Oe=Fe+1<Be?ee[Fe+1].el:le;ke[he]===0?b(null,Pe,ae,Oe,fe,ve,Ce,pe,ge):De&&(Re<0||he!==Ke[Re]?re(Pe,ae,Oe,2):Re--)}}},re=(j,ee,ae,le,fe=null)=>{const{el:ve,type:Ce,transition:pe,children:ge,shapeFlag:he}=j;if(he&6){re(j.component.subTree,ee,ae,le);return}if(he&128){j.suspense.move(ee,ae,le);return}if(he&64){Ce.move(j,ee,ae,be);return}if(Ce===Fragment){a(ve,ee,ae);for(let me=0;me<ge.length;me++)re(ge[me],ee,ae,le);a(j.anchor,ee,ae);return}if(Ce===Static){F(j,ee,ae);return}if(le!==2&&he&1&&pe)if(le===0)pe.beforeEnter(ve),a(ve,ee,ae),queuePostRenderEffect(()=>pe.enter(ve),fe);else{const{leave:me,delayLeave:Ae,afterLeave:Ee}=pe,_e=()=>a(ve,ee,ae),we=()=>{me(ve,()=>{_e(),Ee&&Ee()})};Ae?Ae(ve,_e,we):we()}else a(ve,ee,ae)},q=(j,ee,ae,le=!1,fe=!1)=>{const{type:ve,props:Ce,ref:pe,children:ge,dynamicChildren:he,shapeFlag:Be,patchFlag:me,dirs:Ae}=j;if(pe!=null&&setRef(pe,null,ae,j,!0),Be&256){ee.ctx.deactivate(j);return}const Ee=Be&1&&Ae,_e=!isAsyncWrapper(j);let we;if(_e&&(we=Ce&&Ce.onVnodeBeforeUnmount)&&invokeVNodeHook(we,ee,j),Be&6)ue(j.component,ae,le);else{if(Be&128){j.suspense.unmount(ae,le);return}Ee&&invokeDirectiveHook(j,null,ee,"beforeUnmount"),Be&64?j.type.remove(j,ee,ae,fe,be,le):he&&(ve!==Fragment||me>0&&me&64)?se(he,ee,ae,!1,!0):(ve===Fragment&&me&384||!fe&&Be&16)&&se(ge,ee,ae),le&&ie(j)}(_e&&(we=Ce&&Ce.onVnodeUnmounted)||Ee)&&queuePostRenderEffect(()=>{we&&invokeVNodeHook(we,ee,j),Ee&&invokeDirectiveHook(j,null,ee,"unmounted")},ae)},ie=j=>{const{type:ee,el:ae,anchor:le,transition:fe}=j;if(ee===Fragment){ne(ae,le);return}if(ee===Static){U(j);return}const ve=()=>{o(ae),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(j.shapeFlag&1&&fe&&!fe.persisted){const{leave:Ce,delayLeave:pe}=fe,ge=()=>Ce(ae,ve);pe?pe(j.el,ve,ge):ge()}else ve()},ne=(j,ee)=>{let ae;for(;j!==ee;)ae=m(j),o(j),j=ae;o(ee)},ue=(j,ee,ae)=>{const{bum:le,scope:fe,update:ve,subTree:Ce,um:pe}=j;le&&invokeArrayFns(le),fe.stop(),ve&&(ve.active=!1,q(Ce,j,ee,ae)),pe&&queuePostRenderEffect(pe,ee),queuePostRenderEffect(()=>{j.isUnmounted=!0},ee),ee&&ee.pendingBranch&&!ee.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===ee.pendingId&&(ee.deps--,ee.deps===0&&ee.resolve())},se=(j,ee,ae,le=!1,fe=!1,ve=0)=>{for(let Ce=ve;Ce<j.length;Ce++)q(j[Ce],ee,ae,le,fe)},oe=j=>j.shapeFlag&6?oe(j.component.subTree):j.shapeFlag&128?j.suspense.next():m(j.anchor||j.el),Se=(j,ee,ae)=>{j==null?ee._vnode&&q(ee._vnode,null,null,!0):b(ee._vnode||null,j,ee,null,null,null,ae),flushPostFlushCbs(),ee._vnode=j},be={p:b,um:q,m:re,r:ie,mt:G,mc:N,pc:ce,pbc:O,n:oe,o:e};let $e,ye;return r&&([$e,ye]=r(be)),{render:Se,hydrate:$e,createApp:createAppAPI(Se,$e)}}function toggleRecurse({effect:e,update:r},n){e.allowRecurse=r.allowRecurse=n}function traverseStaticChildren(e,r,n=!1){const a=e.children,o=r.children;if(isArray$1(a)&&isArray$1(o))for(let u=0;u<a.length;u++){const l=a[u];let c=o[u];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[u]=cloneIfMounted(o[u]),c.el=l.el),n||traverseStaticChildren(l,c))}}function getSequence(e){const r=e.slice(),n=[0];let a,o,u,l,c;const g=e.length;for(a=0;a<g;a++){const d=e[a];if(d!==0){if(o=n[n.length-1],e[o]<d){r[a]=o,n.push(a);continue}for(u=0,l=n.length-1;u<l;)c=u+l>>1,e[n[c]]<d?u=c+1:l=c;d<e[n[u]]&&(u>0&&(r[a]=n[u-1]),n[u]=a)}}for(u=n.length,l=n[u-1];u-- >0;)n[u]=l,l=r[l];return n}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTargetSVG=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,resolveTarget=(e,r)=>{const n=e&&e.to;return isString$1(n)?r?r(n):null:n},TeleportImpl={__isTeleport:!0,process(e,r,n,a,o,u,l,c,g,d){const{mc:v,pc:x,pbc:m,o:{insert:E,querySelector:y,createText:C,createComment:b}}=d,$=isTeleportDisabled(r.props);let{shapeFlag:B,children:w,dynamicChildren:F}=r;if(e==null){const U=r.el=C(""),_=r.anchor=C("");E(U,n,a),E(_,n,a);const T=r.target=resolveTarget(r.props,y),k=r.targetAnchor=C("");T&&(E(k,T),l=l||isTargetSVG(T));const N=(K,O)=>{B&16&&v(w,K,O,o,u,l,c,g)};$?N(n,_):T&&N(T,k)}else{r.el=e.el;const U=r.anchor=e.anchor,_=r.target=e.target,T=r.targetAnchor=e.targetAnchor,k=isTeleportDisabled(e.props),N=k?n:_,K=k?U:T;if(l=l||isTargetSVG(_),F?(m(e.dynamicChildren,F,N,o,u,l,c),traverseStaticChildren(e,r,!0)):g||x(e,r,N,K,o,u,l,c,!1),$)k||moveTeleport(r,n,U,d,1);else if((r.props&&r.props.to)!==(e.props&&e.props.to)){const O=r.target=resolveTarget(r.props,y);O&&moveTeleport(r,O,null,d,0)}else k&&moveTeleport(r,_,T,d,1)}},remove(e,r,n,a,{um:o,o:{remove:u}},l){const{shapeFlag:c,children:g,anchor:d,targetAnchor:v,target:x,props:m}=e;if(x&&u(v),(l||!isTeleportDisabled(m))&&(u(d),c&16))for(let E=0;E<g.length;E++){const y=g[E];o(y,r,n,!0,!!y.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,r,n,{o:{insert:a},m:o},u=2){u===0&&a(e.targetAnchor,r,n);const{el:l,anchor:c,shapeFlag:g,children:d,props:v}=e,x=u===2;if(x&&a(l,r,n),(!x||isTeleportDisabled(v))&&g&16)for(let m=0;m<d.length;m++)o(d[m],r,n,2);x&&a(c,r,n)}function hydrateTeleport(e,r,n,a,o,u,{o:{nextSibling:l,parentNode:c,querySelector:g}},d){const v=r.target=resolveTarget(r.props,g);if(v){const x=v._lpa||v.firstChild;r.shapeFlag&16&&(isTeleportDisabled(r.props)?(r.anchor=d(l(e),r,c(e),n,a,o,u),r.targetAnchor=x):(r.anchor=l(e),r.targetAnchor=d(x,r,v,n,a,o,u)),v._lpa=r.targetAnchor&&l(r.targetAnchor))}return r.anchor&&l(r.anchor)}const Teleport=TeleportImpl,COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,r){return resolveAsset(COMPONENTS,e,!0,r)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,r,n=!0,a=!1){const o=currentRenderingInstance||currentInstance;if(o){const u=o.type;if(e===COMPONENTS){const c=getComponentName(u);if(c&&(c===r||c===camelize$1(r)||c===capitalize(camelize$1(r))))return u}const l=resolve(o[e]||u[e],r)||resolve(o.appContext[e],r);return!l&&a?u:l}}function resolve(e,r){return e&&(e[r]||e[camelize$1(r)]||e[capitalize(camelize$1(r))])}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,r,n,a,o,u){return setupBlock(createBaseVNode(e,r,n,a,o,u,!0))}function createBlock(e,r,n,a,o){return setupBlock(createVNode(e,r,n,a,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,r){return e.type===r.type&&e.key===r.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e!=null?e:null,normalizeRef=({ref:e,ref_key:r,ref_for:n})=>e!=null?isString$1(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:r,f:!!n}:e:null;function createBaseVNode(e,r=null,n=null,a=0,o=null,u=e===Fragment?0:1,l=!1,c=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:a,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(normalizeChildren(g,n),u&128&&e.normalize(g)):n&&(g.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(g.patchFlag>0||u&6)&&g.patchFlag!==32&&currentBlock.push(g),g}const createVNode=_createVNode;function _createVNode(e,r=null,n=null,a=0,o=null,u=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const c=cloneVNode(e,r,!0);return n&&normalizeChildren(c,n),c}if(isClassComponent(e)&&(e=e.__vccOpts),r){r=guardReactiveProps(r);let{class:c,style:g}=r;c&&!isString$1(c)&&(r.class=normalizeClass(c)),isObject$2(g)&&(isProxy(g)&&!isArray$1(g)&&(g=extend$2({},g)),r.style=normalizeStyle(g))}const l=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$2(e)?2:0;return createBaseVNode(e,r,n,a,o,l,u,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$2({},e):e:null}function cloneVNode(e,r,n=!1){const{props:a,ref:o,patchFlag:u,children:l}=e,c=r?mergeProps(a||{},r):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&normalizeKey(c),ref:r&&r.ref?n&&o?isArray$1(o)?o.concat(normalizeRef(r)):[o,normalizeRef(r)]:normalizeRef(r):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:r&&e.type!==Fragment?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor}}function createTextVNode(e=" ",r=0){return createVNode(Text,null,e,r)}function createCommentVNode(e="",r=!1){return r?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null||e.memo?e:cloneVNode(e)}function normalizeChildren(e,r){let n=0;const{shapeFlag:a}=e;if(r==null)r=null;else if(isArray$1(r))n=16;else if(typeof r=="object")if(a&65){const o=r.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=r._;!o&&!(InternalObjectKey in r)?r._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?r._=1:(r._=2,e.patchFlag|=1024))}else isFunction$2(r)?(r={default:r,_ctx:currentRenderingInstance},n=32):(r=String(r),a&64?(n=16,r=[createTextVNode(r)]):n=8);e.children=r,e.shapeFlag|=n}function mergeProps(...e){const r={};for(let n=0;n<e.length;n++){const a=e[n];for(const o in a)if(o==="class")r.class!==a.class&&(r.class=normalizeClass([r.class,a.class]));else if(o==="style")r.style=normalizeStyle([r.style,a.style]);else if(isOn(o)){const u=r[o],l=a[o];l&&u!==l&&!(isArray$1(u)&&u.includes(l))&&(r[o]=u?[].concat(u,l):l)}else o!==""&&(r[o]=a[o])}return r}function invokeVNodeHook(e,r,n,a=null){callWithAsyncErrorHandling(e,r,7,[n,a])}function renderList(e,r,n,a){let o;const u=n&&n[a];if(isArray$1(e)||isString$1(e)){o=new Array(e.length);for(let l=0,c=e.length;l<c;l++)o[l]=r(e[l],l,void 0,u&&u[l])}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=r(l+1,l,void 0,u&&u[l])}else if(isObject$2(e))if(e[Symbol.iterator])o=Array.from(e,(l,c)=>r(l,c,void 0,u&&u[c]));else{const l=Object.keys(e);o=new Array(l.length);for(let c=0,g=l.length;c<g;c++){const d=l[c];o[c]=r(e[d],d,c,u&&u[c])}}else o=[];return n&&(n[a]=o),o}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>()=>queueJob(e.update),$nextTick:e=>nextTick.bind(e.proxy),$watch:e=>instanceWatch.bind(e)}),PublicInstanceProxyHandlers={get({_:e},r){const{ctx:n,setupState:a,data:o,props:u,accessCache:l,type:c,appContext:g}=e;let d;if(r[0]!=="$"){const E=l[r];if(E!==void 0)switch(E){case 1:return a[r];case 2:return o[r];case 4:return n[r];case 3:return u[r]}else{if(a!==EMPTY_OBJ&&hasOwn(a,r))return l[r]=1,a[r];if(o!==EMPTY_OBJ&&hasOwn(o,r))return l[r]=2,o[r];if((d=e.propsOptions[0])&&hasOwn(d,r))return l[r]=3,u[r];if(n!==EMPTY_OBJ&&hasOwn(n,r))return l[r]=4,n[r];shouldCacheAccess&&(l[r]=0)}}const v=publicPropertiesMap[r];let x,m;if(v)return r==="$attrs"&&track(e,"get",r),v(e);if((x=c.__cssModules)&&(x=x[r]))return x;if(n!==EMPTY_OBJ&&hasOwn(n,r))return l[r]=4,n[r];if(m=g.config.globalProperties,hasOwn(m,r))return m[r]},set({_:e},r,n){const{data:a,setupState:o,ctx:u}=e;return o!==EMPTY_OBJ&&hasOwn(o,r)?(o[r]=n,!0):a!==EMPTY_OBJ&&hasOwn(a,r)?(a[r]=n,!0):hasOwn(e.props,r)||r[0]==="$"&&r.slice(1)in e?!1:(u[r]=n,!0)},has({_:{data:e,setupState:r,accessCache:n,ctx:a,appContext:o,propsOptions:u}},l){let c;return!!n[l]||e!==EMPTY_OBJ&&hasOwn(e,l)||r!==EMPTY_OBJ&&hasOwn(r,l)||(c=u[0])&&hasOwn(c,l)||hasOwn(a,l)||hasOwn(publicPropertiesMap,l)||hasOwn(o.config.globalProperties,l)},defineProperty(e,r,n){return n.get!=null?e.$.accessCache[r]=0:hasOwn(n,"value")&&this.set(e,r,n.value,null),Reflect.defineProperty(e,r,n)}},emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,r,n){const a=e.type,o=(r?r.appContext:e.appContext)||emptyAppContext,u={uid:uid$1++,vnode:e,type:a,parent:r,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(a,o),emitsOptions:normalizeEmitsOptions(a,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:a.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=r?r.root:u,u.emit=emit$1.bind(null,u),e.ce&&e.ce(u),u}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,r=!1){isInSSRComponentSetup=r;const{props:n,children:a}=e.vnode,o=isStatefulComponent(e);initProps(e,n,o,r),initSlots(e,a);const u=o?setupStatefulComponent(e,r):void 0;return isInSSRComponentSetup=!1,u}function setupStatefulComponent(e,r){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:a}=n;if(a){const o=e.setupContext=a.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const u=callWithErrorHandling(a,e,0,[e.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(u)){if(u.then(unsetCurrentInstance,unsetCurrentInstance),r)return u.then(l=>{handleSetupResult(e,l,r)}).catch(l=>{handleError$1(l,e,0)});e.asyncDep=u}else handleSetupResult(e,u,r)}else finishComponentSetup(e,r)}function handleSetupResult(e,r,n){isFunction$2(r)?e.type.__ssrInlineRender?e.ssrRender=r:e.render=r:isObject$2(r)&&(e.setupState=proxyRefs(r)),finishComponentSetup(e,n)}let compile;function finishComponentSetup(e,r,n){const a=e.type;if(!e.render){if(!r&&compile&&!a.render){const o=a.template;if(o){const{isCustomElement:u,compilerOptions:l}=e.appContext.config,{delimiters:c,compilerOptions:g}=a,d=extend$2(extend$2({isCustomElement:u,delimiters:c},l),g);a.render=compile(o,d)}}e.render=a.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(r,n){return track(e,"get","$attrs"),r[n]}})}function createSetupContext(e){const r=a=>{e.exposed=a||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:r}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(r,n){if(n in r)return r[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)}}))}function getComponentName(e){return isFunction$2(e)&&e.displayName||e.name}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,r)=>computed$1(e,r,isInSSRComponentSetup);function h(e,r,n){const a=arguments.length;return a===2?isObject$2(r)&&!isArray$1(r)?isVNode(r)?createVNode(e,null,[r]):createVNode(e,r):createVNode(e,null,r):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&isVNode(n)&&(n=[n]),createVNode(e,r,n))}const version="3.2.32",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,r,n)=>{r.insertBefore(e,n||null)},remove:e=>{const r=e.parentNode;r&&r.removeChild(e)},createElement:(e,r,n,a)=>{const o=r?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&a&&a.multiple!=null&&o.setAttribute("multiple",a.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,r)=>{e.nodeValue=r},setElementText:(e,r)=>{e.textContent=r},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,r){e.setAttribute(r,"")},cloneNode(e){const r=e.cloneNode(!0);return"_value"in e&&(r._value=e._value),r},insertStaticContent(e,r,n,a,o,u){const l=n?n.previousSibling:r.lastChild;if(o&&(o===u||o.nextSibling))for(;r.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{templateContainer.innerHTML=a?`<svg>${e}</svg>`:e;const c=templateContainer.content;if(a){const g=c.firstChild;for(;g.firstChild;)c.appendChild(g.firstChild);c.removeChild(g)}r.insertBefore(c,n)}return[l?l.nextSibling:r.firstChild,n?n.previousSibling:r.lastChild]}};function patchClass(e,r,n){const a=e._vtc;a&&(r=(r?[r,...a]:[...a]).join(" ")),r==null?e.removeAttribute("class"):n?e.setAttribute("class",r):e.className=r}function patchStyle(e,r,n){const a=e.style,o=isString$1(n);if(n&&!o){for(const u in n)setStyle(a,u,n[u]);if(r&&!isString$1(r))for(const u in r)n[u]==null&&setStyle(a,u,"")}else{const u=a.display;o?r!==n&&(a.cssText=n):r&&e.removeAttribute("style"),"_vod"in e&&(a.display=u)}}const importantRE=/\s*!important$/;function setStyle(e,r,n){if(isArray$1(n))n.forEach(a=>setStyle(e,r,a));else if(r.startsWith("--"))e.setProperty(r,n);else{const a=autoPrefix(e,r);importantRE.test(n)?e.setProperty(hyphenate(a),n.replace(importantRE,""),"important"):e[a]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,r){const n=prefixCache[r];if(n)return n;let a=camelize$1(r);if(a!=="filter"&&a in e)return prefixCache[r]=a;a=capitalize(a);for(let o=0;o<prefixes.length;o++){const u=prefixes[o]+a;if(u in e)return prefixCache[r]=u}return r}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,r,n,a,o){if(a&&r.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,r.slice(6,r.length)):e.setAttributeNS(xlinkNS,r,n);else{const u=isSpecialBooleanAttr(r);n==null||u&&!includeBooleanAttr(n)?e.removeAttribute(r):e.setAttribute(r,u?"":n)}}function patchDOMProp(e,r,n,a,o,u,l){if(r==="innerHTML"||r==="textContent"){a&&l(a,o,u),e[r]=n==null?"":n;return}if(r==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n==null?"":n;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(r);return}if(n===""||n==null){const c=typeof e[r];if(c==="boolean"){e[r]=includeBooleanAttr(n);return}else if(n==null&&c==="string"){e[r]="",e.removeAttribute(r);return}else if(c==="number"){try{e[r]=0}catch{}e.removeAttribute(r);return}}try{e[r]=n}catch{}}let _getNow=Date.now,skipTimestampCheck=!1;if(typeof window!="undefined"){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(e&&Number(e[1])<=53)}let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener(e,r,n,a){e.addEventListener(r,n,a)}function removeEventListener(e,r,n,a){e.removeEventListener(r,n,a)}function patchEvent(e,r,n,a,o=null){const u=e._vei||(e._vei={}),l=u[r];if(a&&l)l.value=a;else{const[c,g]=parseName(r);if(a){const d=u[r]=createInvoker(a,o);addEventListener(e,c,d,g)}else l&&(removeEventListener(e,c,l,g),u[r]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let r;if(optionsModifierRE.test(e)){r={};let n;for(;n=e.match(optionsModifierRE);)e=e.slice(0,e.length-n[0].length),r[n[0].toLowerCase()]=!0}return[hyphenate(e.slice(2)),r]}function createInvoker(e,r){const n=a=>{const o=a.timeStamp||_getNow();(skipTimestampCheck||o>=n.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(a,n.value),r,5,[a])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,r){if(isArray$1(r)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},r.map(a=>o=>!o._stopped&&a&&a(o))}else return r}const nativeOnRE=/^on[a-z]/,patchProp=(e,r,n,a,o=!1,u,l,c,g)=>{r==="class"?patchClass(e,a,o):r==="style"?patchStyle(e,n,a):isOn(r)?isModelListener(r)||patchEvent(e,r,n,a,l):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):shouldSetAsProp(e,r,a,o))?patchDOMProp(e,r,a,u,l,c,g):(r==="true-value"?e._trueValue=a:r==="false-value"&&(e._falseValue=a),patchAttr(e,r,a,o))};function shouldSetAsProp(e,r,n,a){return a?!!(r==="innerHTML"||r==="textContent"||r in e&&nativeOnRE.test(r)&&isFunction$2(n)):r==="spellcheck"||r==="draggable"||r==="form"||r==="list"&&e.tagName==="INPUT"||r==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(r)&&isString$1(n)?!1:r in e}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:r})=>h(BaseTransition,resolveTransitionProps(e),r);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$2({},BaseTransition.props,DOMTransitionPropsValidators);const callHook=(e,r=[])=>{isArray$1(e)?e.forEach(n=>n(...r)):e&&e(...r)},hasExplicitCallback=e=>e?isArray$1(e)?e.some(r=>r.length>1):e.length>1:!1;function resolveTransitionProps(e){const r={};for(const V in e)V in DOMTransitionPropsValidators||(r[V]=e[V]);if(e.css===!1)return r;const{name:n="v",type:a,duration:o,enterFromClass:u=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:g=u,appearActiveClass:d=l,appearToClass:v=c,leaveFromClass:x=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=e,y=normalizeDuration(o),C=y&&y[0],b=y&&y[1],{onBeforeEnter:$,onEnter:B,onEnterCancelled:w,onLeave:F,onLeaveCancelled:U,onBeforeAppear:_=$,onAppear:T=B,onAppearCancelled:k=w}=r,N=(V,J,H)=>{removeTransitionClass(V,J?v:c),removeTransitionClass(V,J?d:l),H&&H()},K=(V,J)=>{removeTransitionClass(V,E),removeTransitionClass(V,m),J&&J()},O=V=>(J,H)=>{const G=V?T:B,te=()=>N(J,V,H);callHook(G,[J,te]),nextFrame(()=>{removeTransitionClass(J,V?g:u),addTransitionClass(J,V?v:c),hasExplicitCallback(G)||whenTransitionEnds(J,a,C,te)})};return extend$2(r,{onBeforeEnter(V){callHook($,[V]),addTransitionClass(V,u),addTransitionClass(V,l)},onBeforeAppear(V){callHook(_,[V]),addTransitionClass(V,g),addTransitionClass(V,d)},onEnter:O(!1),onAppear:O(!0),onLeave(V,J){const H=()=>K(V,J);addTransitionClass(V,x),forceReflow(),addTransitionClass(V,m),nextFrame(()=>{removeTransitionClass(V,x),addTransitionClass(V,E),hasExplicitCallback(F)||whenTransitionEnds(V,a,b,H)}),callHook(F,[V,H])},onEnterCancelled(V){N(V,!1),callHook(w,[V])},onAppearCancelled(V){N(V,!0),callHook(k,[V])},onLeaveCancelled(V){K(V),callHook(U,[V])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$2(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const r=NumberOf(e);return[r,r]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,r){r.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(r)}function removeTransitionClass(e,r){r.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const{_vtc:n}=e;n&&(n.delete(r),n.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,r,n,a){const o=e._endId=++endId,u=()=>{o===e._endId&&a()};if(n)return setTimeout(u,n);const{type:l,timeout:c,propCount:g}=getTransitionInfo(e,r);if(!l)return a();const d=l+"end";let v=0;const x=()=>{e.removeEventListener(d,m),u()},m=E=>{E.target===e&&++v>=g&&x()};setTimeout(()=>{v<g&&x()},c+1),e.addEventListener(d,m)}function getTransitionInfo(e,r){const n=window.getComputedStyle(e),a=y=>(n[y]||"").split(", "),o=a(TRANSITION+"Delay"),u=a(TRANSITION+"Duration"),l=getTimeout(o,u),c=a(ANIMATION+"Delay"),g=a(ANIMATION+"Duration"),d=getTimeout(c,g);let v=null,x=0,m=0;r===TRANSITION?l>0&&(v=TRANSITION,x=l,m=u.length):r===ANIMATION?d>0&&(v=ANIMATION,x=d,m=g.length):(x=Math.max(l,d),v=x>0?l>d?TRANSITION:ANIMATION:null,m=v?v===TRANSITION?u.length:g.length:0);const E=v===TRANSITION&&/\b(transform|all)(,|$)/.test(n[TRANSITION+"Property"]);return{type:v,timeout:x,propCount:m,hasTransform:E}}function getTimeout(e,r){for(;e.length<r.length;)e=e.concat(e);return Math.max(...r.map((n,a)=>toMs(n)+toMs(e[a])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,r)=>n=>{if(!("key"in n))return;const a=hyphenate(n.key);if(r.some(o=>o===a||keyNames[o]===a))return e(n)},vShow={beforeMount(e,{value:r},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&r?n.beforeEnter(e):setDisplay(e,r)},mounted(e,{value:r},{transition:n}){n&&r&&n.enter(e)},updated(e,{value:r,oldValue:n},{transition:a}){!r!=!n&&(a?r?(a.beforeEnter(e),setDisplay(e,!0),a.enter(e)):a.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,r))},beforeUnmount(e,{value:r}){setDisplay(e,r)}};function setDisplay(e,r){e.style.display=r?e._vod:"none"}const rendererOptions=extend$2({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const r=ensureRenderer().createApp(...e),{mount:n}=r;return r.mount=a=>{const o=normalizeContainer(a);if(!o)return;const u=r._component;!isFunction$2(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const l=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},r};function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}var isVue2=!1;/*!
  * pinia v2.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject$1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),r=e.run(()=>ref({}));let n=[],a=[];const o=markRaw({install(u){setActivePinia(o),o._a=u,u.provide(piniaSymbol,o),u.config.globalProperties.$pinia=o,a.forEach(l=>n.push(l)),a=[]},use(u){return!this._a&&!isVue2?a.push(u):n.push(u),this},_p:n,_a:null,_e:e,_s:new Map,state:r});return o}const noop$2=()=>{};function addSubscription(e,r,n,a=noop$2){e.push(r);const o=()=>{const u=e.indexOf(r);u>-1&&(e.splice(u,1),a())};return!n&&getCurrentInstance()&&onUnmounted(o),o}function triggerSubscriptions(e,...r){e.slice().forEach(n=>{n(...r)})}function mergeReactiveObjects(e,r){for(const n in r){if(!r.hasOwnProperty(n))continue;const a=r[n],o=e[n];isPlainObject$1(o)&&isPlainObject$1(a)&&e.hasOwnProperty(n)&&!isRef(a)&&!isReactive(a)?e[n]=mergeReactiveObjects(o,a):e[n]=a}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject$1(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,r,n,a){const{state:o,actions:u,getters:l}=r,c=n.state.value[e];let g;function d(){c||(n.state.value[e]=o?o():{});const v=toRefs(n.state.value[e]);return assign$1(v,u,Object.keys(l||{}).reduce((x,m)=>(x[m]=markRaw(computed(()=>{setActivePinia(n);const E=n._s.get(e);return l[m].call(E,E)})),x),{}))}return g=createSetupStore(e,d,r,n),g.$reset=function(){const x=o?o():{};this.$patch(m=>{assign$1(m,x)})},g}function createSetupStore(e,r,n={},a,o){let u;const l=n.state,c=assign$1({actions:{}},n),g={deep:!0};let d,v,x=markRaw([]),m=markRaw([]),E;const y=a.state.value[e];!l&&!y&&(a.state.value[e]={}),ref({});function C(_){let T;d=v=!1,typeof _=="function"?(_(a.state.value[e]),T={type:MutationType.patchFunction,storeId:e,events:E}):(mergeReactiveObjects(a.state.value[e],_),T={type:MutationType.patchObject,payload:_,storeId:e,events:E}),nextTick().then(()=>{d=!0}),v=!0,triggerSubscriptions(x,T,a.state.value[e])}const b=noop$2;function $(){u.stop(),x=[],m=[],a._s.delete(e)}function B(_,T){return function(){setActivePinia(a);const k=Array.from(arguments),N=[],K=[];function O(H){N.push(H)}function V(H){K.push(H)}triggerSubscriptions(m,{args:k,name:_,store:F,after:O,onError:V});let J;try{J=T.apply(this&&this.$id===e?this:F,k)}catch(H){throw triggerSubscriptions(K,H),H}return J instanceof Promise?J.then(H=>(triggerSubscriptions(N,H),H)).catch(H=>(triggerSubscriptions(K,H),Promise.reject(H))):(triggerSubscriptions(N,J),J)}}const w={_p:a,$id:e,$onAction:addSubscription.bind(null,m),$patch:C,$reset:b,$subscribe(_,T={}){const k=addSubscription(x,_,T.detached,()=>N()),N=u.run(()=>watch(()=>a.state.value[e],K=>{(T.flush==="sync"?v:d)&&_({storeId:e,type:MutationType.direct,events:E},K)},assign$1({},g,T)));return k},$dispose:$},F=reactive(assign$1({},w));a._s.set(e,F);const U=a._e.run(()=>(u=effectScope(),u.run(()=>r())));for(const _ in U){const T=U[_];if(isRef(T)&&!isComputed(T)||isReactive(T))l||(y&&shouldHydrate(T)&&(isRef(T)?T.value=y[_]:mergeReactiveObjects(T,y[_])),a.state.value[e][_]=T);else if(typeof T=="function"){const k=B(_,T);U[_]=k,c.actions[_]=T}}return assign$1(F,U),assign$1(toRaw(F),U),Object.defineProperty(F,"$state",{get:()=>a.state.value[e],set:_=>{C(T=>{assign$1(T,_)})}}),a._p.forEach(_=>{assign$1(F,u.run(()=>_({store:F,app:a._a,pinia:a,options:c})))}),y&&l&&n.hydrate&&n.hydrate(F.$state,y),d=!0,v=!0,F}function defineStore(e,r,n){let a,o;const u=typeof r=="function";typeof e=="string"?(a=e,o=u?n:r):(o=e,a=e.id);function l(c,g){const d=getCurrentInstance();return c=c||d&&inject(piniaSymbol),c&&setActivePinia(c),c=activePinia,c._s.has(a)||(u?createSetupStore(a,r,o,c):createOptionsStore(a,o,c)),c._s.get(a)}return l.$id=a,l}/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",PolySymbol=e=>hasSymbol?Symbol(e):"_vr_"+e,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser=typeof window!="undefined";function isESModule(e){return e.__esModule||hasSymbol&&e[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(e,r){const n={};for(const a in r){const o=r[a];n[a]=Array.isArray(o)?o.map(e):e(o)}return n}const noop$1=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,r,n="/"){let a,o={},u="",l="";const c=r.indexOf("?"),g=r.indexOf("#",c>-1?c:0);return c>-1&&(a=r.slice(0,c),u=r.slice(c+1,g>-1?g:r.length),o=e(u)),g>-1&&(a=a||r.slice(0,g),l=r.slice(g,r.length)),a=resolveRelativePath(a!=null?a:r,n),{fullPath:a+(u&&"?")+u+l,path:a,query:o,hash:l}}function stringifyURL(e,r){const n=r.query?e(r.query):"";return r.path+(n&&"?")+n+(r.hash||"")}function stripBase(e,r){return!r||!e.toLowerCase().startsWith(r.toLowerCase())?e:e.slice(r.length)||"/"}function isSameRouteLocation(e,r,n){const a=r.matched.length-1,o=n.matched.length-1;return a>-1&&a===o&&isSameRouteRecord(r.matched[a],n.matched[o])&&isSameRouteLocationParams(r.params,n.params)&&e(r.query)===e(n.query)&&r.hash===n.hash}function isSameRouteRecord(e,r){return(e.aliasOf||e)===(r.aliasOf||r)}function isSameRouteLocationParams(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(!isSameRouteLocationParamsValue(e[n],r[n]))return!1;return!0}function isSameRouteLocationParamsValue(e,r){return Array.isArray(e)?isEquivalentArray(e,r):Array.isArray(r)?isEquivalentArray(r,e):e===r}function isEquivalentArray(e,r){return Array.isArray(r)?e.length===r.length&&e.every((n,a)=>n===r[a]):e.length===1&&e[0]===r}function resolveRelativePath(e,r){if(e.startsWith("/"))return e;if(!e)return r;const n=r.split("/"),a=e.split("/");let o=n.length-1,u,l;for(u=0;u<a.length;u++)if(l=a[u],!(o===1||l==="."))if(l==="..")o--;else break;return n.slice(0,o).join("/")+"/"+a.slice(u-(u===a.length?1:0)).join("/")}var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser){const r=document.querySelector("base");e=r&&r.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,r){return e.replace(BEFORE_HASH_RE,"#")+r}function getElementPosition(e,r){const n=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:r.behavior,left:a.left-n.left-(r.left||0),top:a.top-n.top-(r.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let r;if("el"in e){const n=e.el,a=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?a?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;r=getElementPosition(o,e)}else r=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function getScrollKey(e,r){return(history.state?history.state.position-r:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,r){scrollPositions.set(e,r)}function getSavedScrollPosition(e){const r=scrollPositions.get(e);return scrollPositions.delete(e),r}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,r){const{pathname:n,search:a,hash:o}=r,u=e.indexOf("#");if(u>-1){let c=o.includes(e.slice(u))?e.slice(u).length:1,g=o.slice(c);return g[0]!=="/"&&(g="/"+g),stripBase(g,"")}return stripBase(n,e)+a+o}function useHistoryListeners(e,r,n,a){let o=[],u=[],l=null;const c=({state:m})=>{const E=createCurrentLocation(e,location),y=n.value,C=r.value;let b=0;if(m){if(n.value=E,r.value=m,l&&l===y){l=null;return}b=C?m.position-C.position:0}else a(E);o.forEach($=>{$(n.value,y,{delta:b,type:NavigationType.pop,direction:b?b>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function g(){l=n.value}function d(m){o.push(m);const E=()=>{const y=o.indexOf(m);y>-1&&o.splice(y,1)};return u.push(E),E}function v(){const{history:m}=window;!m.state||m.replaceState(assign({},m.state,{scroll:computeScrollPosition()}),"")}function x(){for(const m of u)m();u=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",v),{pauseListeners:g,listen:d,destroy:x}}function buildState(e,r,n,a=!1,o=!1){return{back:e,current:r,forward:n,replaced:a,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:r,location:n}=window,a={value:createCurrentLocation(e,n)},o={value:r.state};o.value||u(a.value,{back:null,current:a.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function u(g,d,v){const x=e.indexOf("#"),m=x>-1?(n.host&&document.querySelector("base")?e:e.slice(x))+g:createBaseLocation()+e+g;try{r[v?"replaceState":"pushState"](d,"",m),o.value=d}catch(E){console.error(E),n[v?"replace":"assign"](m)}}function l(g,d){const v=assign({},r.state,buildState(o.value.back,g,o.value.forward,!0),d,{position:o.value.position});u(g,v,!0),a.value=g}function c(g,d){const v=assign({},o.value,r.state,{forward:g,scroll:computeScrollPosition()});u(v.current,v,!0);const x=assign({},buildState(a.value,g,null),{position:v.position+1},d);u(g,x,!1),a.value=g}return{location:a,state:o,push:c,replace:l}}function createWebHistory(e){e=normalizeBase(e);const r=useHistoryStateNavigation(e),n=useHistoryListeners(e,r.state,r.location,r.replace);function a(u,l=!0){l||n.pauseListeners(),history.go(u)}const o=assign({location:"",base:e,go:a,createHref:createHref.bind(null,e)},r,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>r.state.value}),o}function createWebHashHistory(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),createWebHistory(e)}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,r){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},r)}function isNavigationFailure(e,r){return e instanceof Error&&NavigationFailureSymbol in e&&(r==null||!!(e.type&r))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,r){const n=assign({},BASE_PATH_PARSER_OPTIONS,r),a=[];let o=n.start?"^":"";const u=[];for(const d of e){const v=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let x=0;x<d.length;x++){const m=d[x];let E=40+(n.sensitive?.25:0);if(m.type===0)x||(o+="/"),o+=m.value.replace(REGEX_CHARS_RE,"\\$&"),E+=40;else if(m.type===1){const{value:y,repeatable:C,optional:b,regexp:$}=m;u.push({name:y,repeatable:C,optional:b});const B=$||BASE_PARAM_PATTERN;if(B!==BASE_PARAM_PATTERN){E+=10;try{new RegExp(`(${B})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${y}" (${B}): `+F.message)}}let w=C?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;x||(w=b&&d.length<2?`(?:/${w})`:"/"+w),b&&(w+="?"),o+=w,E+=20,b&&(E+=-8),C&&(E+=-20),B===".*"&&(E+=-50)}v.push(E)}a.push(v)}if(n.strict&&n.end){const d=a.length-1;a[d][a[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const l=new RegExp(o,n.sensitive?"":"i");function c(d){const v=d.match(l),x={};if(!v)return null;for(let m=1;m<v.length;m++){const E=v[m]||"",y=u[m-1];x[y.name]=E&&y.repeatable?E.split("/"):E}return x}function g(d){let v="",x=!1;for(const m of e){(!x||!v.endsWith("/"))&&(v+="/"),x=!1;for(const E of m)if(E.type===0)v+=E.value;else if(E.type===1){const{value:y,repeatable:C,optional:b}=E,$=y in d?d[y]:"";if(Array.isArray($)&&!C)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const B=Array.isArray($)?$.join("/"):$;if(!B)if(b)m.length<2&&(v.endsWith("/")?v=v.slice(0,-1):x=!0);else throw new Error(`Missing required param "${y}"`);v+=B}}return v}return{re:l,score:a,keys:u,parse:c,stringify:g}}function compareScoreArray(e,r){let n=0;for(;n<e.length&&n<r.length;){const a=r[n]-e[n];if(a)return a;n++}return e.length<r.length?e.length===1&&e[0]===40+40?-1:1:e.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function comparePathParserScore(e,r){let n=0;const a=e.score,o=r.score;for(;n<a.length&&n<o.length;){const u=compareScoreArray(a[n],o[n]);if(u)return u;n++}return o.length-a.length}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function r(E){throw new Error(`ERR (${n})/"${d}": ${E}`)}let n=0,a=n;const o=[];let u;function l(){u&&o.push(u),u=[]}let c=0,g,d="",v="";function x(){!d||(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(g==="*"||g==="+")&&r(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:v,repeatable:g==="*"||g==="+",optional:g==="*"||g==="?"})):r("Invalid state to consume buffer"),d="")}function m(){d+=g}for(;c<e.length;){if(g=e[c++],g==="\\"&&n!==2){a=n,n=4;continue}switch(n){case 0:g==="/"?(d&&x(),l()):g===":"?(x(),n=1):m();break;case 4:m(),n=a;break;case 1:g==="("?n=2:VALID_PARAM_RE.test(g)?m():(x(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&c--);break;case 2:g===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+g:n=3:v+=g;break;case 3:x(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&c--,v="";break;default:r("Unknown state");break}}return n===2&&r(`Unfinished custom RegExp for param "${d}"`),x(),l(),o}function createRouteRecordMatcher(e,r,n){const a=tokensToParser(tokenizePath(e.path),n),o=assign(a,{record:e,parent:r,children:[],alias:[]});return r&&!o.record.aliasOf==!r.record.aliasOf&&r.children.push(o),o}function createRouterMatcher(e,r){const n=[],a=new Map;r=mergeOptions({strict:!1,end:!0,sensitive:!1},r);function o(v){return a.get(v)}function u(v,x,m){const E=!m,y=normalizeRouteRecord(v);y.aliasOf=m&&m.record;const C=mergeOptions(r,v),b=[y];if("alias"in v){const w=typeof v.alias=="string"?[v.alias]:v.alias;for(const F of w)b.push(assign({},y,{components:m?m.record.components:y.components,path:F,aliasOf:m?m.record:y}))}let $,B;for(const w of b){const{path:F}=w;if(x&&F[0]!=="/"){const U=x.record.path,_=U[U.length-1]==="/"?"":"/";w.path=x.record.path+(F&&_+F)}if($=createRouteRecordMatcher(w,x,C),m?m.alias.push($):(B=B||$,B!==$&&B.alias.push($),E&&v.name&&!isAliasRecord($)&&l(v.name)),"children"in y){const U=y.children;for(let _=0;_<U.length;_++)u(U[_],$,m&&m.children[_])}m=m||$,g($)}return B?()=>{l(B)}:noop$1}function l(v){if(isRouteName(v)){const x=a.get(v);x&&(a.delete(v),n.splice(n.indexOf(x),1),x.children.forEach(l),x.alias.forEach(l))}else{const x=n.indexOf(v);x>-1&&(n.splice(x,1),v.record.name&&a.delete(v.record.name),v.children.forEach(l),v.alias.forEach(l))}}function c(){return n}function g(v){let x=0;for(;x<n.length&&comparePathParserScore(v,n[x])>=0&&(v.record.path!==n[x].record.path||!isRecordChildOf(v,n[x]));)x++;n.splice(x,0,v),v.record.name&&!isAliasRecord(v)&&a.set(v.record.name,v)}function d(v,x){let m,E={},y,C;if("name"in v&&v.name){if(m=a.get(v.name),!m)throw createRouterError(1,{location:v});C=m.record.name,E=assign(paramsFromLocation(x.params,m.keys.filter(B=>!B.optional).map(B=>B.name)),v.params),y=m.stringify(E)}else if("path"in v)y=v.path,m=n.find(B=>B.re.test(y)),m&&(E=m.parse(y),C=m.record.name);else{if(m=x.name?a.get(x.name):n.find(B=>B.re.test(x.path)),!m)throw createRouterError(1,{location:v,currentLocation:x});C=m.record.name,E=assign({},x.params,v.params),y=m.stringify(E)}const b=[];let $=m;for(;$;)b.unshift($.record),$=$.parent;return{name:C,path:y,params:E,matched:b,meta:mergeMetaFields(b)}}return e.forEach(v=>u(v)),{addRoute:u,resolve:d,removeRoute:l,getRoutes:c,getRecordMatcher:o}}function paramsFromLocation(e,r){const n={};for(const a of r)a in e&&(n[a]=e[a]);return n}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function normalizeRecordProps(e){const r={},n=e.props||!1;if("component"in e)r.default=n;else for(const a in e.components)r[a]=typeof n=="boolean"?n:n[a];return r}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((r,n)=>assign(r,n.meta),{})}function mergeOptions(e,r){const n={};for(const a in e)n[a]=a in r?r[a]:e[a];return n}function isRecordChildOf(e,r){return r.children.some(n=>n===e||isRecordChildOf(e,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function parseQuery(e){const r={};if(e===""||e==="?")return r;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<a.length;++o){const u=a[o].replace(PLUS_RE," "),l=u.indexOf("="),c=decode(l<0?u:u.slice(0,l)),g=l<0?null:decode(u.slice(l+1));if(c in r){let d=r[c];Array.isArray(d)||(d=r[c]=[d]),d.push(g)}else r[c]=g}return r}function stringifyQuery(e){let r="";for(let n in e){const a=e[n];if(n=encodeQueryKey(n),a==null){a!==void 0&&(r+=(r.length?"&":"")+n);continue}(Array.isArray(a)?a.map(u=>u&&encodeQueryValue(u)):[a&&encodeQueryValue(a)]).forEach(u=>{u!==void 0&&(r+=(r.length?"&":"")+n,u!=null&&(r+="="+u))})}return r}function normalizeQuery(e){const r={};for(const n in e){const a=e[n];a!==void 0&&(r[n]=Array.isArray(a)?a.map(o=>o==null?null:""+o):a==null?a:""+a)}return r}function useCallbacks(){let e=[];function r(a){return e.push(a),()=>{const o=e.indexOf(a);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:r,list:()=>e,reset:n}}function guardToPromiseFn(e,r,n,a,o){const u=a&&(a.enterCallbacks[o]=a.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const g=x=>{x===!1?c(createRouterError(4,{from:n,to:r})):x instanceof Error?c(x):isRouteLocation(x)?c(createRouterError(2,{from:r,to:x})):(u&&a.enterCallbacks[o]===u&&typeof x=="function"&&u.push(x),l())},d=e.call(a&&a.instances[o],r,n,g);let v=Promise.resolve(d);e.length<3&&(v=v.then(g)),v.catch(x=>c(x))})}function extractComponentsGuards(e,r,n,a){const o=[];for(const u of e)for(const l in u.components){let c=u.components[l];if(!(r!=="beforeRouteEnter"&&!u.instances[l]))if(isRouteComponent(c)){const d=(c.__vccOpts||c)[r];d&&o.push(guardToPromiseFn(d,n,a,u,l))}else{let g=c();o.push(()=>g.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${u.path}"`));const v=isESModule(d)?d.default:d;u.components[l]=v;const m=(v.__vccOpts||v)[r];return m&&guardToPromiseFn(m,n,a,u,l)()}))}}return o}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const r=inject(routerKey),n=inject(routeLocationKey),a=computed(()=>r.resolve(unref(e.to))),o=computed(()=>{const{matched:g}=a.value,{length:d}=g,v=g[d-1],x=n.matched;if(!v||!x.length)return-1;const m=x.findIndex(isSameRouteRecord.bind(null,v));if(m>-1)return m;const E=getOriginalPath(g[d-2]);return d>1&&getOriginalPath(v)===E&&x[x.length-1].path!==E?x.findIndex(isSameRouteRecord.bind(null,g[d-2])):m}),u=computed(()=>o.value>-1&&includesParams(n.params,a.value.params)),l=computed(()=>o.value>-1&&o.value===n.matched.length-1&&isSameRouteLocationParams(n.params,a.value.params));function c(g={}){return guardEvent(g)?r[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop$1):Promise.resolve()}return{route:a,href:computed(()=>a.value.href),isActive:u,isExactActive:l,navigate:c}}const RouterLinkImpl=defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:r}){const n=reactive(useLink(e)),{options:a}=inject(routerKey),o=computed(()=>({[getLinkClass(e.activeClass,a.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=r.default&&r.default(n);return e.custom?u:h("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const r=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,r){for(const n in r){const a=r[n],o=e[n];if(typeof a=="string"){if(a!==o)return!1}else if(!Array.isArray(o)||o.length!==a.length||a.some((u,l)=>u!==o[l]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,r,n)=>e!=null?e:r!=null?r:n,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:r,slots:n}){const a=inject(routerViewLocationKey),o=computed(()=>e.route||a.value),u=inject(viewDepthKey,0),l=computed(()=>o.value.matched[u]);provide(viewDepthKey,u+1),provide(matchedRouteKey,l),provide(routerViewLocationKey,o);const c=ref();return watch(()=>[c.value,l.value,e.name],([g,d,v],[x,m,E])=>{d&&(d.instances[v]=g,m&&m!==d&&g&&g===x&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),g&&d&&(!m||!isSameRouteRecord(d,m)||!x)&&(d.enterCallbacks[v]||[]).forEach(y=>y(g))},{flush:"post"}),()=>{const g=o.value,d=l.value,v=d&&d.components[e.name],x=e.name;if(!v)return normalizeSlot(n.default,{Component:v,route:g});const m=d.props[e.name],E=m?m===!0?g.params:typeof m=="function"?m(g):m:null,C=h(v,assign({},E,r,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[x]=null)},ref:c}));return normalizeSlot(n.default,{Component:C,route:g})||C}}});function normalizeSlot(e,r){if(!e)return null;const n=e(r);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(e){const r=createRouterMatcher(e.routes,e),n=e.parseQuery||parseQuery,a=e.stringifyQuery||stringifyQuery,o=e.history,u=useCallbacks(),l=useCallbacks(),c=useCallbacks(),g=shallowRef(START_LOCATION_NORMALIZED);let d=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=applyToParams.bind(null,ne=>""+ne),x=applyToParams.bind(null,encodeParam),m=applyToParams.bind(null,decode);function E(ne,ue){let se,oe;return isRouteName(ne)?(se=r.getRecordMatcher(ne),oe=ue):oe=ne,r.addRoute(oe,se)}function y(ne){const ue=r.getRecordMatcher(ne);ue&&r.removeRoute(ue)}function C(){return r.getRoutes().map(ne=>ne.record)}function b(ne){return!!r.getRecordMatcher(ne)}function $(ne,ue){if(ue=assign({},ue||g.value),typeof ne=="string"){const ye=parseURL(n,ne,ue.path),j=r.resolve({path:ye.path},ue),ee=o.createHref(ye.fullPath);return assign(ye,j,{params:m(j.params),hash:decode(ye.hash),redirectedFrom:void 0,href:ee})}let se;if("path"in ne)se=assign({},ne,{path:parseURL(n,ne.path,ue.path).path});else{const ye=assign({},ne.params);for(const j in ye)ye[j]==null&&delete ye[j];se=assign({},ne,{params:x(ne.params)}),ue.params=x(ue.params)}const oe=r.resolve(se,ue),Se=ne.hash||"";oe.params=v(m(oe.params));const be=stringifyURL(a,assign({},ne,{hash:encodeHash(Se),path:oe.path})),$e=o.createHref(be);return assign({fullPath:be,hash:Se,query:a===stringifyQuery?normalizeQuery(ne.query):ne.query||{}},oe,{redirectedFrom:void 0,href:$e})}function B(ne){return typeof ne=="string"?parseURL(n,ne,g.value.path):assign({},ne)}function w(ne,ue){if(d!==ne)return createRouterError(8,{from:ue,to:ne})}function F(ne){return T(ne)}function U(ne){return F(assign(B(ne),{replace:!0}))}function _(ne){const ue=ne.matched[ne.matched.length-1];if(ue&&ue.redirect){const{redirect:se}=ue;let oe=typeof se=="function"?se(ne):se;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=B(oe):{path:oe},oe.params={}),assign({query:ne.query,hash:ne.hash,params:ne.params},oe)}}function T(ne,ue){const se=d=$(ne),oe=g.value,Se=ne.state,be=ne.force,$e=ne.replace===!0,ye=_(se);if(ye)return T(assign(B(ye),{state:Se,force:be,replace:$e}),ue||se);const j=se;j.redirectedFrom=ue;let ee;return!be&&isSameRouteLocation(a,oe,se)&&(ee=createRouterError(16,{to:j,from:oe}),de(oe,oe,!0,!1)),(ee?Promise.resolve(ee):N(j,oe)).catch(ae=>isNavigationFailure(ae)?isNavigationFailure(ae,2)?ae:ce(ae):Q(ae,j,oe)).then(ae=>{if(ae){if(isNavigationFailure(ae,2))return T(assign(B(ae.to),{state:Se,force:be,replace:$e}),ue||j)}else ae=O(j,oe,!0,$e,Se);return K(j,oe,ae),ae})}function k(ne,ue){const se=w(ne,ue);return se?Promise.reject(se):Promise.resolve()}function N(ne,ue){let se;const[oe,Se,be]=extractChangingRecords(ne,ue);se=extractComponentsGuards(oe.reverse(),"beforeRouteLeave",ne,ue);for(const ye of oe)ye.leaveGuards.forEach(j=>{se.push(guardToPromiseFn(j,ne,ue))});const $e=k.bind(null,ne,ue);return se.push($e),runGuardQueue(se).then(()=>{se=[];for(const ye of u.list())se.push(guardToPromiseFn(ye,ne,ue));return se.push($e),runGuardQueue(se)}).then(()=>{se=extractComponentsGuards(Se,"beforeRouteUpdate",ne,ue);for(const ye of Se)ye.updateGuards.forEach(j=>{se.push(guardToPromiseFn(j,ne,ue))});return se.push($e),runGuardQueue(se)}).then(()=>{se=[];for(const ye of ne.matched)if(ye.beforeEnter&&!ue.matched.includes(ye))if(Array.isArray(ye.beforeEnter))for(const j of ye.beforeEnter)se.push(guardToPromiseFn(j,ne,ue));else se.push(guardToPromiseFn(ye.beforeEnter,ne,ue));return se.push($e),runGuardQueue(se)}).then(()=>(ne.matched.forEach(ye=>ye.enterCallbacks={}),se=extractComponentsGuards(be,"beforeRouteEnter",ne,ue),se.push($e),runGuardQueue(se))).then(()=>{se=[];for(const ye of l.list())se.push(guardToPromiseFn(ye,ne,ue));return se.push($e),runGuardQueue(se)}).catch(ye=>isNavigationFailure(ye,8)?ye:Promise.reject(ye))}function K(ne,ue,se){for(const oe of c.list())oe(ne,ue,se)}function O(ne,ue,se,oe,Se){const be=w(ne,ue);if(be)return be;const $e=ue===START_LOCATION_NORMALIZED,ye=isBrowser?history.state:{};se&&(oe||$e?o.replace(ne.fullPath,assign({scroll:$e&&ye&&ye.scroll},Se)):o.push(ne.fullPath,Se)),g.value=ne,de(ne,ue,se,$e),ce()}let V;function J(){V=o.listen((ne,ue,se)=>{const oe=$(ne),Se=_(oe);if(Se){T(assign(Se,{replace:!0}),oe).catch(noop$1);return}d=oe;const be=g.value;isBrowser&&saveScrollPosition(getScrollKey(be.fullPath,se.delta),computeScrollPosition()),N(oe,be).catch($e=>isNavigationFailure($e,12)?$e:isNavigationFailure($e,2)?(T($e.to,oe).then(ye=>{isNavigationFailure(ye,20)&&!se.delta&&se.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop$1),Promise.reject()):(se.delta&&o.go(-se.delta,!1),Q($e,oe,be))).then($e=>{$e=$e||O(oe,be,!1),$e&&(se.delta?o.go(-se.delta,!1):se.type===NavigationType.pop&&isNavigationFailure($e,20)&&o.go(-1,!1)),K(oe,be,$e)}).catch(noop$1)})}let H=useCallbacks(),G=useCallbacks(),te;function Q(ne,ue,se){ce(ne);const oe=G.list();return oe.length?oe.forEach(Se=>Se(ne,ue,se)):console.error(ne),Promise.reject(ne)}function xe(){return te&&g.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((ne,ue)=>{H.add([ne,ue])})}function ce(ne){return te||(te=!ne,J(),H.list().forEach(([ue,se])=>ne?se(ne):ue()),H.reset()),ne}function de(ne,ue,se,oe){const{scrollBehavior:Se}=e;if(!isBrowser||!Se)return Promise.resolve();const be=!se&&getSavedScrollPosition(getScrollKey(ne.fullPath,0))||(oe||!se)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Se(ne,ue,be)).then($e=>$e&&scrollToPosition($e)).catch($e=>Q($e,ne,ue))}const W=ne=>o.go(ne);let re;const q=new Set;return{currentRoute:g,addRoute:E,removeRoute:y,hasRoute:b,getRoutes:C,resolve:$,options:e,push:F,replace:U,go:W,back:()=>W(-1),forward:()=>W(1),beforeEach:u.add,beforeResolve:l.add,afterEach:c.add,onError:G.add,isReady:xe,install(ne){const ue=this;ne.component("RouterLink",RouterLink),ne.component("RouterView",RouterView),ne.config.globalProperties.$router=ue,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(g)}),isBrowser&&!re&&g.value===START_LOCATION_NORMALIZED&&(re=!0,F(o.location).catch(Se=>{}));const se={};for(const Se in START_LOCATION_NORMALIZED)se[Se]=computed(()=>g.value[Se]);ne.provide(routerKey,ue),ne.provide(routeLocationKey,reactive(se)),ne.provide(routerViewLocationKey,g);const oe=ne.unmount;q.add(ne),ne.unmount=function(){q.delete(ne),q.size<1&&(d=START_LOCATION_NORMALIZED,V&&V(),g.value=START_LOCATION_NORMALIZED,re=!1,te=!1),oe()}}}}function runGuardQueue(e){return e.reduce((r,n)=>r.then(()=>n()),Promise.resolve())}function extractChangingRecords(e,r){const n=[],a=[],o=[],u=Math.max(r.matched.length,e.matched.length);for(let l=0;l<u;l++){const c=r.matched[l];c&&(e.matched.find(d=>isSameRouteRecord(d,c))?a.push(c):n.push(c));const g=e.matched[l];g&&(r.matched.find(d=>isSameRouteRecord(d,g))||o.push(g))}return[n,a,o]}function useRouter(){return inject(routerKey)}function useRoute$1(){return inject(routeLocationKey)}const _sfc_main$3={setup(e){return(r,n)=>(openBlock(),createBlock(unref(RouterView)))}},scriptRel="modulepreload",seen={},base$1="/",__vitePreload=function(r,n){return!n||n.length===0?r():Promise.all(n.map(a=>{if(a=`${base$1}${a}`,a in seen)return;seen[a]=!0;const o=a.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":scriptRel,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((c,g)=>{l.addEventListener("load",c),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>r())};var navbarConfig=[{name:"home",path:"/home",component:()=>__vitePreload(()=>import("./index.bf5a2f3a.js"),["assets/index.bf5a2f3a.js","assets/payout.3eddbc66.js"]),meta:{title:"\u9996\u9875",icon:"apps-o"}},{name:"homepay",path:"/homepay",component:()=>__vitePreload(()=>import("./index.59bd3478.js"),["assets/index.59bd3478.js","assets/merchant.520e94d6.js","assets/merchantaisle.4f893b76.js","assets/sys_bank.bfc45458.js","assets/payout.3eddbc66.js"]),meta:{title:"\u94F6\u884C\u5361",icon:"balance-o"}},{name:"exchange",path:"/exchange",component:()=>__vitePreload(()=>import("./index.36df733b.js"),["assets/index.36df733b.js","assets/merchant.520e94d6.js","assets/merchantaisle.4f893b76.js","assets/sys_bank.bfc45458.js","assets/payout.3eddbc66.js"]),meta:{title:"\u652F\u4ED8\u5B9D",icon:"exchange"}},{name:"my",path:"/my",component:()=>__vitePreload(()=>import("./index.3265dec7.js"),["assets/index.3265dec7.js","assets/index.757d61ab.css","assets/payconfig.d1d54a7f.js"]),meta:{title:"\u6211\u7684",icon:"contact"}}],pageConfig=[{name:"incomerecord",path:"/my/incomerecord",component:()=>__vitePreload(()=>import("./incomerecord.20a33385.js"),["assets/incomerecord.20a33385.js","assets/merchantaccountorder.ec25300b.js"]),meta:{title:"\u5145\u503C\u8BB0\u5F55",isNavBar:!0}},{name:"balance",path:"/my/balance",component:()=>__vitePreload(()=>import("./balance.ac5e1731.js"),["assets/balance.ac5e1731.js","assets/payconfig.d1d54a7f.js","assets/merchant.520e94d6.js","assets/merchantaccountorder.ec25300b.js"]),meta:{title:"\u5145\u503C",isNavBar:!0}},{name:"aisle",path:"/my/aisle",component:()=>__vitePreload(()=>import("./aisle.1b6fa1ff.js"),["assets/aisle.1b6fa1ff.js","assets/merchantaisle.4f893b76.js"]),meta:{title:"\u6211\u7684\u901A\u9053",isNavBar:!0}},{name:"withdraw",path:"/my/withdraw",component:()=>__vitePreload(()=>import("./withdraw.925574b5.js"),["assets/withdraw.925574b5.js","assets/merchant.520e94d6.js","assets/merchantaccountorder.ec25300b.js"]),meta:{title:"\u63D0\u73B0",isNavBar:!0}},{name:"withdrawrecord",path:"/my/withdrawrecord",component:()=>__vitePreload(()=>import("./withdrawrecord.fb638447.js"),["assets/withdrawrecord.fb638447.js","assets/merchantaccountorder.ec25300b.js"]),meta:{title:"\u63D0\u73B0\u8BB0\u5F55",isNavBar:!0}},{name:"applyjournal",path:"/my/applyjournal",component:()=>__vitePreload(()=>import("./applyjournal.903c1fe7.js"),[]),meta:{title:"\u8D44\u91D1\u8BB0\u5F55",isNavBar:!0}},{name:"exchangerecord",path:"/exchange/exchangerecord",component:()=>__vitePreload(()=>import("./exchangerecord.1a2a09be.js"),[]),meta:{title:"\u6362\u6C47\u8BB0\u5F55",isNavBar:!0}}];function noop(){}const extend$1=Object.assign,inBrowser$1=typeof window!="undefined";function get(e,r){const n=r.split(".");let a=e;return n.forEach(o=>{var u;a=(u=a[o])!=null?u:""}),a}function pick(e,r,n){return r.reduce((a,o)=>((!n||e[o]!==void 0)&&(a[o]=e[o]),a),{})}const unknownProp=null,numericProp=[Number,String],truthProp={type:Boolean,default:!0},makeRequiredProp=e=>({type:e,required:!0}),makeArrayProp=()=>({type:Array,default:()=>[]}),makeNumberProp=e=>({type:Number,default:e}),makeNumericProp=e=>({type:numericProp,default:e}),makeStringProp=e=>({type:String,default:e});var inBrowser=typeof window!="undefined";function raf(e){return inBrowser?requestAnimationFrame(e):-1}function doubleRaf(e){raf(()=>raf(e))}var isWindow=e=>e===window,makeDOMRect=(e,r)=>({top:0,left:0,right:e,bottom:r,width:e,height:r}),useRect=e=>{const r=unref(e);if(isWindow(r)){const n=r.innerWidth,a=r.innerHeight;return makeDOMRect(n,a)}return r!=null&&r.getBoundingClientRect?r.getBoundingClientRect():makeDOMRect(0,0)};function useParent(e){const r=inject(e,null);if(r){const n=getCurrentInstance(),{link:a,unlink:o,internalChildren:u}=r;a(n),onUnmounted(()=>o(n));const l=computed(()=>u.indexOf(n));return{parent:r,index:l}}return{parent:null,index:ref(-1)}}function flattenVNodes(e){const r=[],n=a=>{Array.isArray(a)&&a.forEach(o=>{var u;isVNode(o)&&(r.push(o),(u=o.component)!=null&&u.subTree&&(r.push(o.component.subTree),n(o.component.subTree.children)),o.children&&n(o.children))})};return n(e),r}function sortChildren(e,r,n){const a=flattenVNodes(e.subTree.children);n.sort((u,l)=>a.indexOf(u.vnode)-a.indexOf(l.vnode));const o=n.map(u=>u.proxy);r.sort((u,l)=>{const c=o.indexOf(u),g=o.indexOf(l);return c-g})}function useChildren(e){const r=reactive([]),n=reactive([]),a=getCurrentInstance();return{children:r,linkChildren:u=>{provide(e,Object.assign({link:g=>{g.proxy&&(n.push(g),r.push(g.proxy),sortChildren(a,r,n))},unlink:g=>{const d=n.indexOf(g);r.splice(d,1),n.splice(d,1)},children:r,internalChildren:n},u))}}}function onMountedOrActivated(e){let r;onMounted(()=>{e(),nextTick(()=>{r=!0})}),onActivated(()=>{r&&e()})}function useEventListener(e,r,n={}){if(!inBrowser)return;const{target:a=window,passive:o=!1,capture:u=!1}=n;let l;const c=d=>{const v=unref(d);v&&!l&&(v.addEventListener(e,r,{capture:u,passive:o}),l=!0)},g=d=>{const v=unref(d);v&&l&&(v.removeEventListener(e,r,u),l=!1)};onUnmounted(()=>g(a)),onDeactivated(()=>g(a)),onMountedOrActivated(()=>c(a)),isRef(a)&&watch(a,(d,v)=>{g(v),c(d)})}function useClickAway(e,r,n={}){if(!inBrowser)return;const{eventName:a="click"}=n;useEventListener(a,u=>{const l=unref(e);l&&!l.contains(u.target)&&r(u)},{target:document})}var width,height;function useWindowSize(){if(!width&&(width=ref(0),height=ref(0),inBrowser)){const e=()=>{width.value=window.innerWidth,height.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width,height}}var overflowScrollReg=/scroll|auto/i,defaultRoot=inBrowser?window:void 0;function isElement$1(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function getScrollParent$1(e,r=defaultRoot){let n=e;for(;n&&n!==r&&isElement$1(n);){const{overflowY:a}=window.getComputedStyle(n);if(overflowScrollReg.test(a))return n;n=n.parentNode}return r}function useScrollParent(e,r=defaultRoot){const n=ref();return onMounted(()=>{e.value&&(n.value=getScrollParent$1(e.value,r))}),n}var visibility;function usePageVisibility(){if(!visibility&&(visibility=ref("visible"),inBrowser)){const e=()=>{visibility.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return visibility}var CUSTOM_FIELD_INJECTION_KEY=Symbol("van-field");function useCustomFieldValue(e){const r=inject(CUSTOM_FIELD_INJECTION_KEY,null);r&&!r.customValue.value&&(r.customValue.value=e,watch(e,()=>{r.resetValidation(),r.validateWithTrigger("onChange")}))}const isDef=e=>e!=null,isFunction$1=e=>typeof e=="function",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$1(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),isNumeric=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),isIOS$1=()=>inBrowser$1?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function getScrollTop(e){const r="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(r,0)}function setScrollTop(e,r){"scrollTop"in e?e.scrollTop=r:e.scrollTo(e.scrollX,r)}function getRootScrollTop(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function setRootScrollTop(e){setScrollTop(window,e),setScrollTop(document.body,e)}const isIOS=isIOS$1();function resetScroll(){isIOS&&setRootScrollTop(getRootScrollTop())}const stopPropagation=e=>e.stopPropagation();function preventDefault(e,r){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),r&&stopPropagation(e)}function isHidden(e){const r=unref(e);if(!r)return!1;const n=window.getComputedStyle(r),a=n.display==="none",o=r.offsetParent===null&&n.position!=="fixed";return a||o}const{width:windowWidth,height:windowHeight}=useWindowSize();function addUnit(e){if(isDef(e))return isNumeric(e)?`${e}px`:String(e)}function getSizeStyle(e){if(isDef(e)){if(Array.isArray(e))return{width:addUnit(e[0]),height:addUnit(e[1])};const r=addUnit(e);return{width:r,height:r}}}function getZIndexStyle(e){const r={};return e!==void 0&&(r.zIndex=+e),r}let rootFontSize;function getRootFontSize(){if(!rootFontSize){const e=document.documentElement,r=e.style.fontSize||window.getComputedStyle(e).fontSize;rootFontSize=parseFloat(r)}return rootFontSize}function convertRem(e){return e=e.replace(/rem/g,""),+e*getRootFontSize()}function convertVw(e){return e=e.replace(/vw/g,""),+e*windowWidth.value/100}function convertVh(e){return e=e.replace(/vh/g,""),+e*windowHeight.value/100}function unitToPx(e){if(typeof e=="number")return e;if(inBrowser$1){if(e.includes("rem"))return convertRem(e);if(e.includes("vw"))return convertVw(e);if(e.includes("vh"))return convertVh(e)}return parseFloat(e)}const camelizeRE=/-(\w)/g,camelize=e=>e.replace(camelizeRE,(r,n)=>n.toUpperCase()),kebabCase=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),clamp=(e,r,n)=>Math.min(Math.max(e,r),n);function trimExtraChar(e,r,n){const a=e.indexOf(r);return a===-1?e:r==="-"&&a!==0?e.slice(0,a):e.slice(0,a+1)+e.slice(a).replace(n,"")}function formatNumber(e,r=!0,n=!0){r?e=trimExtraChar(e,".",/\./g):e=e.split(".")[0],n?e=trimExtraChar(e,"-",/-/g):e=e.replace(/-/,"");const a=r?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(a,"")}const{hasOwnProperty}=Object.prototype;function assignKey(e,r,n){const a=r[n];!isDef(a)||(!hasOwnProperty.call(e,n)||!isObject$1(a)?e[n]=a:e[n]=deepAssign(Object(e[n]),a))}function deepAssign(e,r){return Object.keys(r).forEach(n=>{assignKey(e,r,n)}),e}var stdin_default$A={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(e,r)=>`${e}\u5E74${r}\u6708`,rangePrompt:e=>`\u6700\u591A\u9009\u62E9 ${e} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:e=>`${e}\u6298`,condition:e=>`\u6EE1${e}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:e=>`${e}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const lang=ref("zh-CN"),messages=reactive({"zh-CN":stdin_default$A}),Locale={messages(){return messages[lang.value]},use(e,r){lang.value=e,this.add({[e]:r})},add(e={}){deepAssign(messages,e)}};var stdin_default$z=Locale;function createTranslate(e){const r=camelize(e)+".";return(n,...a)=>{const o=stdin_default$z.messages(),u=get(o,r+n)||get(o,n);return isFunction$1(u)?u(...a):u}}function genBem(e,r){return r?typeof r=="string"?` ${e}--${r}`:Array.isArray(r)?r.reduce((n,a)=>n+genBem(e,a),""):Object.keys(r).reduce((n,a)=>n+(r[a]?genBem(e,a):""),""):""}function createBEM(e){return(r,n)=>(r&&typeof r!="string"&&(n=r,r=""),r=r?`${e}__${r}`:e,`${r}${genBem(r,n)}`)}function createNamespace(e){const r=`van-${e}`;return[r,createBEM(r),createTranslate(r)]}const BORDER="van-hairline",BORDER_TOP=`${BORDER}--top`,BORDER_LEFT=`${BORDER}--left`,BORDER_BOTTOM=`${BORDER}--bottom`,BORDER_SURROUND=`${BORDER}--surround`,BORDER_TOP_BOTTOM=`${BORDER}--top-bottom`,BORDER_UNSET_TOP_BOTTOM=`${BORDER}-unset--top-bottom`,HAPTICS_FEEDBACK="van-haptics-feedback",FORM_KEY=Symbol("van-form");function callInterceptor(e,{args:r=[],done:n,canceled:a}){if(e){const o=e.apply(null,r);isPromise(o)?o.then(u=>{u?n():a&&a()}).catch(noop):o?n():a&&a()}else n()}function withInstall(e){return e.install=r=>{const{name:n}=e;r.component(n,e),r.component(camelize(`-${n}`),e)},e}const[name$x,bem$y]=createNamespace("action-bar"),ACTION_BAR_KEY=Symbol(name$x),actionBarProps={safeAreaInsetBottom:truthProp};var stdin_default$y=defineComponent({name:name$x,props:actionBarProps,setup(e,{slots:r}){const{linkChildren:n}=useChildren(ACTION_BAR_KEY);return n(),()=>{var a;return createVNode("div",{class:[bem$y(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(a=r.default)==null?void 0:a.call(r)])}}});const ActionBar=withInstall(stdin_default$y);function useExpose(e){const r=getCurrentInstance();r&&extend$1(r.proxy,e)}const routeProps={to:[String,Object],url:String,replace:Boolean};function route({to:e,url:r,replace:n,$router:a}){e&&a?a[n?"replace":"push"](e):r&&(n?location.replace(r):location.href=r)}function useRoute(){const e=getCurrentInstance().proxy;return()=>route(e)}const[name$w,bem$x]=createNamespace("badge"),badgeProps={dot:Boolean,max:numericProp,tag:makeStringProp("div"),color:String,offset:Array,content:numericProp,showZero:truthProp,position:makeStringProp("top-right")};var stdin_default$x=defineComponent({name:name$w,props:badgeProps,setup(e,{slots:r}){const n=()=>{if(r.content)return!0;const{content:l,showZero:c}=e;return isDef(l)&&l!==""&&(c||l!==0)},a=()=>{const{dot:l,max:c,content:g}=e;if(!l&&n())return r.content?r.content():isDef(c)&&isNumeric(g)&&+g>c?`${c}+`:g},o=computed(()=>{const l={background:e.color};if(e.offset){const[c,g]=e.offset;r.default?(l.top=addUnit(g),typeof c=="number"?l.right=addUnit(-c):l.right=c.startsWith("-")?c.replace("-",""):`-${c}`):(l.marginTop=addUnit(g),l.marginLeft=addUnit(c))}return l}),u=()=>{if(n()||e.dot)return createVNode("div",{class:bem$x([e.position,{dot:e.dot,fixed:!!r.default}]),style:o.value},[a()])};return()=>{if(r.default){const{tag:l}=e;return createVNode(l,{class:bem$x("wrapper")},{default:()=>[r.default(),u()]})}return u()}}});const Badge=withInstall(stdin_default$x),[name$v,bem$w]=createNamespace("config-provider"),CONFIG_PROVIDER_KEY=Symbol(name$v),configProviderProps={tag:makeStringProp("div"),themeVars:Object,iconPrefix:String};function mapThemeVarsToCSSVars(e){const r={};return Object.keys(e).forEach(n=>{r[`--van-${kebabCase(n)}`]=e[n]}),r}defineComponent({name:name$v,props:configProviderProps,setup(e,{slots:r}){const n=computed(()=>{if(e.themeVars)return mapThemeVarsToCSSVars(e.themeVars)});return provide(CONFIG_PROVIDER_KEY,e),()=>createVNode(e.tag,{class:bem$w(),style:n.value},{default:()=>{var a;return[(a=r.default)==null?void 0:a.call(r)]}})}});const[name$u,bem$v]=createNamespace("icon"),isImage=e=>e==null?void 0:e.includes("/"),iconProps={dot:Boolean,tag:makeStringProp("i"),name:String,size:numericProp,badge:numericProp,color:String,badgeProps:Object,classPrefix:String};var stdin_default$w=defineComponent({name:name$u,props:iconProps,setup(e,{slots:r}){const n=inject(CONFIG_PROVIDER_KEY,null),a=computed(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||bem$v());return()=>{const{tag:o,dot:u,name:l,size:c,badge:g,color:d}=e,v=isImage(l);return createVNode(Badge,mergeProps({dot:u,tag:o,class:[a.value,v?"":`${a.value}-${l}`],style:{color:d,fontSize:addUnit(c)},content:g},e.badgeProps),{default:()=>{var x;return[(x=r.default)==null?void 0:x.call(r),v&&createVNode("img",{class:bem$v("image"),src:l},null)]}})}}});const Icon=withInstall(stdin_default$w),[name$t,bem$u]=createNamespace("loading"),SpinIcon=Array(12).fill(null).map((e,r)=>createVNode("i",{class:bem$u("line",String(r+1))},null)),CircularIcon=createVNode("svg",{class:bem$u("circular"),viewBox:"25 25 50 50"},[createVNode("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),loadingProps={size:numericProp,type:makeStringProp("circular"),color:String,vertical:Boolean,textSize:numericProp,textColor:String};var stdin_default$v=defineComponent({name:name$t,props:loadingProps,setup(e,{slots:r}){const n=computed(()=>extend$1({color:e.color},getSizeStyle(e.size))),a=()=>{var o;if(r.default)return createVNode("span",{class:bem$u("text"),style:{fontSize:addUnit(e.textSize),color:(o=e.textColor)!=null?o:e.color}},[r.default()])};return()=>{const{type:o,vertical:u}=e;return createVNode("div",{class:bem$u([o,{vertical:u}])},[createVNode("span",{class:bem$u("spinner",o),style:n.value},[o==="spinner"?SpinIcon:CircularIcon]),a()])}}});const Loading=withInstall(stdin_default$v),[name$s,bem$t]=createNamespace("button"),buttonProps=extend$1({},routeProps,{tag:makeStringProp("button"),text:String,icon:String,type:makeStringProp("default"),size:makeStringProp("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:makeStringProp("button"),loadingSize:numericProp,loadingText:String,loadingType:String,iconPosition:makeStringProp("left")});var stdin_default$u=defineComponent({name:name$s,props:buttonProps,emits:["click"],setup(e,{emit:r,slots:n}){const a=useRoute(),o=()=>n.loading?n.loading():createVNode(Loading,{size:e.loadingSize,type:e.loadingType,class:bem$t("loading")},null),u=()=>{if(e.loading)return o();if(n.icon)return createVNode("div",{class:bem$t("icon")},[n.icon()]);if(e.icon)return createVNode(Icon,{name:e.icon,class:bem$t("icon"),classPrefix:e.iconPrefix},null)},l=()=>{let d;if(e.loading?d=e.loadingText:d=n.default?n.default():e.text,d)return createVNode("span",{class:bem$t("text")},[d])},c=()=>{const{color:d,plain:v}=e;if(d){const x={color:v?d:"white"};return v||(x.background=d),d.includes("gradient")?x.border=0:x.borderColor=d,x}},g=d=>{e.loading?preventDefault(d):e.disabled||(r("click",d),a())};return()=>{const{tag:d,type:v,size:x,block:m,round:E,plain:y,square:C,loading:b,disabled:$,hairline:B,nativeType:w,iconPosition:F}=e,U=[bem$t([v,x,{plain:y,block:m,round:E,square:C,loading:b,disabled:$,hairline:B}]),{[BORDER_SURROUND]:B}];return createVNode(d,{type:w,class:U,style:c(),disabled:$,onClick:g},{default:()=>[createVNode("div",{class:bem$t("content")},[F==="left"&&u(),l(),F==="right"&&u()])]})}}});const Button=withInstall(stdin_default$u),[name$r,bem$s]=createNamespace("action-bar-button"),actionBarButtonProps=extend$1({},routeProps,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var stdin_default$t=defineComponent({name:name$r,props:actionBarButtonProps,setup(e,{slots:r}){const n=useRoute(),{parent:a,index:o}=useParent(ACTION_BAR_KEY),u=computed(()=>{if(a){const c=a.children[o.value-1];return!(c&&"isButton"in c)}}),l=computed(()=>{if(a){const c=a.children[o.value+1];return!(c&&"isButton"in c)}});return useExpose({isButton:!0}),()=>{const{type:c,icon:g,text:d,color:v,loading:x,disabled:m}=e;return createVNode(Button,{class:bem$s([c,{last:l.value,first:u.value}]),size:"large",type:c,icon:g,color:v,loading:x,disabled:m,onClick:n},{default:()=>[r.default?r.default():d]})}}});const ActionBarButton=withInstall(stdin_default$t),popupSharedProps={show:Boolean,zIndex:numericProp,overlay:truthProp,duration:numericProp,teleport:[String,Object],lockScroll:truthProp,lazyRender:truthProp,beforeClose:Function,overlayStyle:Object,overlayClass:unknownProp,transitionAppear:Boolean,closeOnClickOverlay:truthProp},popupSharedPropKeys=Object.keys(popupSharedProps);function getDirection(e,r){return e>r?"horizontal":r>e?"vertical":""}function useTouch(){const e=ref(0),r=ref(0),n=ref(0),a=ref(0),o=ref(0),u=ref(0),l=ref(""),c=()=>l.value==="vertical",g=()=>l.value==="horizontal",d=()=>{n.value=0,a.value=0,o.value=0,u.value=0,l.value=""};return{move:m=>{const E=m.touches[0];n.value=(E.clientX<0?0:E.clientX)-e.value,a.value=E.clientY-r.value,o.value=Math.abs(n.value),u.value=Math.abs(a.value);const y=10;(!l.value||o.value<y&&u.value<y)&&(l.value=getDirection(o.value,u.value))},start:m=>{d(),e.value=m.touches[0].clientX,r.value=m.touches[0].clientY},reset:d,startX:e,startY:r,deltaX:n,deltaY:a,offsetX:o,offsetY:u,direction:l,isVertical:c,isHorizontal:g}}let totalLockCount=0;const BODY_LOCK_CLASS="van-overflow-hidden";function useLockScroll(e,r){const n=useTouch(),a=g=>{n.move(g);const d=n.deltaY.value>0?"10":"01",v=getScrollParent$1(g.target,e.value),{scrollHeight:x,offsetHeight:m,scrollTop:E}=v;let y="11";E===0?y=m>=x?"00":"01":E+m>=x&&(y="10"),y!=="11"&&n.isVertical()&&!(parseInt(y,2)&parseInt(d,2))&&preventDefault(g,!0)},o=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",a,{passive:!1}),totalLockCount||document.body.classList.add(BODY_LOCK_CLASS),totalLockCount++},u=()=>{totalLockCount&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",a),totalLockCount--,totalLockCount||document.body.classList.remove(BODY_LOCK_CLASS))},l=()=>r()&&o(),c=()=>r()&&u();onMountedOrActivated(l),onDeactivated(c),onBeforeUnmount(c),watch(r,g=>{g?o():u()})}function useLazyRender(e){const r=ref(!1);return watch(e,n=>{n&&(r.value=n)},{immediate:!0}),n=>()=>r.value?n():null}const POPUP_TOGGLE_KEY=Symbol();function onPopupReopen(e){const r=inject(POPUP_TOGGLE_KEY,null);r&&watch(r,n=>{n&&e()})}const[name$q,bem$r]=createNamespace("overlay"),overlayProps={show:Boolean,zIndex:numericProp,duration:numericProp,className:unknownProp,lockScroll:truthProp,lazyRender:truthProp,customStyle:Object};var stdin_default$s=defineComponent({name:name$q,props:overlayProps,setup(e,{slots:r}){const n=useLazyRender(()=>e.show||!e.lazyRender),a=u=>{preventDefault(u,!0)},o=n(()=>{var u;const l=extend$1(getZIndexStyle(e.zIndex),e.customStyle);return isDef(e.duration)&&(l.animationDuration=`${e.duration}s`),withDirectives(createVNode("div",{style:l,class:[bem$r(),e.className],onTouchmove:e.lockScroll?a:noop},[(u=r.default)==null?void 0:u.call(r)]),[[vShow,e.show]])});return()=>createVNode(Transition,{name:"van-fade",appear:!0},{default:o})}});const Overlay=withInstall(stdin_default$s),popupProps$2=extend$1({},popupSharedProps,{round:Boolean,position:makeStringProp("center"),closeIcon:makeStringProp("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:makeStringProp("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[name$p,bem$q]=createNamespace("popup");let globalZIndex=2e3;var stdin_default$r=defineComponent({name:name$p,inheritAttrs:!1,props:popupProps$2,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:r,attrs:n,slots:a}){let o,u;const l=ref(),c=ref(),g=useLazyRender(()=>e.show||!e.lazyRender),d=computed(()=>{const U={zIndex:l.value};if(isDef(e.duration)){const _=e.position==="center"?"animationDuration":"transitionDuration";U[_]=`${e.duration}s`}return U}),v=()=>{o||(e.zIndex!==void 0&&(globalZIndex=+e.zIndex),o=!0,l.value=++globalZIndex,r("open"))},x=()=>{o&&callInterceptor(e.beforeClose,{done(){o=!1,r("close"),r("update:show",!1)}})},m=U=>{r("click-overlay",U),e.closeOnClickOverlay&&x()},E=()=>{if(e.overlay)return createVNode(Overlay,{show:e.show,class:e.overlayClass,zIndex:l.value,duration:e.duration,customStyle:e.overlayStyle,onClick:m},{default:a["overlay-content"]})},y=U=>{r("click-close-icon",U),x()},C=()=>{if(e.closeable)return createVNode(Icon,{role:"button",tabindex:0,name:e.closeIcon,class:[bem$q("close-icon",e.closeIconPosition),HAPTICS_FEEDBACK],classPrefix:e.iconPrefix,onClick:y},null)},b=()=>r("opened"),$=()=>r("closed"),B=U=>r("keydown",U),w=g(()=>{var U;const{round:_,position:T,safeAreaInsetTop:k,safeAreaInsetBottom:N}=e;return withDirectives(createVNode("div",mergeProps({ref:c,style:d.value,class:[bem$q({round:_,[T]:T}),{"van-safe-area-top":k,"van-safe-area-bottom":N}],onKeydown:B},n),[(U=a.default)==null?void 0:U.call(a),C()]),[[vShow,e.show]])}),F=()=>{const{position:U,transition:_,transitionAppear:T}=e,k=U==="center"?"van-fade":`van-popup-slide-${U}`;return createVNode(Transition,{name:_||k,appear:T,onAfterEnter:b,onAfterLeave:$},{default:w})};return watch(()=>e.show,U=>{U&&!o&&(v(),n.tabindex===0&&nextTick(()=>{var _;(_=c.value)==null||_.focus()})),!U&&o&&(o=!1,r("close"))}),useExpose({popupRef:c}),useLockScroll(c,()=>e.show&&e.lockScroll),useEventListener("popstate",()=>{e.closeOnPopstate&&(x(),u=!1)}),onMounted(()=>{e.show&&v()}),onActivated(()=>{u&&(r("update:show",!0),u=!1)}),onDeactivated(()=>{e.show&&(x(),u=!0)}),provide(POPUP_TOGGLE_KEY,()=>e.show),()=>e.teleport?createVNode(Teleport,{to:e.teleport},{default:()=>[E(),F()]}):createVNode(Fragment,null,[E(),F()])}});const Popup=withInstall(stdin_default$r);function deepClone(e){if(!isDef(e))return e;if(Array.isArray(e))return e.map(r=>deepClone(r));if(isObject$1(e)){const r={};return Object.keys(e).forEach(n=>{r[n]=deepClone(e[n])}),r}return e}const DEFAULT_DURATION=200,MOMENTUM_LIMIT_TIME=300,MOMENTUM_LIMIT_DISTANCE=15,[name$o,bem$p]=createNamespace("picker-column");function getElementTranslateY(e){const{transform:r}=window.getComputedStyle(e),n=r.slice(7,r.length-1).split(", ")[5];return Number(n)}const PICKER_KEY=Symbol(name$o),isOptionDisabled=e=>isObject$1(e)&&e.disabled;var stdin_default$q=defineComponent({name:name$o,props:{textKey:makeRequiredProp(String),readonly:Boolean,allowHtml:Boolean,className:unknownProp,itemHeight:makeRequiredProp(Number),defaultIndex:makeNumberProp(0),swipeDuration:makeRequiredProp(numericProp),initialOptions:makeArrayProp(),visibleItemCount:makeRequiredProp(numericProp)},emits:["change"],setup(e,{emit:r,slots:n}){let a,o,u,l,c;const g=ref(),d=reactive({index:e.defaultIndex,offset:0,duration:0,options:deepClone(e.initialOptions)}),v=useTouch(),x=()=>d.options.length,m=()=>e.itemHeight*(+e.visibleItemCount-1)/2,E=O=>{O=clamp(O,0,x());for(let V=O;V<x();V++)if(!isOptionDisabled(d.options[V]))return V;for(let V=O-1;V>=0;V--)if(!isOptionDisabled(d.options[V]))return V},y=(O,V)=>{O=E(O)||0;const J=-O*e.itemHeight,H=()=>{O!==d.index&&(d.index=O,V&&r("change",O))};a&&J!==d.offset?c=H:H(),d.offset=J},C=O=>{JSON.stringify(O)!==JSON.stringify(d.options)&&(d.options=deepClone(O),y(e.defaultIndex))},b=O=>{a||e.readonly||(c=null,d.duration=DEFAULT_DURATION,y(O,!0))},$=O=>isObject$1(O)&&e.textKey in O?O[e.textKey]:O,B=O=>clamp(Math.round(-O/e.itemHeight),0,x()-1),w=(O,V)=>{const J=Math.abs(O/V);O=d.offset+J/.003*(O<0?-1:1);const H=B(O);d.duration=+e.swipeDuration,y(H,!0)},F=()=>{a=!1,d.duration=0,c&&(c(),c=null)},U=O=>{if(!e.readonly){if(v.start(O),a){const V=getElementTranslateY(g.value);d.offset=Math.min(0,V-m()),o=d.offset}else o=d.offset;d.duration=0,u=Date.now(),l=o,c=null}},_=O=>{if(e.readonly)return;v.move(O),v.isVertical()&&(a=!0,preventDefault(O,!0)),d.offset=clamp(o+v.deltaY.value,-(x()*e.itemHeight),e.itemHeight);const V=Date.now();V-u>MOMENTUM_LIMIT_TIME&&(u=V,l=d.offset)},T=()=>{if(e.readonly)return;const O=d.offset-l,V=Date.now()-u;if(V<MOMENTUM_LIMIT_TIME&&Math.abs(O)>MOMENTUM_LIMIT_DISTANCE){w(O,V);return}const H=B(d.offset);d.duration=DEFAULT_DURATION,y(H,!0),setTimeout(()=>{a=!1},0)},k=()=>{const O={height:`${e.itemHeight}px`};return d.options.map((V,J)=>{const H=$(V),G=isOptionDisabled(V),te={role:"button",style:O,tabindex:G?-1:0,class:bem$p("item",{disabled:G,selected:J===d.index}),onClick:()=>b(J)},Q={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:H};return createVNode("li",te,[n.option?n.option(V):createVNode("div",Q,null)])})},N=O=>{const{options:V}=d;for(let J=0;J<V.length;J++)if($(V[J])===O)return y(J)},K=()=>d.options[d.index];return y(d.index),useParent(PICKER_KEY),useExpose({state:d,setIndex:y,getValue:K,setValue:N,setOptions:C,stopMomentum:F}),watch(()=>e.initialOptions,C),watch(()=>e.defaultIndex,O=>y(O)),()=>createVNode("div",{class:[bem$p(),e.className],onTouchstart:U,onTouchmove:_,onTouchend:T,onTouchcancel:T},[createVNode("ul",{ref:g,style:{transform:`translate3d(0, ${d.offset+m()}px, 0)`,transitionDuration:`${d.duration}ms`,transitionProperty:d.duration?"all":"none"},class:bem$p("wrapper"),onTransitionend:F},[k()])])}});const[name$n,bem$o,t$6]=createNamespace("picker"),pickerSharedProps={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:makeNumericProp(44),showToolbar:truthProp,swipeDuration:makeNumericProp(1e3),visibleItemCount:makeNumericProp(6),cancelButtonText:String,confirmButtonText:String},pickerProps=extend$1({},pickerSharedProps,{columns:makeArrayProp(),valueKey:String,defaultIndex:makeNumericProp(0),toolbarPosition:makeStringProp("top"),columnsFieldNames:Object});var stdin_default$p=defineComponent({name:name$n,props:pickerProps,emits:["confirm","cancel","change"],setup(e,{emit:r,slots:n}){const a=ref(!1),o=ref([]),{text:u,values:l,children:c}=extend$1({text:e.valueKey||"text",values:"values",children:"children"},e.columnsFieldNames),{children:g,linkChildren:d}=useChildren(PICKER_KEY);d();const v=computed(()=>unitToPx(e.itemHeight)),x=computed(()=>{const W=e.columns[0];if(typeof W=="object"){if(c in W)return"cascade";if(l in W)return"object"}return"plain"}),m=()=>{var W;const re=[];let q={[c]:e.columns};for(;q&&q[c];){const ie=q[c];let ne=(W=q.defaultIndex)!=null?W:+e.defaultIndex;for(;ie[ne]&&ie[ne].disabled;)if(ne<ie.length-1)ne++;else{ne=0;break}re.push({[l]:q[c],className:q.className,defaultIndex:ne}),q=ie[ne]}o.value=re},E=()=>{const{columns:W}=e;x.value==="plain"?o.value=[{[l]:W}]:x.value==="cascade"?m():o.value=W,a.value=o.value.some(re=>re[l]&&re[l].length!==0)},y=()=>g.map(W=>W.state.index),C=(W,re)=>{const q=g[W];q&&(q.setOptions(re),a.value=!0)},b=W=>{let re={[c]:e.columns};const q=y();for(let ie=0;ie<=W;ie++)re=re[c][q[ie]];for(;re&&re[c];)W++,C(W,re[c]),re=re[c][re.defaultIndex||0]},$=W=>g[W],B=W=>{const re=$(W);if(re)return re.getValue()},w=(W,re)=>{const q=$(W);q&&(q.setValue(re),x.value==="cascade"&&b(W))},F=W=>{const re=$(W);if(re)return re.state.index},U=(W,re)=>{const q=$(W);q&&(q.setIndex(re),x.value==="cascade"&&b(W))},_=W=>{const re=$(W);if(re)return re.state.options},T=()=>g.map(W=>W.getValue()),k=W=>{W.forEach((re,q)=>{w(q,re)})},N=W=>{W.forEach((re,q)=>{U(q,re)})},K=W=>{x.value==="plain"?r(W,B(0),F(0)):r(W,T(),y())},O=W=>{x.value==="cascade"&&b(W),x.value==="plain"?r("change",B(0),F(0)):r("change",T(),W)},V=()=>{g.forEach(W=>W.stopMomentum()),K("confirm")},J=()=>K("cancel"),H=()=>{if(n.title)return n.title();if(e.title)return createVNode("div",{class:[bem$o("title"),"van-ellipsis"]},[e.title])},G=()=>{const W=e.cancelButtonText||t$6("cancel");return createVNode("button",{type:"button",class:[bem$o("cancel"),HAPTICS_FEEDBACK],onClick:J},[n.cancel?n.cancel():W])},te=()=>{const W=e.confirmButtonText||t$6("confirm");return createVNode("button",{type:"button",class:[bem$o("confirm"),HAPTICS_FEEDBACK],onClick:V},[n.confirm?n.confirm():W])},Q=()=>{if(e.showToolbar){const W=n.toolbar||n.default;return createVNode("div",{class:bem$o("toolbar")},[W?W():[G(),H(),te()]])}},xe=()=>o.value.map((W,re)=>{var q;return createVNode(stdin_default$q,{textKey:u,readonly:e.readonly,allowHtml:e.allowHtml,className:W.className,itemHeight:v.value,defaultIndex:(q=W.defaultIndex)!=null?q:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:W[l],visibleItemCount:e.visibleItemCount,onChange:()=>O(re)},{option:n.option})}),ce=W=>{if(a.value){const re={height:`${v.value}px`},q={backgroundSize:`100% ${(W-v.value)/2}px`};return[createVNode("div",{class:bem$o("mask"),style:q},null),createVNode("div",{class:[BORDER_UNSET_TOP_BOTTOM,bem$o("frame")],style:re},null)]}},de=()=>{const W=v.value*+e.visibleItemCount,re={height:`${W}px`};return createVNode("div",{class:bem$o("columns"),style:re,onTouchmove:preventDefault},[xe(),ce(W)])};return watch(()=>e.columns,E,{immediate:!0}),useExpose({confirm:V,getValues:T,setValues:k,getIndexes:y,setIndexes:N,getColumnIndex:F,setColumnIndex:U,getColumnValue:B,setColumnValue:w,getColumnValues:_,setColumnValues:C}),()=>{var W,re;return createVNode("div",{class:bem$o()},[e.toolbarPosition==="top"?Q():null,e.loading?createVNode(Loading,{class:bem$o("loading")},null):null,(W=n["columns-top"])==null?void 0:W.call(n),de(),(re=n["columns-bottom"])==null?void 0:re.call(n),e.toolbarPosition==="bottom"?Q():null])}}});const Picker=withInstall(stdin_default$p),[name$m,bem$n]=createNamespace("area"),EMPTY_CODE="000000",INHERIT_SLOTS=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],INHERIT_PROPS=["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"],isOverseaCode=e=>e[0]==="9",areaProps=extend$1({},pickerSharedProps,{value:String,columnsNum:makeNumericProp(3),columnsPlaceholder:makeArrayProp(),areaList:{type:Object,default:()=>({})},isOverseaCode:{type:Function,default:isOverseaCode}});var stdin_default$o=defineComponent({name:name$m,props:areaProps,emits:["change","confirm","cancel"],setup(e,{emit:r,slots:n}){const a=ref(),o=reactive({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),u=computed(()=>{const{areaList:B}=e;return{province:B.province_list||{},city:B.city_list||{},county:B.county_list||{}}}),l=computed(()=>{const{columnsPlaceholder:B}=e;return{province:B[0]||"",city:B[1]||"",county:B[2]||""}}),c=()=>{if(e.columnsPlaceholder.length)return EMPTY_CODE;const{county:B,city:w}=u.value,F=Object.keys(B);if(F[0])return F[0];const U=Object.keys(w);return U[0]?U[0]:""},g=(B,w)=>{let F=[];if(B!=="province"&&!w)return F;const U=u.value[B];if(F=Object.keys(U).map(_=>({code:_,name:U[_]})),w&&(B==="city"&&e.isOverseaCode(w)&&(w="9"),F=F.filter(_=>_.code.indexOf(w)===0)),l.value[B]&&F.length){let _="";B==="city"?_=EMPTY_CODE.slice(2,4):B==="county"&&(_=EMPTY_CODE.slice(4,6)),F.unshift({code:w+_,name:l.value[B]})}return F},d=(B,w)=>{let F=w.length;B==="province"&&(F=e.isOverseaCode(w)?1:2),B==="city"&&(F=4),w=w.slice(0,F);const U=g(B,F>2?w.slice(0,F-2):"");for(let _=0;_<U.length;_++)if(U[_].code.slice(0,F)===w)return _;return 0},v=()=>{const B=a.value;if(!B)return;let w=o.code||c();const F=g("province"),U=g("city",w.slice(0,2));B.setColumnValues(0,F),B.setColumnValues(1,U),U.length&&w.slice(2,4)==="00"&&!e.isOverseaCode(w)&&([{code:w}]=U),B.setColumnValues(2,g("county",w.slice(0,4))),B.setIndexes([d("province",w),d("city",w),d("county",w)])},x=B=>B.map((w,F)=>(w&&(w=deepClone(w),(!w.code||w.name===e.columnsPlaceholder[F])&&(w.code="",w.name="")),w)),m=()=>{if(a.value){const B=a.value.getValues().filter(Boolean);return x(B)}return[]},E=()=>{const B=m(),w={code:"",country:"",province:"",city:"",county:""};if(!B.length)return w;const F=B.map(_=>_.name),U=B.filter(_=>_.code);return w.code=U.length?U[U.length-1].code:"",e.isOverseaCode(w.code)?(w.country=F[1]||"",w.province=F[2]||""):(w.province=F[0]||"",w.city=F[1]||"",w.county=F[2]||""),w},y=(B="")=>{o.code=B,v()},C=(B,w)=>{if(o.code=B[w].code,v(),a.value){const F=x(a.value.getValues());r("change",F,w)}},b=(B,w)=>{v(),r("confirm",x(B),w)},$=(...B)=>r("cancel",...B);return onMounted(v),watch(()=>e.value,B=>{o.code=B,v()}),watch(()=>e.areaList,v,{deep:!0}),watch(()=>e.columnsNum,()=>{nextTick(v)}),useExpose({reset:y,getArea:E,getValues:m}),()=>{const B=o.columns.slice(0,+e.columnsNum);return createVNode(Picker,mergeProps({ref:a,class:bem$n(),columns:B,columnsFieldNames:{text:"name"},onChange:C,onCancel:$,onConfirm:b},pick(e,INHERIT_PROPS)),pick(n,INHERIT_SLOTS))}}});const Area=withInstall(stdin_default$o),[name$l,bem$m]=createNamespace("cell"),cellSharedProps={icon:String,size:String,title:numericProp,value:numericProp,label:numericProp,center:Boolean,isLink:Boolean,border:truthProp,required:Boolean,iconPrefix:String,valueClass:unknownProp,labelClass:unknownProp,titleClass:unknownProp,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},cellProps=extend$1({},cellSharedProps,routeProps);var stdin_default$n=defineComponent({name:name$l,props:cellProps,setup(e,{slots:r}){const n=useRoute(),a=()=>{if(r.label||isDef(e.label))return createVNode("div",{class:[bem$m("label"),e.labelClass]},[r.label?r.label():e.label])},o=()=>{if(r.title||isDef(e.title))return createVNode("div",{class:[bem$m("title"),e.titleClass],style:e.titleStyle},[r.title?r.title():createVNode("span",null,[e.title]),a()])},u=()=>{const g=r.value||r.default;if(g||isDef(e.value)){const v=r.title||isDef(e.title);return createVNode("div",{class:[bem$m("value",{alone:!v}),e.valueClass]},[g?g():createVNode("span",null,[e.value])])}},l=()=>{if(r.icon)return r.icon();if(e.icon)return createVNode(Icon,{name:e.icon,class:bem$m("left-icon"),classPrefix:e.iconPrefix},null)},c=()=>{if(r["right-icon"])return r["right-icon"]();if(e.isLink){const g=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return createVNode(Icon,{name:g,class:bem$m("right-icon")},null)}};return()=>{var g,d;const{size:v,center:x,border:m,isLink:E,required:y}=e,C=(g=e.clickable)!=null?g:E,b={center:x,required:y,clickable:C,borderless:!m};return v&&(b[v]=!!v),createVNode("div",{class:bem$m(b),role:C?"button":void 0,tabindex:C?0:void 0,onClick:n},[l(),o(),u(),c(),(d=r.extra)==null?void 0:d.call(r)])}}});const Cell=withInstall(stdin_default$n),[name$k,bem$l]=createNamespace("form"),formProps={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:numericProp,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:truthProp,validateTrigger:makeStringProp("onBlur"),showErrorMessage:truthProp,errorMessageAlign:String};var stdin_default$m=defineComponent({name:name$k,props:formProps,emits:["submit","failed"],setup(e,{emit:r,slots:n}){const{children:a,linkChildren:o}=useChildren(FORM_KEY),u=C=>C?a.filter(b=>C.includes(b.name)):a,l=C=>new Promise((b,$)=>{const B=[];u(C).reduce((F,U)=>F.then(()=>{if(!B.length)return U.validate().then(_=>{_&&B.push(_)})}),Promise.resolve()).then(()=>{B.length?$(B):b()})}),c=C=>new Promise((b,$)=>{const B=u(C);Promise.all(B.map(w=>w.validate())).then(w=>{w=w.filter(Boolean),w.length?$(w):b()})}),g=C=>{const b=a.find($=>$.name===C);return b?new Promise(($,B)=>{b.validate().then(w=>{w?B(w):$()})}):Promise.reject()},d=C=>typeof C=="string"?g(C):e.validateFirst?l(C):c(C),v=C=>{typeof C=="string"&&(C=[C]),u(C).forEach($=>{$.resetValidation()})},x=(C,b)=>{a.some($=>$.name===C?($.$el.scrollIntoView(b),!0):!1)},m=()=>a.reduce((C,b)=>(C[b.name]=b.formValue.value,C),{}),E=()=>{const C=m();d().then(()=>r("submit",C)).catch(b=>{r("failed",{values:C,errors:b}),e.scrollToError&&b[0].name&&x(b[0].name)})},y=C=>{preventDefault(C),E()};return o({props:e}),useExpose({submit:E,validate:d,scrollToField:x,resetValidation:v}),()=>{var C;return createVNode("form",{class:bem$l(),onSubmit:y},[(C=n.default)==null?void 0:C.call(n)])}}});const Form=withInstall(stdin_default$m);function isEmptyValue(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function runSyncRule(e,r){return!(r.required&&isEmptyValue(e)||r.pattern&&!r.pattern.test(String(e)))}function runRuleValidator(e,r){return new Promise(n=>{const a=r.validator(e,r);if(isPromise(a)){a.then(n);return}n(a)})}function getRuleMessage(e,r){const{message:n}=r;return isFunction$1(n)?n(e,r):n||""}function startComposing({target:e}){e.composing=!0}function endComposing({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function resizeTextarea(e,r){const n=getRootScrollTop();e.style.height="auto";let a=e.scrollHeight;if(isObject$1(r)){const{maxHeight:o,minHeight:u}=r;o!==void 0&&(a=Math.min(a,o)),u!==void 0&&(a=Math.max(a,u))}a&&(e.style.height=`${a}px`,setRootScrollTop(n))}function mapInputType(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function getStringLength(e){return[...e].length}function cutString(e,r){return[...e].slice(0,r).join("")}let current=0;function useId(){const e=getCurrentInstance(),{name:r="unknown"}=(e==null?void 0:e.type)||{};return`${r}-${++current}`}const[name$j,bem$k]=createNamespace("field"),fieldSharedProps={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:numericProp,formatter:Function,clearIcon:makeStringProp("clear"),modelValue:makeNumericProp(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,clearTrigger:makeStringProp("focus"),formatTrigger:makeStringProp("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},fieldProps=extend$1({},cellSharedProps,fieldSharedProps,{rows:numericProp,type:makeStringProp("text"),rules:Array,autosize:[Boolean,Object],labelWidth:numericProp,labelClass:unknownProp,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var stdin_default$l=defineComponent({name:name$j,props:fieldProps,emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:r,slots:n}){const a=useId(),o=reactive({focused:!1,validateFailed:!1,validateMessage:""}),u=ref(),l=ref(),{parent:c}=useParent(FORM_KEY),g=()=>{var q;return String((q=e.modelValue)!=null?q:"")},d=q=>{if(isDef(e[q]))return e[q];if(c&&isDef(c.props[q]))return c.props[q]},v=computed(()=>{const q=d("readonly");if(e.clearable&&!q){const ie=g()!=="",ne=e.clearTrigger==="always"||e.clearTrigger==="focus"&&o.focused;return ie&&ne}return!1}),x=computed(()=>l.value&&n.input?l.value():e.modelValue),m=q=>q.reduce((ie,ne)=>ie.then(()=>{if(o.validateFailed)return;let{value:ue}=x;if(ne.formatter&&(ue=ne.formatter(ue,ne)),!runSyncRule(ue,ne)){o.validateFailed=!0,o.validateMessage=getRuleMessage(ue,ne);return}if(ne.validator)return runRuleValidator(ue,ne).then(se=>{se&&typeof se=="string"?(o.validateFailed=!0,o.validateMessage=se):se===!1&&(o.validateFailed=!0,o.validateMessage=getRuleMessage(ue,ne))})}),Promise.resolve()),E=()=>{o.validateFailed&&(o.validateFailed=!1,o.validateMessage="")},y=(q=e.rules)=>new Promise(ie=>{E(),q?m(q).then(()=>{o.validateFailed?ie({name:e.name,message:o.validateMessage}):ie()}):ie()}),C=q=>{if(c&&e.rules){const ie=c.props.validateTrigger===q,ne=e.rules.filter(ue=>ue.trigger?ue.trigger===q:ie);ne.length&&y(ne)}},b=q=>{const{maxlength:ie}=e;if(isDef(ie)&&getStringLength(q)>ie){const ne=g();return ne&&getStringLength(ne)===+ie?ne:cutString(q,+ie)}return q},$=(q,ie="onChange")=>{if(q=b(q),e.type==="number"||e.type==="digit"){const ne=e.type==="number";q=formatNumber(q,ne,ne)}e.formatter&&ie===e.formatTrigger&&(q=e.formatter(q)),u.value&&u.value.value!==q&&(u.value.value=q),q!==e.modelValue&&r("update:modelValue",q)},B=q=>{q.target.composing||$(q.target.value)},w=()=>{var q;return(q=u.value)==null?void 0:q.blur()},F=()=>{var q;return(q=u.value)==null?void 0:q.focus()},U=()=>{const q=u.value;e.type==="textarea"&&e.autosize&&q&&resizeTextarea(q,e.autosize)},_=q=>{o.focused=!0,r("focus",q),nextTick(U),d("readonly")&&w()},T=q=>{d("readonly")||(o.focused=!1,$(g(),"onBlur"),r("blur",q),C("onBlur"),nextTick(U),resetScroll())},k=q=>r("click-input",q),N=q=>r("click-left-icon",q),K=q=>r("click-right-icon",q),O=q=>{preventDefault(q),r("update:modelValue",""),r("clear",q)},V=computed(()=>{if(typeof e.error=="boolean")return e.error;if(c&&c.props.showError&&o.validateFailed)return!0}),J=computed(()=>{const q=d("labelWidth");if(q)return{width:addUnit(q)}}),H=q=>{q.keyCode===13&&(!(c&&c.props.submitOnEnter)&&e.type!=="textarea"&&preventDefault(q),e.type==="search"&&w()),r("keypress",q)},G=()=>e.id||`${a}-input`,te=()=>{const q=bem$k("control",[d("inputAlign"),{error:V.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return createVNode("div",{class:q,onClick:k},[n.input()]);const ie={id:G(),ref:u,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:q,value:e.modelValue,disabled:d("disabled"),readonly:d("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,"aria-labelledby":e.label?`${a}-label`:void 0,onBlur:T,onFocus:_,onInput:B,onClick:k,onChange:endComposing,onKeypress:H,onCompositionend:endComposing,onCompositionstart:startComposing};return e.type==="textarea"?createVNode("textarea",ie,null):createVNode("input",mergeProps(mapInputType(e.type),ie),null)},Q=()=>{const q=n["left-icon"];if(e.leftIcon||q)return createVNode("div",{class:bem$k("left-icon"),onClick:N},[q?q():createVNode(Icon,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},xe=()=>{const q=n["right-icon"];if(e.rightIcon||q)return createVNode("div",{class:bem$k("right-icon"),onClick:K},[q?q():createVNode(Icon,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},ce=()=>{if(e.showWordLimit&&e.maxlength){const q=getStringLength(g());return createVNode("div",{class:bem$k("word-limit")},[createVNode("span",{class:bem$k("word-num")},[q]),createTextVNode("/"),e.maxlength])}},de=()=>{if(c&&c.props.showErrorMessage===!1)return;const q=e.errorMessage||o.validateMessage;if(q){const ie=n["error-message"],ne=d("errorMessageAlign");return createVNode("div",{class:bem$k("error-message",ne)},[ie?ie({message:q}):q])}},W=()=>{const q=d("colon")?":":"";if(n.label)return[n.label(),q];if(e.label)return createVNode("label",{id:`${a}-label`,for:G()},[e.label+q])},re=()=>[createVNode("div",{class:bem$k("body")},[te(),v.value&&createVNode(Icon,{name:e.clearIcon,class:bem$k("clear"),onTouchstart:O},null),xe(),n.button&&createVNode("div",{class:bem$k("button")},[n.button()])]),ce(),de()];return useExpose({blur:w,focus:F,validate:y,formValue:x,resetValidation:E}),provide(CUSTOM_FIELD_INJECTION_KEY,{customValue:l,resetValidation:E,validateWithTrigger:C}),watch(()=>e.modelValue,()=>{$(g()),E(),C("onChange"),nextTick(U)}),onMounted(()=>{$(g(),e.formatTrigger),nextTick(U)}),()=>{const q=d("disabled"),ie=d("labelAlign"),ne=W(),ue=Q();return createVNode(Cell,{size:e.size,icon:e.leftIcon,class:bem$k({error:V.value,disabled:q,[`label-${ie}`]:ie}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:J.value,valueClass:bem$k("value"),titleClass:[bem$k("label",[ie,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:ue?()=>ue:null,title:ne?()=>ne:null,value:re,extra:n.extra})}}});const Field=withInstall(stdin_default$l);function usePopupState(){const e=reactive({show:!1}),r=o=>{e.show=o},n=o=>{extend$1(e,o,{transitionAppear:!0}),r(!0)},a=()=>r(!1);return useExpose({open:n,close:a,toggle:r}),{open:n,close:a,state:e,toggle:r}}function mountComponent(e){const r=createApp(e),n=document.createElement("div");return document.body.appendChild(n),{instance:r.mount(n),unmount(){r.unmount(),document.body.removeChild(n)}}}const[name$i,bem$j]=createNamespace("tag"),tagProps={size:String,mark:Boolean,show:truthProp,type:makeStringProp("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var stdin_default$k=defineComponent({name:name$i,props:tagProps,emits:["close"],setup(e,{slots:r,emit:n}){const a=l=>{l.stopPropagation(),n("close",l)},o=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},u=()=>{var l;const{type:c,mark:g,plain:d,round:v,size:x,closeable:m}=e,E={mark:g,plain:d,round:v};x&&(E[x]=x);const y=m&&createVNode(Icon,{name:"cross",class:[bem$j("close"),HAPTICS_FEEDBACK],onClick:a},null);return createVNode("span",{style:o(),class:bem$j([E,c])},[(l=r.default)==null?void 0:l.call(r),y])};return()=>createVNode(Transition,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?u():null]})}});const Tag=withInstall(stdin_default$k),useHeight=e=>{const r=ref(),n=()=>{r.value=useRect(e).height};return onMounted(()=>{nextTick(n),setTimeout(n,100)}),r},[name$h,bem$i]=createNamespace("image"),imageProps={src:String,alt:String,fit:String,position:String,round:Boolean,width:numericProp,height:numericProp,radius:numericProp,lazyLoad:Boolean,iconSize:numericProp,showError:truthProp,errorIcon:makeStringProp("photo-fail"),iconPrefix:String,showLoading:truthProp,loadingIcon:makeStringProp("photo")};var stdin_default$j=defineComponent({name:name$h,props:imageProps,emits:["load","error"],setup(e,{emit:r,slots:n}){const a=ref(!1),o=ref(!0),u=ref(),{$Lazyload:l}=getCurrentInstance().proxy,c=computed(()=>{const C={width:addUnit(e.width),height:addUnit(e.height)};return isDef(e.radius)&&(C.overflow="hidden",C.borderRadius=addUnit(e.radius)),C});watch(()=>e.src,()=>{a.value=!1,o.value=!0});const g=C=>{o.value=!1,r("load",C)},d=C=>{a.value=!0,o.value=!1,r("error",C)},v=(C,b,$)=>$?$():createVNode(Icon,{name:C,size:e.iconSize,class:b,classPrefix:e.iconPrefix},null),x=()=>{if(o.value&&e.showLoading)return createVNode("div",{class:bem$i("loading")},[v(e.loadingIcon,bem$i("loading-icon"),n.loading)]);if(a.value&&e.showError)return createVNode("div",{class:bem$i("error")},[v(e.errorIcon,bem$i("error-icon"),n.error)])},m=()=>{if(a.value||!e.src)return;const C={alt:e.alt,class:bem$i("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?withDirectives(createVNode("img",mergeProps({ref:u},C),null),[[resolveDirective("lazy"),e.src]]):createVNode("img",mergeProps({src:e.src,onLoad:g,onError:d},C),null)},E=({el:C})=>{const b=()=>{C===u.value&&o.value&&g()};u.value?b():nextTick(b)},y=({el:C})=>{C===u.value&&!a.value&&d()};return l&&inBrowser$1&&(l.$on("loaded",E),l.$on("error",y),onBeforeUnmount(()=>{l.$off("loaded",E),l.$off("error",y)})),()=>{var C;return createVNode("div",{class:bem$i({round:e.round}),style:c.value},[m(),x(),(C=n.default)==null?void 0:C.call(n)])}}});const Image=withInstall(stdin_default$j),[name$g,bem$h]=createNamespace("swipe"),swipeProps={loop:truthProp,width:numericProp,height:numericProp,vertical:Boolean,autoplay:makeNumericProp(0),duration:makeNumericProp(500),touchable:truthProp,lazyRender:Boolean,initialSwipe:makeNumericProp(0),indicatorColor:String,showIndicators:truthProp,stopPropagation:truthProp},SWIPE_KEY=Symbol(name$g);var stdin_default$i=defineComponent({name:name$g,props:swipeProps,emits:["change"],setup(e,{emit:r,slots:n}){const a=ref(),o=reactive({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),u=useTouch(),{children:l,linkChildren:c}=useChildren(SWIPE_KEY),g=computed(()=>l.length),d=computed(()=>o[e.vertical?"height":"width"]),v=computed(()=>e.vertical?u.deltaY.value:u.deltaX.value),x=computed(()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-d.value*g.value:0),m=computed(()=>Math.ceil(Math.abs(x.value)/d.value)),E=computed(()=>g.value*d.value),y=computed(()=>(o.active+g.value)%g.value),C=computed(()=>{const ce=e.vertical?"vertical":"horizontal";return u.direction.value===ce}),b=computed(()=>{const ce={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${o.offset}px)`};if(d.value){const de=e.vertical?"height":"width",W=e.vertical?"width":"height";ce[de]=`${E.value}px`,ce[W]=e[W]?`${e[W]}px`:""}return ce}),$=ce=>{const{active:de}=o;return ce?e.loop?clamp(de+ce,-1,g.value):clamp(de+ce,0,m.value):de},B=(ce,de=0)=>{let W=ce*d.value;e.loop||(W=Math.min(W,-x.value));let re=de-W;return e.loop||(re=clamp(re,x.value,0)),re},w=({pace:ce=0,offset:de=0,emitChange:W})=>{if(g.value<=1)return;const{active:re}=o,q=$(ce),ie=B(q,de);if(e.loop){if(l[0]&&ie!==x.value){const ne=ie<x.value;l[0].setOffset(ne?E.value:0)}if(l[g.value-1]&&ie!==0){const ne=ie>0;l[g.value-1].setOffset(ne?-E.value:0)}}o.active=q,o.offset=ie,W&&q!==re&&r("change",y.value)},F=()=>{o.swiping=!0,o.active<=-1?w({pace:g.value}):o.active>=g.value&&w({pace:-g.value})},U=()=>{F(),u.reset(),doubleRaf(()=>{o.swiping=!1,w({pace:-1,emitChange:!0})})},_=()=>{F(),u.reset(),doubleRaf(()=>{o.swiping=!1,w({pace:1,emitChange:!0})})};let T;const k=()=>clearTimeout(T),N=()=>{k(),e.autoplay>0&&g.value>1&&(T=setTimeout(()=>{_(),N()},+e.autoplay))},K=(ce=+e.initialSwipe)=>{if(!a.value)return;const de=()=>{var W,re;if(!isHidden(a)){const q={width:a.value.offsetWidth,height:a.value.offsetHeight};o.rect=q,o.width=+((W=e.width)!=null?W:q.width),o.height=+((re=e.height)!=null?re:q.height)}g.value&&(ce=Math.min(g.value-1,ce)),o.active=ce,o.swiping=!0,o.offset=B(ce),l.forEach(q=>{q.setOffset(0)}),N()};isHidden(a)?nextTick().then(de):de()},O=()=>K(o.active);let V;const J=ce=>{!e.touchable||(u.start(ce),V=Date.now(),k(),F())},H=ce=>{e.touchable&&o.swiping&&(u.move(ce),C.value&&(preventDefault(ce,e.stopPropagation),w({offset:v.value})))},G=()=>{if(!e.touchable||!o.swiping)return;const ce=Date.now()-V,de=v.value/ce;if((Math.abs(de)>.25||Math.abs(v.value)>d.value/2)&&C.value){const re=e.vertical?u.offsetY.value:u.offsetX.value;let q=0;e.loop?q=re>0?v.value>0?-1:1:0:q=-Math[v.value>0?"ceil":"floor"](v.value/d.value),w({pace:q,emitChange:!0})}else v.value&&w({pace:0});o.swiping=!1,N()},te=(ce,de={})=>{F(),u.reset(),doubleRaf(()=>{let W;e.loop&&ce===g.value?W=o.active===0?0:ce:W=ce%g.value,de.immediate?doubleRaf(()=>{o.swiping=!1}):o.swiping=!1,w({pace:W-o.active,emitChange:!0})})},Q=(ce,de)=>{const W=de===y.value,re=W?{backgroundColor:e.indicatorColor}:void 0;return createVNode("i",{style:re,class:bem$h("indicator",{active:W})},null)},xe=()=>{if(n.indicator)return n.indicator({active:y.value,total:g.value});if(e.showIndicators&&g.value>1)return createVNode("div",{class:bem$h("indicators",{vertical:e.vertical})},[Array(g.value).fill("").map(Q)])};return useExpose({prev:U,next:_,state:o,resize:O,swipeTo:te}),c({size:d,props:e,count:g,activeIndicator:y}),watch(()=>e.initialSwipe,ce=>K(+ce)),watch(g,()=>K(o.active)),watch(()=>e.autoplay,N),watch([windowWidth,windowHeight],O),watch(usePageVisibility(),ce=>{ce==="visible"?N():k()}),onMounted(K),onActivated(()=>K(o.active)),onPopupReopen(()=>K(o.active)),onDeactivated(k),onBeforeUnmount(k),()=>{var ce;return createVNode("div",{ref:a,class:bem$h()},[createVNode("div",{style:b.value,class:bem$h("track",{vertical:e.vertical}),onTouchstart:J,onTouchmove:H,onTouchend:G,onTouchcancel:G},[(ce=n.default)==null?void 0:ce.call(n)]),xe()])}}});const Swipe=withInstall(stdin_default$i),TAB_STATUS_KEY=Symbol(),useTabStatus=()=>inject(TAB_STATUS_KEY,null),[name$f,bem$g]=createNamespace("swipe-item");var stdin_default$h=defineComponent({name:name$f,setup(e,{slots:r}){let n;const a=reactive({offset:0,inited:!1,mounted:!1}),{parent:o,index:u}=useParent(SWIPE_KEY);if(!o)return;const l=computed(()=>{const d={},{vertical:v}=o.props;return o.size.value&&(d[v?"height":"width"]=`${o.size.value}px`),a.offset&&(d.transform=`translate${v?"Y":"X"}(${a.offset}px)`),d}),c=computed(()=>{const{loop:d,lazyRender:v}=o.props;if(!v||n)return!0;if(!a.mounted)return!1;const x=o.activeIndicator.value,m=o.count.value-1,E=x===0&&d?m:x-1,y=x===m&&d?0:x+1;return n=u.value===x||u.value===E||u.value===y,n}),g=d=>{a.offset=d};return onMounted(()=>{nextTick(()=>{a.mounted=!0})}),useExpose({setOffset:g}),()=>{var d;return createVNode("div",{class:bem$g(),style:l.value},[c.value?(d=r.default)==null?void 0:d.call(r):null])}}});const SwipeItem=withInstall(stdin_default$h),[name$e,bem$f]=createNamespace("cell-group"),cellGroupProps={title:String,inset:Boolean,border:truthProp};var stdin_default$g=defineComponent({name:name$e,inheritAttrs:!1,props:cellGroupProps,setup(e,{slots:r,attrs:n}){const a=()=>{var u;return createVNode("div",mergeProps({class:[bem$f({inset:e.inset}),{[BORDER_TOP_BOTTOM]:e.border&&!e.inset}]},n),[(u=r.default)==null?void 0:u.call(r)])},o=()=>createVNode("div",{class:bem$f("title",{inset:e.inset})},[r.title?r.title():e.title]);return()=>e.title||r.title?createVNode(Fragment,null,[o(),a()]):a()}});const CellGroup=withInstall(stdin_default$g),[name$d,bem$e,t$5]=createNamespace("dialog"),dialogProps=extend$1({},popupSharedProps,{title:String,theme:String,width:numericProp,message:[String,Function],callback:Function,allowHtml:Boolean,className:unknownProp,transition:makeStringProp("van-dialog-bounce"),messageAlign:String,closeOnPopstate:truthProp,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:truthProp,closeOnClickOverlay:Boolean}),popupInheritKeys=[...popupSharedPropKeys,"transition","closeOnPopstate"];var stdin_default$f=defineComponent({name:name$d,props:dialogProps,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:r,slots:n}){const a=ref(),o=reactive({confirm:!1,cancel:!1}),u=$=>r("update:show",$),l=$=>{var B;u(!1),(B=e.callback)==null||B.call(e,$)},c=$=>()=>{!e.show||(r($),e.beforeClose?(o[$]=!0,callInterceptor(e.beforeClose,{args:[$],done(){l($),o[$]=!1},canceled(){o[$]=!1}})):l($))},g=c("cancel"),d=c("confirm"),v=withKeys($=>{var B,w;if($.target!==((w=(B=a.value)==null?void 0:B.popupRef)==null?void 0:w.value))return;({Enter:e.showConfirmButton?d:noop,Escape:e.showCancelButton?g:noop})[$.key](),r("keydown",$)},["enter","esc"]),x=()=>{const $=n.title?n.title():e.title;if($)return createVNode("div",{class:bem$e("header",{isolated:!e.message&&!n.default})},[$])},m=$=>{const{message:B,allowHtml:w,messageAlign:F}=e,U=bem$e("message",{"has-title":$,[F]:F}),_=isFunction$1(B)?B():B;return w&&typeof _=="string"?createVNode("div",{class:U,innerHTML:_},null):createVNode("div",{class:U},[_])},E=()=>{if(n.default)return createVNode("div",{class:bem$e("content")},[n.default()]);const{title:$,message:B,allowHtml:w}=e;if(B){const F=!!($||n.title);return createVNode("div",{key:w?1:0,class:bem$e("content",{isolated:!F})},[m(F)])}},y=()=>createVNode("div",{class:[BORDER_TOP,bem$e("footer")]},[e.showCancelButton&&createVNode(Button,{size:"large",text:e.cancelButtonText||t$5("cancel"),class:bem$e("cancel"),style:{color:e.cancelButtonColor},loading:o.cancel,onClick:g},null),e.showConfirmButton&&createVNode(Button,{size:"large",text:e.confirmButtonText||t$5("confirm"),class:[bem$e("confirm"),{[BORDER_LEFT]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:o.confirm,onClick:d},null)]),C=()=>createVNode(ActionBar,{class:bem$e("footer")},{default:()=>[e.showCancelButton&&createVNode(ActionBarButton,{type:"warning",text:e.cancelButtonText||t$5("cancel"),class:bem$e("cancel"),color:e.cancelButtonColor,loading:o.cancel,onClick:g},null),e.showConfirmButton&&createVNode(ActionBarButton,{type:"danger",text:e.confirmButtonText||t$5("confirm"),class:bem$e("confirm"),color:e.confirmButtonColor,loading:o.confirm,onClick:d},null)]}),b=()=>n.footer?n.footer():e.theme==="round-button"?C():y();return()=>{const{width:$,title:B,theme:w,message:F,className:U}=e;return createVNode(Popup,mergeProps({ref:a,role:"dialog",class:[bem$e([w]),U],style:{width:addUnit($)},tabindex:0,"aria-labelledby":B||F,onKeydown:v,"onUpdate:show":u},pick(e,popupInheritKeys)),{default:()=>[x(),E(),b()]})}}});let instance$2;function initInstance$2(){({instance:instance$2}=mountComponent({setup(){const{state:r,toggle:n}=usePopupState();return()=>createVNode(stdin_default$f,mergeProps(r,{"onUpdate:show":n}),null)}}))}function Dialog(e){return inBrowser$1?new Promise((r,n)=>{instance$2||initInstance$2(),instance$2.open(extend$1({},Dialog.currentOptions,e,{callback:a=>{(a==="confirm"?r:n)(a)}}))}):Promise.resolve()}Dialog.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};Dialog.currentOptions=extend$1({},Dialog.defaultOptions);Dialog.alert=Dialog;Dialog.confirm=e=>Dialog(extend$1({showCancelButton:!0},e));Dialog.close=()=>{instance$2&&instance$2.toggle(!1)};Dialog.setDefaultOptions=e=>{extend$1(Dialog.currentOptions,e)};Dialog.resetDefaultOptions=()=>{Dialog.currentOptions=extend$1({},Dialog.defaultOptions)};Dialog.Component=withInstall(stdin_default$f);Dialog.install=e=>{e.use(Dialog.Component),e.config.globalProperties.$dialog=Dialog};const[name$c,bem$d]=createNamespace("divider"),dividerProps={dashed:Boolean,hairline:truthProp,contentPosition:makeStringProp("center")};var stdin_default$e=defineComponent({name:name$c,props:dividerProps,setup(e,{slots:r}){return()=>{var n;return createVNode("div",{role:"separator",class:bem$d({dashed:e.dashed,hairline:e.hairline,[`content-${e.contentPosition}`]:!!r.default})},[(n=r.default)==null?void 0:n.call(r)])}}});const Divider=withInstall(stdin_default$e),[name$b,bem$c]=createNamespace("grid"),gridProps={square:Boolean,center:truthProp,border:truthProp,gutter:numericProp,reverse:Boolean,iconSize:numericProp,direction:String,clickable:Boolean,columnNum:makeNumericProp(4)},GRID_KEY=Symbol(name$b);var stdin_default$d=defineComponent({name:name$b,props:gridProps,setup(e,{slots:r}){const{linkChildren:n}=useChildren(GRID_KEY);return n({props:e}),()=>{var a;return createVNode("div",{style:{paddingLeft:addUnit(e.gutter)},class:[bem$c(),{[BORDER_TOP]:e.border&&!e.gutter}]},[(a=r.default)==null?void 0:a.call(r)])}}});const Grid=withInstall(stdin_default$d),[name$a,bem$b]=createNamespace("grid-item"),gridItemProps=extend$1({},routeProps,{dot:Boolean,text:String,icon:String,badge:numericProp,iconColor:String,iconPrefix:String,badgeProps:Object});var stdin_default$c=defineComponent({name:name$a,props:gridItemProps,setup(e,{slots:r}){const{parent:n,index:a}=useParent(GRID_KEY),o=useRoute();if(!n)return;const u=computed(()=>{const{square:v,gutter:x,columnNum:m}=n.props,E=`${100/+m}%`,y={flexBasis:E};if(v)y.paddingTop=E;else if(x){const C=addUnit(x);y.paddingRight=C,a.value>=m&&(y.marginTop=C)}return y}),l=computed(()=>{const{square:v,gutter:x}=n.props;if(v&&x){const m=addUnit(x);return{right:m,bottom:m,height:"auto"}}}),c=()=>{if(r.icon)return createVNode(Badge,mergeProps({dot:e.dot,content:e.badge},e.badgeProps),{default:r.icon});if(e.icon)return createVNode(Icon,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:bem$b("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},g=()=>{if(r.text)return r.text();if(e.text)return createVNode("span",{class:bem$b("text")},[e.text])},d=()=>r.default?r.default():[c(),g()];return()=>{const{center:v,border:x,square:m,gutter:E,reverse:y,direction:C,clickable:b}=n.props,$=[bem$b("content",[C,{center:v,square:m,reverse:y,clickable:b,surround:x&&E}]),{[BORDER]:x}];return createVNode("div",{class:[bem$b({square:m})],style:u.value},[createVNode("div",{role:b?"button":void 0,class:$,style:l.value,tabindex:b?0:void 0,onClick:o},[d()])])}}});const GridItem=withInstall(stdin_default$c),getDistance=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),bem$a=createNamespace("image-preview")[1];var stdin_default$b=defineComponent({props:{src:String,show:Boolean,active:Number,minZoom:makeRequiredProp(numericProp),maxZoom:makeRequiredProp(numericProp),rootWidth:makeRequiredProp(Number),rootHeight:makeRequiredProp(Number)},emits:["scale","close"],setup(e,{emit:r}){const n=reactive({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),a=useTouch(),o=computed(()=>{const{rootWidth:T,rootHeight:k}=e,N=k/T;return n.imageRatio>N}),u=computed(()=>{const{scale:T,moveX:k,moveY:N,moving:K,zooming:O}=n,V={transitionDuration:O||K?"0s":".3s"};if(T!==1){const J=k/T,H=N/T;V.transform=`scale(${T}, ${T}) translate(${J}px, ${H}px)`}return V}),l=computed(()=>{if(n.imageRatio){const{rootWidth:T,rootHeight:k}=e,N=o.value?k/n.imageRatio:T;return Math.max(0,(n.scale*N-T)/2)}return 0}),c=computed(()=>{if(n.imageRatio){const{rootWidth:T,rootHeight:k}=e,N=o.value?k:T*n.imageRatio;return Math.max(0,(n.scale*N-k)/2)}return 0}),g=T=>{T=clamp(T,+e.minZoom,+e.maxZoom+1),T!==n.scale&&(n.scale=T,r("scale",{scale:T,index:e.active}))},d=()=>{g(1),n.moveX=0,n.moveY=0},v=()=>{const T=n.scale>1?1:2;g(T),n.moveX=0,n.moveY=0};let x,m,E,y,C,b,$;const B=T=>{const{touches:k}=T,{offsetX:N}=a;a.start(T),x=k.length,m=n.moveX,E=n.moveY,$=Date.now(),n.moving=x===1&&n.scale!==1,n.zooming=x===2&&!N.value,n.zooming&&(y=n.scale,C=getDistance(T.touches))},w=T=>{const{touches:k}=T;if(a.move(T),(n.moving||n.zooming)&&preventDefault(T,!0),n.moving){const{deltaX:N,deltaY:K}=a,O=N.value+m,V=K.value+E;n.moveX=clamp(O,-l.value,l.value),n.moveY=clamp(V,-c.value,c.value)}if(n.zooming&&k.length===2){const N=getDistance(k),K=y*N/C;g(K)}},F=()=>{if(x>1)return;const{offsetX:T,offsetY:k}=a,N=Date.now()-$,K=250,O=5;T.value<O&&k.value<O&&N<K&&(b?(clearTimeout(b),b=null,v()):b=setTimeout(()=>{r("close"),b=null},K))},U=T=>{let k=!1;(n.moving||n.zooming)&&(k=!0,n.moving&&m===n.moveX&&E===n.moveY&&(k=!1),T.touches.length||(n.zooming&&(n.moveX=clamp(n.moveX,-l.value,l.value),n.moveY=clamp(n.moveY,-c.value,c.value),n.zooming=!1),n.moving=!1,m=0,E=0,y=1,n.scale<1&&d(),n.scale>e.maxZoom&&(n.scale=+e.maxZoom))),preventDefault(T,k),F(),a.reset()},_=T=>{const{naturalWidth:k,naturalHeight:N}=T.target;n.imageRatio=N/k};return watch(()=>e.active,d),watch(()=>e.show,T=>{T||d()}),()=>{const T={loading:()=>createVNode(Loading,{type:"spinner"},null)};return createVNode(SwipeItem,{class:bem$a("swipe-item"),onTouchstart:B,onTouchmove:w,onTouchend:U,onTouchcancel:U},{default:()=>[createVNode(Image,{src:e.src,fit:"contain",class:bem$a("image",{vertical:o.value}),style:u.value,onLoad:_},T)]})}}});const[name$9,bem$9]=createNamespace("image-preview"),popupProps$1=["show","transition","overlayStyle","closeOnPopstate"],imagePreviewProps={show:Boolean,loop:truthProp,images:makeArrayProp(),minZoom:makeNumericProp(1/3),maxZoom:makeNumericProp(3),overlay:truthProp,closeable:Boolean,showIndex:truthProp,className:unknownProp,closeIcon:makeStringProp("clear"),transition:String,beforeClose:Function,overlayClass:unknownProp,overlayStyle:Object,swipeDuration:makeNumericProp(300),startPosition:makeNumericProp(0),showIndicators:Boolean,closeOnPopstate:truthProp,closeIconPosition:makeStringProp("top-right")};var stdin_default$a=defineComponent({name:name$9,props:imagePreviewProps,emits:["scale","close","closed","change","update:show"],setup(e,{emit:r,slots:n}){const a=ref(),o=reactive({active:0,rootWidth:0,rootHeight:0}),u=()=>{if(a.value){const b=useRect(a.value.$el);o.rootWidth=b.width,o.rootHeight=b.height,a.value.resize()}},l=b=>r("scale",b),c=b=>r("update:show",b),g=()=>{callInterceptor(e.beforeClose,{args:[o.active],done:()=>c(!1)})},d=b=>{b!==o.active&&(o.active=b,r("change",b))},v=()=>{if(e.showIndex)return createVNode("div",{class:bem$9("index")},[n.index?n.index({index:o.active}):`${o.active+1} / ${e.images.length}`])},x=()=>{if(n.cover)return createVNode("div",{class:bem$9("cover")},[n.cover()])},m=()=>createVNode(Swipe,{ref:a,lazyRender:!0,loop:e.loop,class:bem$9("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:d},{default:()=>[e.images.map(b=>createVNode(stdin_default$b,{src:b,show:e.show,active:o.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:o.rootWidth,rootHeight:o.rootHeight,onScale:l,onClose:g},null))]}),E=()=>{if(e.closeable)return createVNode(Icon,{role:"button",name:e.closeIcon,class:[bem$9("close-icon",e.closeIconPosition),HAPTICS_FEEDBACK],onClick:g},null)},y=()=>r("closed"),C=(b,$)=>{var B;return(B=a.value)==null?void 0:B.swipeTo(b,$)};return useExpose({swipeTo:C}),onMounted(u),watch([windowWidth,windowHeight],u),watch(()=>e.startPosition,b=>d(+b)),watch(()=>e.show,b=>{const{images:$,startPosition:B}=e;b?(d(+B),nextTick(()=>{u(),C(+B,{immediate:!0})})):r("close",{index:o.active,url:$[o.active]})}),()=>createVNode(Popup,mergeProps({class:[bem$9(),e.className],overlayClass:[bem$9("overlay"),e.overlayClass],onClosed:y,"onUpdate:show":c},pick(e,popupProps$1)),{default:()=>[E(),m(),v(),x()]})}});let instance$1;const defaultConfig={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function initInstance$1(){({instance:instance$1}=mountComponent({setup(){const{state:e,toggle:r}=usePopupState(),n=()=>{e.images=[]};return()=>createVNode(stdin_default$a,mergeProps(e,{onClosed:n,"onUpdate:show":r}),null)}}))}const ImagePreview=(e,r=0)=>{if(!!inBrowser$1)return instance$1||initInstance$1(),e=Array.isArray(e)?{images:e,startPosition:r}:e,instance$1.open(extend$1({},defaultConfig,e)),instance$1};ImagePreview.Component=withInstall(stdin_default$a);ImagePreview.install=e=>{e.use(ImagePreview.Component)};const[name$8,bem$8,t$4]=createNamespace("list"),listProps={error:Boolean,offset:makeNumericProp(300),loading:Boolean,finished:Boolean,errorText:String,direction:makeStringProp("down"),loadingText:String,finishedText:String,immediateCheck:truthProp};var stdin_default$9=defineComponent({name:name$8,props:listProps,emits:["load","update:error","update:loading"],setup(e,{emit:r,slots:n}){const a=ref(!1),o=ref(),u=ref(),l=useTabStatus(),c=useScrollParent(o),g=()=>{nextTick(()=>{if(a.value||e.finished||e.error||(l==null?void 0:l.value)===!1)return;const{offset:E,direction:y}=e,C=useRect(c);if(!C.height||isHidden(o))return;let b=!1;const $=useRect(u);y==="up"?b=C.top-$.top<=E:b=$.bottom-C.bottom<=E,b&&(a.value=!0,r("update:loading",!0),r("load"))})},d=()=>{if(e.finished){const E=n.finished?n.finished():e.finishedText;if(E)return createVNode("div",{class:bem$8("finished-text")},[E])}},v=()=>{r("update:error",!1),g()},x=()=>{if(e.error){const E=n.error?n.error():e.errorText;if(E)return createVNode("div",{role:"button",class:bem$8("error-text"),tabindex:0,onClick:v},[E])}},m=()=>{if(a.value&&!e.finished)return createVNode("div",{class:bem$8("loading")},[n.loading?n.loading():createVNode(Loading,{class:bem$8("loading-icon")},{default:()=>[e.loadingText||t$4("loading")]})])};return watch(()=>[e.loading,e.finished,e.error],g),l&&watch(l,E=>{E&&g()}),onUpdated(()=>{a.value=e.loading}),onMounted(()=>{e.immediateCheck&&g()}),useExpose({check:g}),useEventListener("scroll",g,{target:c}),()=>{var E;const y=(E=n.default)==null?void 0:E.call(n),C=createVNode("div",{ref:u,class:bem$8("placeholder")},null);return createVNode("div",{ref:o,role:"feed",class:bem$8(),"aria-busy":a.value},[e.direction==="down"?y:C,m(),d(),x(),e.direction==="up"?y:C])}}});const List=withInstall(stdin_default$9);function usePlaceholder(e,r){const n=useHeight(e);return a=>createVNode("div",{class:r("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[a()])}const[name$7,bem$7]=createNamespace("nav-bar"),navBarProps={title:String,fixed:Boolean,zIndex:numericProp,border:truthProp,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var stdin_default$8=defineComponent({name:name$7,props:navBarProps,emits:["click-left","click-right"],setup(e,{emit:r,slots:n}){const a=ref(),o=usePlaceholder(a,bem$7),u=v=>r("click-left",v),l=v=>r("click-right",v),c=()=>n.left?n.left():[e.leftArrow&&createVNode(Icon,{class:bem$7("arrow"),name:"arrow-left"},null),e.leftText&&createVNode("span",{class:bem$7("text")},[e.leftText])],g=()=>n.right?n.right():createVNode("span",{class:bem$7("text")},[e.rightText]),d=()=>{const{title:v,fixed:x,border:m,zIndex:E}=e,y=getZIndexStyle(E),C=e.leftArrow||e.leftText||n.left,b=e.rightText||n.right;return createVNode("div",{ref:a,style:y,class:[bem$7({fixed:x}),{[BORDER_BOTTOM]:m,"van-safe-area-top":e.safeAreaInsetTop}]},[createVNode("div",{class:bem$7("content")},[C&&createVNode("div",{class:[bem$7("left"),HAPTICS_FEEDBACK],onClick:u},[c()]),createVNode("div",{class:[bem$7("title"),"van-ellipsis"]},[n.title?n.title():v]),b&&createVNode("div",{class:[bem$7("right"),HAPTICS_FEEDBACK],onClick:l},[g()])])])};return()=>e.fixed&&e.placeholder?o(d):d()}});const NavBar=withInstall(stdin_default$8),[name$6,bem$6]=createNamespace("notify"),notifyProps=extend$1({},popupSharedProps,{type:makeStringProp("danger"),color:String,message:numericProp,position:makeStringProp("top"),className:unknownProp,background:String,lockScroll:Boolean});var stdin_default$7=defineComponent({name:name$6,props:notifyProps,emits:["update:show"],setup(e,{emit:r,slots:n}){const a=o=>r("update:show",o);return()=>createVNode(Popup,{show:e.show,class:[bem$6([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":a},{default:()=>[n.default?n.default():e.message]})}});let timer,instance;const parseOptions=e=>isObject$1(e)?e:{message:e};function initInstance(){({instance}=mountComponent({setup(){const{state:e,toggle:r}=usePopupState();return()=>createVNode(stdin_default$7,mergeProps(e,{"onUpdate:show":r}),null)}}))}function Notify(e){if(!!inBrowser$1)return instance||initInstance(),e=extend$1({},Notify.currentOptions,parseOptions(e)),instance.open(e),clearTimeout(timer),e.duration>0&&(timer=window.setTimeout(Notify.clear,e.duration)),instance}const getDefaultOptions=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});Notify.clear=()=>{instance&&instance.toggle(!1)};Notify.currentOptions=getDefaultOptions();Notify.setDefaultOptions=e=>{extend$1(Notify.currentOptions,e)};Notify.resetDefaultOptions=()=>{Notify.currentOptions=getDefaultOptions()};Notify.Component=withInstall(stdin_default$7);Notify.install=e=>{e.use(Notify.Component),e.config.globalProperties.$notify=Notify};function getBoundingClientRect(e){var r=e.getBoundingClientRect();return{width:r.width,height:r.height,top:r.top,right:r.right,bottom:r.bottom,left:r.left,x:r.left,y:r.top}}function getWindow(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var r=e.ownerDocument;return r&&r.defaultView||window}return e}function getWindowScroll(e){var r=getWindow(e),n=r.pageXOffset,a=r.pageYOffset;return{scrollLeft:n,scrollTop:a}}function isElement(e){var r=getWindow(e).Element;return e instanceof r||e instanceof Element}function isHTMLElement(e){var r=getWindow(e).HTMLElement;return e instanceof r||e instanceof HTMLElement}function isShadowRoot(e){if(typeof ShadowRoot=="undefined")return!1;var r=getWindow(e).ShadowRoot;return e instanceof r||e instanceof ShadowRoot}function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e===getWindow(e)||!isHTMLElement(e)?getWindowScroll(e):getHTMLElementScroll(e)}function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getDocumentElement(e){return((isElement(e)?e.ownerDocument:e.document)||window.document).documentElement}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getComputedStyle(e){return getWindow(e).getComputedStyle(e)}function isScrollParent(e){var r=getComputedStyle(e),n=r.overflow,a=r.overflowX,o=r.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+a)}function getCompositeRect(e,r,n){n===void 0&&(n=!1);var a=getDocumentElement(r),o=getBoundingClientRect(e),u=isHTMLElement(r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(u||!u&&!n)&&((getNodeName(r)!=="body"||isScrollParent(a))&&(l=getNodeScroll(r)),isHTMLElement(r)?(c=getBoundingClientRect(r),c.x+=r.clientLeft,c.y+=r.clientTop):a&&(c.x=getWindowScrollBarX(a))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function getLayoutRect(e){var r=getBoundingClientRect(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(r.width-n)<=1&&(n=r.width),Math.abs(r.height-a)<=1&&(a=r.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function getParentNode(e){return getNodeName(e)==="html"?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,r){var n;r===void 0&&(r=[]);var a=getScrollParent(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),u=getWindow(a),l=o?[u].concat(u.visualViewport||[],isScrollParent(a)?a:[]):a,c=r.concat(l);return o?c:c.concat(listScrollParents(getParentNode(l)))}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getTrueOffsetParent(e){return!isHTMLElement(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function getContainingBlock(e){var r=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&isHTMLElement(e)){var a=getComputedStyle(e);if(a.position==="fixed")return null}for(var o=getParentNode(e);isHTMLElement(o)&&["html","body"].indexOf(getNodeName(o))<0;){var u=getComputedStyle(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function getOffsetParent(e){for(var r=getWindow(e),n=getTrueOffsetParent(e);n&&isTableElement(n)&&getComputedStyle(n).position==="static";)n=getTrueOffsetParent(n);return n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle(n).position==="static")?r:n||getContainingBlock(e)||r}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",placements=[].concat(basePlacements,[auto]).reduce(function(e,r){return e.concat([r,r+"-"+start,r+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function order(e){var r=new Map,n=new Set,a=[];e.forEach(function(u){r.set(u.name,u)});function o(u){n.add(u.name);var l=[].concat(u.requires||[],u.requiresIfExists||[]);l.forEach(function(c){if(!n.has(c)){var g=r.get(c);g&&o(g)}}),a.push(u)}return e.forEach(function(u){n.has(u.name)||o(u)}),a}function orderModifiers(e){var r=order(e);return modifierPhases.reduce(function(n,a){return n.concat(r.filter(function(o){return o.phase===a}))},[])}function debounce(e){var r;return function(){return r||(r=new Promise(function(n){Promise.resolve().then(function(){r=void 0,n(e())})})),r}}function getBasePlacement(e){return e.split("-")[0]}function mergeByName(e){var r=e.reduce(function(n,a){var o=n[a.name];return n[a.name]=o?Object.assign({},o,a,{options:Object.assign({},o.options,a.options),data:Object.assign({},o.data,a.data)}):a,n},{});return Object.keys(r).map(function(n){return r[n]})}var round=Math.round;function getVariation(e){return e.split("-")[1]}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function computeOffsets(e){var r=e.reference,n=e.element,a=e.placement,o=a?getBasePlacement(a):null,u=a?getVariation(a):null,l=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2,g;switch(o){case top:g={x:l,y:r.y-n.height};break;case bottom:g={x:l,y:r.y+r.height};break;case right:g={x:r.x+r.width,y:c};break;case left:g={x:r.x-n.width,y:c};break;default:g={x:r.x,y:r.y}}var d=o?getMainAxisFromPlacement(o):null;if(d!=null){var v=d==="y"?"height":"width";switch(u){case start:g[d]=g[d]-(r[v]/2-n[v]/2);break;case end:g[d]=g[d]+(r[v]/2-n[v]/2);break}}return g}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return!r.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function popperGenerator(e){e===void 0&&(e={});var r=e,n=r.defaultModifiers,a=n===void 0?[]:n,o=r.defaultOptions,u=o===void 0?DEFAULT_OPTIONS:o;return function(c,g,d){d===void 0&&(d=u);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,u),modifiersData:{},elements:{reference:c,popper:g},attributes:{},styles:{}},x=[],m=!1,E={state:v,setOptions:function($){C(),v.options=Object.assign({},u,v.options,$),v.scrollParents={reference:isElement(c)?listScrollParents(c):c.contextElement?listScrollParents(c.contextElement):[],popper:listScrollParents(g)};var B=orderModifiers(mergeByName([].concat(a,v.options.modifiers)));return v.orderedModifiers=B.filter(function(w){return w.enabled}),y(),E.update()},forceUpdate:function(){if(!m){var $=v.elements,B=$.reference,w=$.popper;if(!!areValidElements(B,w)){v.rects={reference:getCompositeRect(B,getOffsetParent(w),v.options.strategy==="fixed"),popper:getLayoutRect(w)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(K){return v.modifiersData[K.name]=Object.assign({},K.data)});for(var F=0;F<v.orderedModifiers.length;F++){if(v.reset===!0){v.reset=!1,F=-1;continue}var U=v.orderedModifiers[F],_=U.fn,T=U.options,k=T===void 0?{}:T,N=U.name;typeof _=="function"&&(v=_({state:v,options:k,name:N,instance:E})||v)}}}},update:debounce(function(){return new Promise(function(b){E.forceUpdate(),b(v)})}),destroy:function(){C(),m=!0}};if(!areValidElements(c,g))return E;E.setOptions(d).then(function(b){!m&&d.onFirstUpdate&&d.onFirstUpdate(b)});function y(){v.orderedModifiers.forEach(function(b){var $=b.name,B=b.options,w=B===void 0?{}:B,F=b.effect;if(typeof F=="function"){var U=F({state:v,name:$,instance:E,options:w}),_=function(){};x.push(U||_)}})}function C(){x.forEach(function(b){return b()}),x=[]}return E}}var passive={passive:!0};function effect(e){var r=e.state,n=e.instance,a=e.options,o=a.scroll,u=o===void 0?!0:o,l=a.resize,c=l===void 0?!0:l,g=getWindow(r.elements.popper),d=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&d.forEach(function(v){v.addEventListener("scroll",n.update,passive)}),c&&g.addEventListener("resize",n.update,passive),function(){u&&d.forEach(function(v){v.removeEventListener("scroll",n.update,passive)}),c&&g.removeEventListener("resize",n.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};function popperOffsets(e){var r=e.state,n=e.name;r.modifiersData[n]=computeOffsets({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}},unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e){var r=e.x,n=e.y,a=window,o=a.devicePixelRatio||1;return{x:round(round(r*o)/o)||0,y:round(round(n*o)/o)||0}}function mapToStyles(e){var r,n=e.popper,a=e.popperRect,o=e.placement,u=e.offsets,l=e.position,c=e.gpuAcceleration,g=e.adaptive,d=e.roundOffsets,v=d===!0?roundOffsetsByDPR(u):typeof d=="function"?d(u):u,x=v.x,m=x===void 0?0:x,E=v.y,y=E===void 0?0:E,C=u.hasOwnProperty("x"),b=u.hasOwnProperty("y"),$=left,B=top,w=window;if(g){var F=getOffsetParent(n),U="clientHeight",_="clientWidth";F===getWindow(n)&&(F=getDocumentElement(n),getComputedStyle(F).position!=="static"&&(U="scrollHeight",_="scrollWidth")),F=F,o===top&&(B=bottom,y-=F[U]-a.height,y*=c?1:-1),o===left&&($=right,m-=F[_]-a.width,m*=c?1:-1)}var T=Object.assign({position:l},g&&unsetSides);if(c){var k;return Object.assign({},T,(k={},k[B]=b?"0":"",k[$]=C?"0":"",k.transform=(w.devicePixelRatio||1)<2?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",k))}return Object.assign({},T,(r={},r[B]=b?y+"px":"",r[$]=C?m+"px":"",r.transform="",r))}function computeStyles(e){var r=e.state,n=e.options,a=n.gpuAcceleration,o=a===void 0?!0:a,u=n.adaptive,l=u===void 0?!0:u,c=n.roundOffsets,g=c===void 0?!0:c,d={placement:getBasePlacement(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:o};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,mapToStyles(Object.assign({},d,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:l,roundOffsets:g})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,mapToStyles(Object.assign({},d,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};function applyStyles(e){var r=e.state;Object.keys(r.elements).forEach(function(n){var a=r.styles[n]||{},o=r.attributes[n]||{},u=r.elements[n];!isHTMLElement(u)||!getNodeName(u)||(Object.assign(u.style,a),Object.keys(o).forEach(function(l){var c=o[l];c===!1?u.removeAttribute(l):u.setAttribute(l,c===!0?"":c)}))})}function effect$1(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow),function(){Object.keys(r.elements).forEach(function(a){var o=r.elements[a],u=r.attributes[a]||{},l=Object.keys(r.styles.hasOwnProperty(a)?r.styles[a]:n[a]),c=l.reduce(function(g,d){return g[d]="",g},{});!isHTMLElement(o)||!getNodeName(o)||(Object.assign(o.style,c),Object.keys(u).forEach(function(g){o.removeAttribute(g)}))})}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$1,requires:["computeStyles"]},defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper=popperGenerator({defaultModifiers});function distanceAndSkiddingToXY(e,r,n){var a=getBasePlacement(e),o=[left,top].indexOf(a)>=0?-1:1,u=typeof n=="function"?n(Object.assign({},r,{placement:e})):n,l=u[0],c=u[1];return l=l||0,c=(c||0)*o,[left,right].indexOf(a)>=0?{x:c,y:l}:{x:l,y:c}}function offset(e){var r=e.state,n=e.options,a=e.name,o=n.offset,u=o===void 0?[0,0]:o,l=placements.reduce(function(v,x){return v[x]=distanceAndSkiddingToXY(x,r.rects,u),v},{}),c=l[r.placement],g=c.x,d=c.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=g,r.modifiersData.popperOffsets.y+=d),r.modifiersData[a]=l}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};const[name$5,bem$5]=createNamespace("popover"),popupProps=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],popoverProps={show:Boolean,theme:makeStringProp("light"),overlay:Boolean,actions:makeArrayProp(),trigger:makeStringProp("click"),duration:numericProp,showArrow:truthProp,placement:makeStringProp("bottom"),iconPrefix:String,overlayClass:unknownProp,overlayStyle:Object,closeOnClickAction:truthProp,closeOnClickOverlay:truthProp,closeOnClickOutside:truthProp,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var stdin_default$6=defineComponent({name:name$5,props:popoverProps,emits:["select","touchstart","update:show"],setup(e,{emit:r,slots:n,attrs:a}){let o;const u=ref(),l=ref(),c=()=>u.value&&l.value?createPopper(u.value,l.value.popupRef.value,{placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},extend$1({},offset$1,{options:{offset:e.offset}})]}):null,g=()=>{nextTick(()=>{!e.show||(o?o.setOptions({placement:e.placement}):o=c())})},d=b=>r("update:show",b),v=()=>{e.trigger==="click"&&d(!e.show)},x=b=>{b.stopPropagation(),r("touchstart",b)},m=(b,$)=>{b.disabled||(r("select",b,$),e.closeOnClickAction&&d(!1))},E=()=>{e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&d(!1)},y=(b,$)=>n.action?n.action({action:b,index:$}):[b.icon&&createVNode(Icon,{name:b.icon,classPrefix:e.iconPrefix,class:bem$5("action-icon")},null),createVNode("div",{class:[bem$5("action-text"),BORDER_BOTTOM]},[b.text])],C=(b,$)=>{const{icon:B,color:w,disabled:F,className:U}=b;return createVNode("div",{role:"menuitem",class:[bem$5("action",{disabled:F,"with-icon":B}),U],style:{color:w},tabindex:F?void 0:0,"aria-disabled":F||void 0,onClick:()=>m(b,$)},[y(b,$)])};return onMounted(g),onBeforeUnmount(()=>{o&&(o.destroy(),o=null)}),watch(()=>[e.show,e.placement],g),useClickAway(u,E,{eventName:"touchstart"}),()=>{var b;return createVNode(Fragment,null,[createVNode("span",{ref:u,class:bem$5("wrapper"),onClick:v},[(b=n.reference)==null?void 0:b.call(n)]),createVNode(Popup,mergeProps({ref:l,class:bem$5([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,onTouchstart:x,"onUpdate:show":d},a,pick(e,popupProps)),{default:()=>[e.showArrow&&createVNode("div",{class:bem$5("arrow")},null),createVNode("div",{role:"menu",class:bem$5("content")},[n.default?n.default():e.actions.map(C)])]})])}}});const Popover=withInstall(stdin_default$6),[name$4,bem$4,t$3]=createNamespace("pull-refresh"),DEFAULT_HEAD_HEIGHT=50,TEXT_STATUS=["pulling","loosing","success"],pullRefreshProps={disabled:Boolean,modelValue:Boolean,headHeight:makeNumericProp(DEFAULT_HEAD_HEIGHT),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:numericProp,successDuration:makeNumericProp(500),animationDuration:makeNumericProp(300)};var stdin_default$5=defineComponent({name:name$4,props:pullRefreshProps,emits:["refresh","update:modelValue"],setup(e,{emit:r,slots:n}){let a;const o=ref(),u=useScrollParent(o),l=reactive({status:"normal",distance:0,duration:0}),c=useTouch(),g=()=>{if(e.headHeight!==DEFAULT_HEAD_HEIGHT)return{height:`${e.headHeight}px`}},d=()=>l.status!=="loading"&&l.status!=="success"&&!e.disabled,v=w=>{const F=+(e.pullDistance||e.headHeight);return w>F&&(w<F*2?w=F+(w-F)/2:w=F*1.5+(w-F*2)/4),Math.round(w)},x=(w,F)=>{const U=+(e.pullDistance||e.headHeight);l.distance=w,F?l.status="loading":w===0?l.status="normal":w<U?l.status="pulling":l.status="loosing"},m=()=>{const{status:w}=l;return w==="normal"?"":e[`${w}Text`]||t$3(w)},E=()=>{const{status:w,distance:F}=l;if(n[w])return n[w]({distance:F});const U=[];return TEXT_STATUS.includes(w)&&U.push(createVNode("div",{class:bem$4("text")},[m()])),w==="loading"&&U.push(createVNode(Loading,{class:bem$4("loading")},{default:m})),U},y=()=>{l.status="success",setTimeout(()=>{x(0)},+e.successDuration)},C=w=>{a=getScrollTop(u.value)===0,a&&(l.duration=0,c.start(w))},b=w=>{d()&&C(w)},$=w=>{if(d()){a||C(w);const{deltaY:F}=c;c.move(w),a&&F.value>=0&&c.isVertical()&&(preventDefault(w),x(v(F.value)))}},B=()=>{a&&c.deltaY.value&&d()&&(l.duration=+e.animationDuration,l.status==="loosing"?(x(+e.headHeight,!0),r("update:modelValue",!0),nextTick(()=>r("refresh"))):x(0))};return watch(()=>e.modelValue,w=>{l.duration=+e.animationDuration,w?x(+e.headHeight,!0):n.success||e.successText?y():x(0,!1)}),()=>{var w;const F={transitionDuration:`${l.duration}ms`,transform:l.distance?`translate3d(0,${l.distance}px, 0)`:""};return createVNode("div",{ref:o,class:bem$4()},[createVNode("div",{class:bem$4("track"),style:F,onTouchstart:b,onTouchmove:$,onTouchend:B,onTouchcancel:B},[createVNode("div",{class:bem$4("head"),style:g()},[E()]),(w=n.default)==null?void 0:w.call(n)])])}}});const PullRefresh=withInstall(stdin_default$5),[name$3,bem$3,t$2]=createNamespace("search"),searchProps=extend$1({},fieldSharedProps,{label:String,shape:makeStringProp("square"),leftIcon:makeStringProp("search"),clearable:truthProp,actionText:String,background:String,showAction:Boolean});var stdin_default$4=defineComponent({name:name$3,props:searchProps,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:r,slots:n,attrs:a}){const o=useId(),u=ref(),l=()=>{n.action||(r("update:modelValue",""),r("cancel"))},c=U=>{U.keyCode===13&&(preventDefault(U),r("search",e.modelValue))},g=()=>e.id||`${o}-input`,d=()=>{if(n.label||e.label)return createVNode("label",{class:bem$3("label"),for:g()},[n.label?n.label():e.label])},v=()=>{if(e.showAction){const U=e.actionText||t$2("cancel");return createVNode("div",{class:bem$3("action"),role:"button",tabindex:0,onClick:l},[n.action?n.action():U])}},x=()=>{var U;return(U=u.value)==null?void 0:U.blur()},m=()=>{var U;return(U=u.value)==null?void 0:U.focus()},E=U=>r("blur",U),y=U=>r("focus",U),C=U=>r("clear",U),b=U=>r("click-input",U),$=U=>r("click-left-icon",U),B=U=>r("click-right-icon",U),w=Object.keys(fieldSharedProps),F=()=>{const U=extend$1({},a,pick(e,w),{id:g()}),_=T=>r("update:modelValue",T);return createVNode(Field,mergeProps({ref:u,type:"search",class:bem$3("field"),border:!1,onBlur:E,onFocus:y,onClear:C,onKeypress:c,"onClick-input":b,"onClick-left-icon":$,"onClick-right-icon":B,"onUpdate:modelValue":_},U),pick(n,["left-icon","right-icon"]))};return useExpose({focus:m,blur:x}),()=>{var U;return createVNode("div",{class:bem$3({"show-action":e.showAction}),style:{background:e.background}},[(U=n.left)==null?void 0:U.call(n),createVNode("div",{class:bem$3("content",e.shape)},[d(),F()]),v()])}}});const Search=withInstall(stdin_default$4),[name$2,bem$2]=createNamespace("tabbar"),tabbarProps={route:Boolean,fixed:truthProp,border:truthProp,zIndex:numericProp,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:makeNumericProp(0),safeAreaInsetBottom:{type:Boolean,default:null}},TABBAR_KEY=Symbol(name$2);var stdin_default$3=defineComponent({name:name$2,props:tabbarProps,emits:["change","update:modelValue"],setup(e,{emit:r,slots:n}){const a=ref(),{linkChildren:o}=useChildren(TABBAR_KEY),u=usePlaceholder(a,bem$2),l=()=>{var d;return(d=e.safeAreaInsetBottom)!=null?d:e.fixed},c=()=>{var d;const{fixed:v,zIndex:x,border:m}=e;return createVNode("div",{ref:a,role:"tablist",style:getZIndexStyle(x),class:[bem$2({fixed:v}),{[BORDER_TOP_BOTTOM]:m,"van-safe-area-bottom":l()}]},[(d=n.default)==null?void 0:d.call(n)])};return o({props:e,setActive:(d,v)=>{callInterceptor(e.beforeChange,{args:[d],done(){r("update:modelValue",d),r("change",d),v()}})}}),()=>e.fixed&&e.placeholder?u(c):c()}});const Tabbar=withInstall(stdin_default$3),[name$1,bem$1]=createNamespace("tabbar-item"),tabbarItemProps=extend$1({},routeProps,{dot:Boolean,icon:String,name:numericProp,badge:numericProp,badgeProps:Object,iconPrefix:String});var stdin_default$2=defineComponent({name:name$1,props:tabbarItemProps,emits:["click"],setup(e,{emit:r,slots:n}){const a=useRoute(),o=getCurrentInstance().proxy,{parent:u,index:l}=useParent(TABBAR_KEY);if(!u)return;const c=computed(()=>{var v;const{route:x,modelValue:m}=u.props;if(x&&"$route"in o){const{$route:E}=o,{to:y}=e,C=isObject$1(y)?y:{path:y};return!!E.matched.find(b=>{const $="path"in C&&C.path===b.path,B="name"in C&&C.name===b.name;return $||B})}return((v=e.name)!=null?v:l.value)===m}),g=v=>{var x;c.value||u.setActive((x=e.name)!=null?x:l.value,a),r("click",v)},d=()=>{if(n.icon)return n.icon({active:c.value});if(e.icon)return createVNode(Icon,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var v;const{dot:x,badge:m}=e,{activeColor:E,inactiveColor:y}=u.props,C=c.value?E:y;return createVNode("div",{role:"tab",class:bem$1({active:c.value}),style:{color:C},tabindex:0,"aria-selected":c.value,onClick:g},[createVNode(Badge,mergeProps({dot:x,class:bem$1("icon"),content:m},e.badgeProps),{default:d}),createVNode("div",{class:bem$1("text")},[(v=n.default)==null?void 0:v.call(n,{active:c.value})])])}}});const TabbarItem=withInstall(stdin_default$2),[name,bem,t$1]=createNamespace("uploader"),toArray=e=>Array.isArray(e)?e:[e];function readFileContent(e,r){return new Promise(n=>{if(r==="file"){n();return}const a=new FileReader;a.onload=o=>{n(o.target.result)},r==="dataUrl"?a.readAsDataURL(e):r==="text"&&a.readAsText(e)})}function isOversize(e,r){return toArray(e).some(n=>n.file?isFunction$1(r)?r(n.file):n.file.size>r:!1)}function filterFiles(e,r){const n=[],a=[];return e.forEach(o=>{isOversize(o,r)?a.push(o):n.push(o)}),{valid:n,invalid:a}}const IMAGE_REGEXP=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i,isImageUrl=e=>IMAGE_REGEXP.test(e);function isImageFile(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?isImageUrl(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var stdin_default$1=defineComponent({props:{name:numericProp,item:makeRequiredProp(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:r,slots:n}){const a=()=>{const{status:d,message:v}=e.item;if(d==="uploading"||d==="failed"){const x=d==="failed"?createVNode(Icon,{name:"close",class:bem("mask-icon")},null):createVNode(Loading,{class:bem("loading")},null),m=isDef(v)&&v!=="";return createVNode("div",{class:bem("mask")},[x,m&&createVNode("div",{class:bem("mask-message")},[v])])}},o=d=>{const{name:v,item:x,index:m,beforeDelete:E}=e;d.stopPropagation(),callInterceptor(E,{args:[x,{name:v,index:m}],done:()=>r("delete")})},u=()=>r("preview"),l=()=>{if(e.deletable&&e.item.status!=="uploading")return createVNode("div",{role:"button",class:bem("preview-delete"),tabindex:0,"aria-label":t$1("delete"),onClick:o},[createVNode(Icon,{name:"cross",class:bem("preview-delete-icon")},null)])},c=()=>{if(n["preview-cover"]){const{index:d,item:v}=e;return createVNode("div",{class:bem("preview-cover")},[n["preview-cover"](extend$1({index:d},v))])}},g=()=>{const{item:d,lazyLoad:v,imageFit:x,previewSize:m}=e;return isImageFile(d)?createVNode(Image,{fit:x,src:d.content||d.url,class:bem("preview-image"),width:Array.isArray(m)?m[0]:m,height:Array.isArray(m)?m[1]:m,lazyLoad:v,onClick:u},{default:c}):createVNode("div",{class:bem("file"),style:getSizeStyle(e.previewSize)},[createVNode(Icon,{class:bem("file-icon"),name:"description"},null),createVNode("div",{class:[bem("file-name"),"van-ellipsis"]},[d.file?d.file.name:d.url]),c()])};return()=>createVNode("div",{class:bem("preview")},[g(),a(),l()])}});const uploaderProps={name:makeNumericProp(""),accept:makeStringProp("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:makeNumericProp(1/0),imageFit:makeStringProp("cover"),resultType:makeStringProp("dataUrl"),uploadIcon:makeStringProp("photograph"),uploadText:String,deletable:truthProp,afterRead:Function,showUpload:truthProp,modelValue:makeArrayProp(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:truthProp,previewOptions:Object,previewFullImage:truthProp,maxSize:{type:[Number,String,Function],default:1/0}};var stdin_default=defineComponent({name,props:uploaderProps,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,{emit:r,slots:n}){const a=ref(),o=[],u=(F=e.modelValue.length)=>({name:e.name,index:F}),l=()=>{a.value&&(a.value.value="")},c=F=>{if(l(),isOversize(F,e.maxSize))if(Array.isArray(F)){const U=filterFiles(F,e.maxSize);if(F=U.valid,r("oversize",U.invalid,u()),!F.length)return}else{r("oversize",F,u());return}F=reactive(F),r("update:modelValue",[...e.modelValue,...toArray(F)]),e.afterRead&&e.afterRead(F,u())},g=F=>{const{maxCount:U,modelValue:_,resultType:T}=e;if(Array.isArray(F)){const k=+U-_.length;F.length>k&&(F=F.slice(0,k)),Promise.all(F.map(N=>readFileContent(N,T))).then(N=>{const K=F.map((O,V)=>{const J={file:O,status:"",message:""};return N[V]&&(J.content=N[V]),J});c(K)})}else readFileContent(F,T).then(k=>{const N={file:F,status:"",message:""};k&&(N.content=k),c(N)})},d=F=>{const{files:U}=F.target;if(e.disabled||!U||!U.length)return;const _=U.length===1?U[0]:[].slice.call(U);if(e.beforeRead){const T=e.beforeRead(_,u());if(!T){l();return}if(isPromise(T)){T.then(k=>{g(k||_)}).catch(l);return}}g(_)};let v;const x=()=>r("close-preview"),m=F=>{if(e.previewFullImage){const U=e.modelValue.filter(isImageFile),_=U.map(T=>(T.file&&!T.url&&(T.url=URL.createObjectURL(T.file),o.push(T.url)),T.url)).filter(Boolean);v=ImagePreview(extend$1({images:_,startPosition:U.indexOf(F),onClose:x},e.previewOptions))}},E=()=>{v&&v.close()},y=(F,U)=>{const _=e.modelValue.slice(0);_.splice(U,1),r("update:modelValue",_),r("delete",F,u(U))},C=(F,U)=>{const _=["imageFit","deletable","previewSize","beforeDelete"],T=extend$1(pick(e,_),pick(F,_,!0));return createVNode(stdin_default$1,mergeProps({item:F,index:U,onClick:()=>r("click-preview",F,u(U)),onDelete:()=>y(F,U),onPreview:()=>m(F)},pick(e,["name","lazyLoad"]),T),{"preview-cover":n["preview-cover"]})},b=()=>{if(e.previewImage)return e.modelValue.map(C)},$=F=>r("click-upload",F),B=()=>{if(e.modelValue.length>=e.maxCount||!e.showUpload)return;const F=e.readonly?null:createVNode("input",{ref:a,type:"file",class:bem("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:d},null);return n.default?createVNode("div",{class:bem("input-wrapper"),onClick:$},[n.default(),F]):createVNode("div",{class:bem("upload",{readonly:e.readonly}),style:getSizeStyle(e.previewSize),onClick:$},[createVNode(Icon,{name:e.uploadIcon,class:bem("upload-icon")},null),e.uploadText&&createVNode("span",{class:bem("upload-text")},[e.uploadText]),F])},w=()=>{a.value&&!e.disabled&&a.value.click()};return onBeforeUnmount(()=>{o.forEach(F=>URL.revokeObjectURL(F))}),useExpose({chooseFile:w,closeImagePreview:E}),useCustomFieldValue(()=>e.modelValue),()=>createVNode("div",{class:bem()},[createVNode("div",{class:bem("wrapper",{disabled:e.disabled})},[b(),B()])])}});const Uploader=withInstall(stdin_default);var base="",index$u="",index$t="",index$s="",index$r="",index$q="",defaultSetting={title:"vue-mobile-template",isNavBar:!0,isDynamicTitle:!1};const useSettingStore=defineStore({id:"setting",state:()=>({title:defaultSetting.title,isDynamicTitle:defaultSetting.isDynamicTitle,isNavBar:defaultSetting.isNavBar}),actions:{setTitle:function(e){this.isDynamicTitle?this.title=defaultSetting.title+" - "+e:this.title=defaultSetting.title,document.title=this.title}}}),_hoisted_1$2={class:"app-container"},_hoisted_2$1={key:0,class:"app-header"},_hoisted_3={class:"app-footer"},_sfc_main$2={setup(e){const r=useRoute$1(),n=useRouter(),a=useSettingStore(),o=ref(r.meta.activePath||r.fullPath),u=computed(()=>r.meta.isNavBar==null?a.isNavBar:r.meta.isNavBar);function l(c){n.push({path:c})}return(c,g)=>{const d=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$2,[unref(u)?(openBlock(),createElementBlock("div",_hoisted_2$1,[createVNode(unref(NavBar),{title:unref(r).meta.title},null,8,["title"])])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(unref(u)?"app-body":"app-body-noNavBar")},[createVNode(d)],2),createBaseVNode("div",_hoisted_3,[createVNode(unref(Tabbar),{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=v=>o.value=v),onChange:l},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(navbarConfig),v=>(openBlock(),createBlock(unref(TabbarItem),{key:v.name,name:v.path,icon:v.meta.icon},{default:withCtx(()=>[createTextVNode(toDisplayString(v.meta.title),1)]),_:2},1032,["name","icon"]))),128))]),_:1},8,["modelValue"])])])}}},_hoisted_1$1={class:"app-container"},_hoisted_2={key:0,class:"app-header"},_sfc_main$1={setup(e){const r=useRoute$1(),n=useRouter(),a=useSettingStore(),o=computed(()=>r.meta.isNavBar==null?a.isNavBar:r.meta.isNavBar);function u(){n.go(-1)}return(l,c)=>{const g=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$1,[unref(o)?(openBlock(),createElementBlock("div",_hoisted_2,[createVNode(unref(NavBar),{title:unref(r).meta.title,"left-text":"\u8FD4\u56DE","left-arrow":"",onClickLeft:u},null,8,["title"])])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(unref(o)?"app-body-noTabBar":"app-body-noNavBar-noTabBar")},[createVNode(g)],2)])}}},router=createRouter({history:createWebHashHistory(),routes:[{path:"",component:_sfc_main$2,redirect:navbarConfig[0]||"/404",children:navbarConfig},{path:"",component:_sfc_main$1,children:pageConfig},{name:"login",path:"/login",component:()=>__vitePreload(()=>import("./Login.d3d02ebb.js"),[]),meta:{isParentView:!0}}]});var index_vue_vue_type_style_index_0_lang="";const _hoisted_1=["xlink:href"],_sfc_main={props:{name:{type:String,required:!0},color:{type:String,default:""},width:{type:String,default:"1rem"},height:{type:String,default:"1rem"}},setup(e){const r=e,n=computed(()=>`#icon-${r.name}`),a=computed(()=>(console.log(r.name,"props.name"),r.name?`svg-icon icon-${r.name}`:"svg-icon"));return(o,u)=>(openBlock(),createElementBlock("svg",mergeProps({class:unref(a)},o.$attrs,{style:{color:e.color,width:e.width,height:e.height}}),[createBaseVNode("use",{"xlink:href":unref(n)},null,8,_hoisted_1)],16))}};(function(r,n){var a=n.documentElement,o=r.devicePixelRatio||1;function u(){n.body?n.body.style.fontSize=12*o+"px":n.addEventListener("DOMContentLoaded",u)}u();function l(){var d=a.clientWidth/10;a.style.fontSize=d+"px"}if(l(),r.addEventListener("resize",l),r.addEventListener("pageshow",function(d){d.persisted&&l()}),o>=2){var c=n.createElement("body"),g=n.createElement("div");g.style.border=".5px solid transparent",c.appendChild(g),a.appendChild(c),g.offsetHeight===1&&a.classList.add("hairlines"),a.removeChild(c)}})(window,document);var index$p="";const Local={set(e,r){window.localStorage.setItem(e,JSON.stringify(r))},get(e){let r=window.localStorage.getItem(e);return JSON.parse(r)},remove(e){window.localStorage.removeItem(e)},clear(){window.localStorage.clear()}},UserId="Admin-UserId",TokenKey="Admin-Token",TenantKey="Admin-Tenantid",Rsapublickey="Admin-Rsapublickey",UserName="Admin-UserName",Usertype="Admin-UserType";function getUserName(){return Local.get(UserName)}function setUserName(e){return Local.set(UserName,e)}function getUserId(){return Local.get(UserId)}function setUserId(e){return Local.set(UserId,e)}function removeUserId(){return Local.remove(UserId)}function getToken(){return Local.get(TokenKey)}function setToken(e){return Local.set(TokenKey,e)}function removeToken(){return Local.remove(TokenKey)}function getTenantId(){return Local.get(TenantKey)}function setTenantId(e){return Local.set(TenantKey,e)}function removeTenantId(){return Local.remove(TenantKey)}function getRsapublickey(){return Local.get(Rsapublickey)}function setRsapublickey(e){return Local.set(Rsapublickey,e)}function removeRsapublickey(){return Local.remove(Rsapublickey)}function setUserType(e){return Local.set(Usertype,e)}function removeUserType(){return Local.remove(Usertype)}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var axios$2={exports:{}},bind$2=function(r,n){return function(){for(var o=new Array(arguments.length),u=0;u<o.length;u++)o[u]=arguments[u];return r.apply(n,o)}},bind$1=bind$2,toString=Object.prototype.toString;function isArray(e){return Array.isArray(e)}function isUndefined(e){return typeof e=="undefined"}function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return toString.call(e)==="[object ArrayBuffer]"}function isFormData(e){return toString.call(e)==="[object FormData]"}function isArrayBufferView(e){var r;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&isArrayBuffer(e.buffer),r}function isString(e){return typeof e=="string"}function isNumber(e){return typeof e=="number"}function isObject(e){return e!==null&&typeof e=="object"}function isPlainObject(e){if(toString.call(e)!=="[object Object]")return!1;var r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}function isDate(e){return toString.call(e)==="[object Date]"}function isFile(e){return toString.call(e)==="[object File]"}function isBlob(e){return toString.call(e)==="[object Blob]"}function isFunction(e){return toString.call(e)==="[object Function]"}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return toString.call(e)==="[object URLSearchParams]"}function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(e,r){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),isArray(e))for(var n=0,a=e.length;n<a;n++)r.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.call(null,e[o],o,e)}function merge(){var e={};function r(o,u){isPlainObject(e[u])&&isPlainObject(o)?e[u]=merge(e[u],o):isPlainObject(o)?e[u]=merge({},o):isArray(o)?e[u]=o.slice():e[u]=o}for(var n=0,a=arguments.length;n<a;n++)forEach(arguments[n],r);return e}function extend(e,r,n){return forEach(r,function(o,u){n&&typeof o=="function"?e[u]=bind$1(o,n):e[u]=o}),e}function stripBOM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var utils$e={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM},utils$d=utils$e;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(r,n,a){if(!n)return r;var o;if(a)o=a(n);else if(utils$d.isURLSearchParams(n))o=n.toString();else{var u=[];utils$d.forEach(n,function(g,d){g===null||typeof g=="undefined"||(utils$d.isArray(g)?d=d+"[]":g=[g],utils$d.forEach(g,function(x){utils$d.isDate(x)?x=x.toISOString():utils$d.isObject(x)&&(x=JSON.stringify(x)),u.push(encode(d)+"="+encode(x))}))}),o=u.join("&")}if(o){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},utils$c=utils$e;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(r,n,a){return this.handlers.push({fulfilled:r,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};InterceptorManager$1.prototype.forEach=function(r){utils$c.forEach(this.handlers,function(a){a!==null&&r(a)})};var InterceptorManager_1=InterceptorManager$1,utils$b=utils$e,normalizeHeaderName$1=function(r,n){utils$b.forEach(r,function(o,u){u!==n&&u.toUpperCase()===n.toUpperCase()&&(r[n]=o,delete r[u])})},enhanceError$2=function(r,n,a,o,u){return r.config=n,a&&(r.code=a),r.request=o,r.response=u,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},r},transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},enhanceError$1=enhanceError$2,createError$2=function(r,n,a,o,u){var l=new Error(r);return enhanceError$1(l,n,a,o,u)},createError$1=createError$2,settle$1=function(r,n,a){var o=a.config.validateStatus;!a.status||!o||o(a.status)?r(a):n(createError$1("Request failed with status code "+a.status,a.config,null,a.request,a))},utils$a=utils$e,cookies$1=utils$a.isStandardBrowserEnv()?function(){return{write:function(n,a,o,u,l,c){var g=[];g.push(n+"="+encodeURIComponent(a)),utils$a.isNumber(o)&&g.push("expires="+new Date(o).toGMTString()),utils$a.isString(u)&&g.push("path="+u),utils$a.isString(l)&&g.push("domain="+l),c===!0&&g.push("secure"),document.cookie=g.join("; ")},read:function(n){var a=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},combineURLs$1=function(r,n){return n?r.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):r},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(r,n){return r&&!isAbsoluteURL(n)?combineURLs(r,n):n},utils$9=utils$e,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(r){var n={},a,o,u;return r&&utils$9.forEach(r.split(`
`),function(c){if(u=c.indexOf(":"),a=utils$9.trim(c.substr(0,u)).toLowerCase(),o=utils$9.trim(c.substr(u+1)),a){if(n[a]&&ignoreDuplicateOf.indexOf(a)>=0)return;a==="set-cookie"?n[a]=(n[a]?n[a]:[]).concat([o]):n[a]=n[a]?n[a]+", "+o:o}}),n},utils$8=utils$e,isURLSameOrigin$1=utils$8.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),a;function o(u){var l=u;return r&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return a=o(window.location.href),function(l){var c=utils$8.isString(l)?o(l):l;return c.protocol===a.protocol&&c.host===a.host}}():function(){return function(){return!0}}();function Cancel$3(e){this.message=e}Cancel$3.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$3.prototype.__CANCEL__=!0;var Cancel_1=Cancel$3,utils$7=utils$e,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,transitionalDefaults$1=transitional,Cancel$2=Cancel_1,xhr=function(r){return new Promise(function(a,o){var u=r.data,l=r.headers,c=r.responseType,g;function d(){r.cancelToken&&r.cancelToken.unsubscribe(g),r.signal&&r.signal.removeEventListener("abort",g)}utils$7.isFormData(u)&&delete l["Content-Type"];var v=new XMLHttpRequest;if(r.auth){var x=r.auth.username||"",m=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";l.Authorization="Basic "+btoa(x+":"+m)}var E=buildFullPath(r.baseURL,r.url);v.open(r.method.toUpperCase(),buildURL$1(E,r.params,r.paramsSerializer),!0),v.timeout=r.timeout;function y(){if(!!v){var b="getAllResponseHeaders"in v?parseHeaders(v.getAllResponseHeaders()):null,$=!c||c==="text"||c==="json"?v.responseText:v.response,B={data:$,status:v.status,statusText:v.statusText,headers:b,config:r,request:v};settle(function(F){a(F),d()},function(F){o(F),d()},B),v=null}}if("onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){!v||(o(createError("Request aborted",r,"ECONNABORTED",v)),v=null)},v.onerror=function(){o(createError("Network Error",r,null,v)),v=null},v.ontimeout=function(){var $=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",B=r.transitional||transitionalDefaults$1;r.timeoutErrorMessage&&($=r.timeoutErrorMessage),o(createError($,r,B.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},utils$7.isStandardBrowserEnv()){var C=(r.withCredentials||isURLSameOrigin(E))&&r.xsrfCookieName?cookies.read(r.xsrfCookieName):void 0;C&&(l[r.xsrfHeaderName]=C)}"setRequestHeader"in v&&utils$7.forEach(l,function($,B){typeof u=="undefined"&&B.toLowerCase()==="content-type"?delete l[B]:v.setRequestHeader(B,$)}),utils$7.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),c&&c!=="json"&&(v.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&v.addEventListener("progress",r.onDownloadProgress),typeof r.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",r.onUploadProgress),(r.cancelToken||r.signal)&&(g=function(b){!v||(o(!b||b&&b.type?new Cancel$2("canceled"):b),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(g),r.signal&&(r.signal.aborted?g():r.signal.addEventListener("abort",g))),u||(u=null),v.send(u)})},utils$6=utils$e,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,transitionalDefaults=transitional,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,r){!utils$6.isUndefined(e)&&utils$6.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function getDefaultAdapter(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=xhr),e}function stringifySafely(e,r,n){if(utils$6.isString(e))try{return(r||JSON.parse)(e),utils$6.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}var defaults$3={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(r,n){return normalizeHeaderName(n,"Accept"),normalizeHeaderName(n,"Content-Type"),utils$6.isFormData(r)||utils$6.isArrayBuffer(r)||utils$6.isBuffer(r)||utils$6.isStream(r)||utils$6.isFile(r)||utils$6.isBlob(r)?r:utils$6.isArrayBufferView(r)?r.buffer:utils$6.isURLSearchParams(r)?(setContentTypeIfUnset(n,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):utils$6.isObject(r)||n&&n["Content-Type"]==="application/json"?(setContentTypeIfUnset(n,"application/json"),stringifySafely(r)):r}],transformResponse:[function(r){var n=this.transitional||defaults$3.transitional,a=n&&n.silentJSONParsing,o=n&&n.forcedJSONParsing,u=!a&&this.responseType==="json";if(u||o&&utils$6.isString(r)&&r.length)try{return JSON.parse(r)}catch(l){if(u)throw l.name==="SyntaxError"?enhanceError(l,this,"E_JSON_PARSE"):l}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$6.forEach(["delete","get","head"],function(r){defaults$3.headers[r]={}});utils$6.forEach(["post","put","patch"],function(r){defaults$3.headers[r]=utils$6.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$5=utils$e,defaults$2=defaults_1,transformData$1=function(r,n,a){var o=this||defaults$2;return utils$5.forEach(a,function(l){r=l.call(o,r,n)}),r},isCancel$1=function(r){return!!(r&&r.__CANCEL__)},utils$4=utils$e,transformData=transformData$1,isCancel=isCancel$1,defaults$1=defaults_1,Cancel$1=Cancel_1;function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function(r){throwIfCancellationRequested(r),r.headers=r.headers||{},r.data=transformData.call(r,r.data,r.headers,r.transformRequest),r.headers=utils$4.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),utils$4.forEach(["delete","get","head","post","put","patch","common"],function(o){delete r.headers[o]});var n=r.adapter||defaults$1.adapter;return n(r).then(function(o){return throwIfCancellationRequested(r),o.data=transformData.call(r,o.data,o.headers,r.transformResponse),o},function(o){return isCancel(o)||(throwIfCancellationRequested(r),o&&o.response&&(o.response.data=transformData.call(r,o.response.data,o.response.headers,r.transformResponse))),Promise.reject(o)})},utils$3=utils$e,mergeConfig$2=function(r,n){n=n||{};var a={};function o(v,x){return utils$3.isPlainObject(v)&&utils$3.isPlainObject(x)?utils$3.merge(v,x):utils$3.isPlainObject(x)?utils$3.merge({},x):utils$3.isArray(x)?x.slice():x}function u(v){if(utils$3.isUndefined(n[v])){if(!utils$3.isUndefined(r[v]))return o(void 0,r[v])}else return o(r[v],n[v])}function l(v){if(!utils$3.isUndefined(n[v]))return o(void 0,n[v])}function c(v){if(utils$3.isUndefined(n[v])){if(!utils$3.isUndefined(r[v]))return o(void 0,r[v])}else return o(void 0,n[v])}function g(v){if(v in n)return o(r[v],n[v]);if(v in r)return o(void 0,r[v])}var d={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:g};return utils$3.forEach(Object.keys(r).concat(Object.keys(n)),function(x){var m=d[x]||u,E=m(x);utils$3.isUndefined(E)&&m!==g||(a[x]=E)}),a},data={version:"0.26.1"},VERSION=data.version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){validators$1[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});var deprecatedWarnings={};validators$1.transitional=function(r,n,a){function o(u,l){return"[Axios v"+VERSION+"] Transitional option '"+u+"'"+l+(a?". "+a:"")}return function(u,l,c){if(r===!1)throw new Error(o(l," has been removed"+(n?" in "+n:"")));return n&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(o(l," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(u,l,c):!0}};function assertOptions(e,r,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var a=Object.keys(e),o=a.length;o-- >0;){var u=a[o],l=r[u];if(l){var c=e[u],g=c===void 0||l(c,u,e);if(g!==!0)throw new TypeError("option "+u+" must be "+g);continue}if(n!==!0)throw Error("Unknown option "+u)}}var validator$1={assertOptions,validators:validators$1},utils$2=utils$e,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=mergeConfig$1(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var a=n.transitional;a!==void 0&&validator.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var o=[],u=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(u=u&&E.synchronous,o.unshift(E.fulfilled,E.rejected))});var l=[];this.interceptors.response.forEach(function(E){l.push(E.fulfilled,E.rejected)});var c;if(!u){var g=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(g,o),g=g.concat(l),c=Promise.resolve(n);g.length;)c=c.then(g.shift(),g.shift());return c}for(var d=n;o.length;){var v=o.shift(),x=o.shift();try{d=v(d)}catch(m){x(m);break}}try{c=dispatchRequest(d)}catch(m){return Promise.reject(m)}for(;l.length;)c=c.then(l.shift(),l.shift());return c};Axios$1.prototype.getUri=function(r){return r=mergeConfig$1(this.defaults,r),buildURL(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")};utils$2.forEach(["delete","get","head","options"],function(r){Axios$1.prototype[r]=function(n,a){return this.request(mergeConfig$1(a||{},{method:r,url:n,data:(a||{}).data}))}});utils$2.forEach(["post","put","patch"],function(r){Axios$1.prototype[r]=function(n,a,o){return this.request(mergeConfig$1(o||{},{method:r,url:n,data:a}))}});var Axios_1=Axios$1,Cancel=Cancel_1;function CancelToken(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var n=this;this.promise.then(function(a){if(!!n._listeners){var o,u=n._listeners.length;for(o=0;o<u;o++)n._listeners[o](a);n._listeners=null}}),this.promise.then=function(a){var o,u=new Promise(function(l){n.subscribe(l),o=l}).then(a);return u.cancel=function(){n.unsubscribe(o)},u},e(function(o){n.reason||(n.reason=new Cancel(o),r(n.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]};CancelToken.prototype.unsubscribe=function(r){if(!!this._listeners){var n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}};CancelToken.source=function(){var r,n=new CancelToken(function(o){r=o});return{token:n,cancel:r}};var CancelToken_1=CancelToken,spread=function(r){return function(a){return r.apply(null,a)}},utils$1=utils$e,isAxiosError=function(r){return utils$1.isObject(r)&&r.isAxiosError===!0},utils=utils$e,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(e){var r=new Axios(e),n=bind(Axios.prototype.request,r);return utils.extend(n,Axios.prototype,r),utils.extend(n,r),n.create=function(o){return createInstance(mergeConfig(e,o))},n}var axios$1=createInstance(defaults);axios$1.Axios=Axios;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.all=function(r){return Promise.all(r)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports,index$o="",index$n="",index$m="",index$l="",index$k="",index$j="",index$i="",navigator$1={};navigator$1.userAgent=!1;var window$1={};/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */var CryptoJS$1=CryptoJS$1||function(e,r){var n={},a=n.lib={},o=a.Base=function(){function m(){}return{extend:function(E){m.prototype=this;var y=new m;return E&&y.mixIn(E),y.hasOwnProperty("init")||(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var y in E)E.hasOwnProperty(y)&&(this[y]=E[y]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=a.WordArray=o.extend({init:function(m,E){m=this.words=m||[],E!=r?this.sigBytes=E:this.sigBytes=m.length*4},toString:function(m){return(m||c).stringify(this)},concat:function(m){var E=this.words,y=m.words,C=this.sigBytes,b=m.sigBytes;if(this.clamp(),C%4)for(var $=0;$<b;$++){var B=y[$>>>2]>>>24-$%4*8&255;E[C+$>>>2]|=B<<24-(C+$)%4*8}else for(var $=0;$<b;$+=4)E[C+$>>>2]=y[$>>>2];return this.sigBytes+=b,this},clamp:function(){var m=this.words,E=this.sigBytes;m[E>>>2]&=4294967295<<32-E%4*8,m.length=e.ceil(E/4)},clone:function(){var m=o.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var E=[],y=0;y<m;y+=4)E.push(e.random()*4294967296|0);return new u.init(E,m)}}),l=n.enc={},c=l.Hex={stringify:function(m){for(var E=m.words,y=m.sigBytes,C=[],b=0;b<y;b++){var $=E[b>>>2]>>>24-b%4*8&255;C.push(($>>>4).toString(16)),C.push(($&15).toString(16))}return C.join("")},parse:function(m){for(var E=m.length,y=[],C=0;C<E;C+=2)y[C>>>3]|=parseInt(m.substr(C,2),16)<<24-C%8*4;return new u.init(y,E/2)}},g=l.Latin1={stringify:function(m){for(var E=m.words,y=m.sigBytes,C=[],b=0;b<y;b++){var $=E[b>>>2]>>>24-b%4*8&255;C.push(String.fromCharCode($))}return C.join("")},parse:function(m){for(var E=m.length,y=[],C=0;C<E;C++)y[C>>>2]|=(m.charCodeAt(C)&255)<<24-C%4*8;return new u.init(y,E)}},d=l.Utf8={stringify:function(m){try{return decodeURIComponent(escape(g.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return g.parse(unescape(encodeURIComponent(m)))}},v=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=d.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var E=this._data,y=E.words,C=E.sigBytes,b=this.blockSize,$=b*4,B=C/$;m?B=e.ceil(B):B=e.max((B|0)-this._minBufferSize,0);var w=B*b,F=e.min(w*4,C);if(w){for(var U=0;U<w;U+=b)this._doProcessBlock(y,U);var _=y.splice(0,w);E.sigBytes-=F}return new u.init(_,F)},clone:function(){var m=o.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});a.Hasher=v.extend({cfg:o.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var E=this._doFinalize();return E},blockSize:512/32,_createHelper:function(m){return function(E,y){return new m.init(y).finalize(E)}},_createHmacHelper:function(m){return function(E,y){return new x.HMAC.init(m,y).finalize(E)}}});var x=n.algo={};return n}(Math);(function(e){var o=CryptoJS$1,r=o.lib,n=r.Base,a=r.WordArray,o=o.x64={};o.Word=n.extend({init:function(u,l){this.high=u,this.low=l}}),o.WordArray=n.extend({init:function(u,l){u=this.words=u||[],this.sigBytes=l!=e?l:8*u.length},toX32:function(){for(var u=this.words,l=u.length,c=[],g=0;g<l;g++){var d=u[g];c.push(d.high),c.push(d.low)}return a.create(c,this.sigBytes)},clone:function(){for(var u=n.clone.call(this),l=u.words=this.words.slice(0),c=l.length,g=0;g<c;g++)l[g]=l[g].clone();return u}})})();CryptoJS$1.lib.Cipher||function(e){var E=CryptoJS$1,r=E.lib,n=r.Base,a=r.WordArray,o=r.BufferedBlockAlgorithm,u=E.enc.Base64,l=E.algo.EvpKDF,c=r.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(C,b){return this.create(this._ENC_XFORM_MODE,C,b)},createDecryptor:function(C,b){return this.create(this._DEC_XFORM_MODE,C,b)},init:function(C,b,$){this.cfg=this.cfg.extend($),this._xformMode=C,this._key=b,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(C){return this._append(C),this._process()},finalize:function(C){return C&&this._append(C),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(C){return{encrypt:function(b,$,B){return(typeof $=="string"?y:m).encrypt(C,b,$,B)},decrypt:function(b,$,B){return(typeof $=="string"?y:m).decrypt(C,b,$,B)}}}});r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var x=E.mode={},g=function(C,b,$){var B=this._iv;B?this._iv=e:B=this._prevBlock;for(var w=0;w<$;w++)C[b+w]^=B[w]},d=(r.BlockCipherMode=n.extend({createEncryptor:function(C,b){return this.Encryptor.create(C,b)},createDecryptor:function(C,b){return this.Decryptor.create(C,b)},init:function(C,b){this._cipher=C,this._iv=b}})).extend();d.Encryptor=d.extend({processBlock:function(C,b){var $=this._cipher,B=$.blockSize;g.call(this,C,b,B),$.encryptBlock(C,b),this._prevBlock=C.slice(b,b+B)}}),d.Decryptor=d.extend({processBlock:function(C,b){var $=this._cipher,B=$.blockSize,w=C.slice(b,b+B);$.decryptBlock(C,b),g.call(this,C,b,B),this._prevBlock=w}}),x=x.CBC=d,d=(E.pad={}).Pkcs7={pad:function(C,b){for(var $=4*b,$=$-C.sigBytes%$,B=$<<24|$<<16|$<<8|$,w=[],F=0;F<$;F+=4)w.push(B);$=a.create(w,$),C.concat($)},unpad:function(C){C.sigBytes-=C.words[C.sigBytes-1>>>2]&255}},r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:x,padding:d}),reset:function(){c.reset.call(this);var b=this.cfg,C=b.iv,b=b.mode;if(this._xformMode==this._ENC_XFORM_MODE)var $=b.createEncryptor;else $=b.createDecryptor,this._minBufferSize=1;this._mode=$.call(b,this,C&&C.words)},_doProcessBlock:function(C,b){this._mode.processBlock(C,b)},_doFinalize:function(){var C=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){C.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),C.unpad(b);return b},blockSize:4});var v=r.CipherParams=n.extend({init:function(C){this.mixIn(C)},toString:function(C){return(C||this.formatter).stringify(this)}}),x=(E.format={}).OpenSSL={stringify:function(C){var b=C.ciphertext;return C=C.salt,(C?a.create([1398893684,1701076831]).concat(C).concat(b):b).toString(u)},parse:function(C){C=u.parse(C);var b=C.words;if(b[0]==1398893684&&b[1]==1701076831){var $=a.create(b.slice(2,4));b.splice(0,4),C.sigBytes-=16}return v.create({ciphertext:C,salt:$})}},m=r.SerializableCipher=n.extend({cfg:n.extend({format:x}),encrypt:function(C,b,$,B){B=this.cfg.extend(B);var w=C.createEncryptor($,B);return b=w.finalize(b),w=w.cfg,v.create({ciphertext:b,key:$,iv:w.iv,algorithm:C,mode:w.mode,padding:w.padding,blockSize:C.blockSize,formatter:B.format})},decrypt:function(C,b,$,B){return B=this.cfg.extend(B),b=this._parse(b,B.format),C.createDecryptor($,B).finalize(b.ciphertext)},_parse:function(C,b){return typeof C=="string"?b.parse(C,this):C}}),E=(E.kdf={}).OpenSSL={execute:function(C,b,$,B){return B||(B=a.random(8)),C=l.create({keySize:b+$}).compute(C,B),$=a.create(C.words.slice(b),4*$),C.sigBytes=4*b,v.create({key:C,iv:$,salt:B})}},y=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:E}),encrypt:function(C,b,$,B){return B=this.cfg.extend(B),$=B.kdf.execute($,C.keySize,C.ivSize),B.iv=$.iv,C=m.encrypt.call(this,C,b,$.key,B),C.mixIn($),C},decrypt:function(C,b,$,B){return B=this.cfg.extend(B),b=this._parse(b,B.format),$=B.kdf.execute($,C.keySize,C.ivSize,b.salt),B.iv=$.iv,m.decrypt.call(this,C,b,$.key,B)}})}();(function(){for(var e=CryptoJS$1,r=e.lib.BlockCipher,_=e.algo,n=[],a=[],o=[],u=[],l=[],c=[],g=[],d=[],v=[],x=[],m=[],E=0;256>E;E++)m[E]=128>E?E<<1:E<<1^283;for(var y=0,C=0,E=0;256>E;E++){var b=C^C<<1^C<<2^C<<3^C<<4,b=b>>>8^b&255^99;n[y]=b,a[b]=y;var $=m[y],B=m[$],w=m[B],F=257*m[b]^16843008*b;o[y]=F<<24|F>>>8,u[y]=F<<16|F>>>16,l[y]=F<<8|F>>>24,c[y]=F,F=16843009*w^65537*B^257*$^16843008*y,g[b]=F<<24|F>>>8,d[b]=F<<16|F>>>16,v[b]=F<<8|F>>>24,x[b]=F,y?(y=$^m[m[m[w^$]]],C^=m[m[C]]):y=C=1}var U=[0,1,2,4,8,16,32,64,128,27,54],_=_.AES=r.extend({_doReset:function(){for(var N=this._key,T=N.words,k=N.sigBytes/4,N=4*((this._nRounds=k+6)+1),K=this._keySchedule=[],O=0;O<N;O++)if(O<k)K[O]=T[O];else{var V=K[O-1];O%k?6<k&&O%k==4&&(V=n[V>>>24]<<24|n[V>>>16&255]<<16|n[V>>>8&255]<<8|n[V&255]):(V=V<<8|V>>>24,V=n[V>>>24]<<24|n[V>>>16&255]<<16|n[V>>>8&255]<<8|n[V&255],V^=U[O/k|0]<<24),K[O]=K[O-k]^V}for(T=this._invKeySchedule=[],k=0;k<N;k++)O=N-k,V=k%4?K[O]:K[O-4],T[k]=4>k||4>=O?V:g[n[V>>>24]]^d[n[V>>>16&255]]^v[n[V>>>8&255]]^x[n[V&255]]},encryptBlock:function(T,k){this._doCryptBlock(T,k,this._keySchedule,o,u,l,c,n)},decryptBlock:function(T,k){var N=T[k+1];T[k+1]=T[k+3],T[k+3]=N,this._doCryptBlock(T,k,this._invKeySchedule,g,d,v,x,a),N=T[k+1],T[k+1]=T[k+3],T[k+3]=N},_doCryptBlock:function(T,k,N,K,O,V,J,H){for(var G=this._nRounds,re=T[k]^N[0],q=T[k+1]^N[1],ie=T[k+2]^N[2],W=T[k+3]^N[3],te=4,Q=1;Q<G;Q++)var xe=K[re>>>24]^O[q>>>16&255]^V[ie>>>8&255]^J[W&255]^N[te++],ce=K[q>>>24]^O[ie>>>16&255]^V[W>>>8&255]^J[re&255]^N[te++],de=K[ie>>>24]^O[W>>>16&255]^V[re>>>8&255]^J[q&255]^N[te++],W=K[W>>>24]^O[re>>>16&255]^V[q>>>8&255]^J[ie&255]^N[te++],re=xe,q=ce,ie=de;xe=(H[re>>>24]<<24|H[q>>>16&255]<<16|H[ie>>>8&255]<<8|H[W&255])^N[te++],ce=(H[q>>>24]<<24|H[ie>>>16&255]<<16|H[W>>>8&255]<<8|H[re&255])^N[te++],de=(H[ie>>>24]<<24|H[W>>>16&255]<<16|H[re>>>8&255]<<8|H[q&255])^N[te++],W=(H[W>>>24]<<24|H[re>>>16&255]<<16|H[q>>>8&255]<<8|H[ie&255])^N[te++],T[k]=xe,T[k+1]=ce,T[k+2]=de,T[k+3]=W},keySize:8});e.AES=r._createHelper(_)})();(function(){function e(m,E){var y=(this._lBlock>>>m^this._rBlock)&E;this._rBlock^=y,this._lBlock^=y<<m}function r(m,E){var y=(this._rBlock>>>m^this._lBlock)&E;this._lBlock^=y,this._rBlock^=y<<m}var n=CryptoJS$1,o=n.lib,a=o.WordArray,o=o.BlockCipher,u=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],g=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{"0":8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{"0":1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{"0":260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{"0":2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{"0":128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{"0":268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{"0":1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{"0":134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=u.DES=o.extend({_doReset:function(){for(var m=this._key.words,E=[],y=0;56>y;y++){var C=l[y]-1;E[y]=m[C>>>5]>>>31-C%32&1}for(m=this._subKeys=[],C=0;16>C;C++){for(var b=m[C]=[],$=g[C],y=0;24>y;y++)b[y/6|0]|=E[(c[y]-1+$)%28]<<31-y%6,b[4+(y/6|0)]|=E[28+(c[y+24]-1+$)%28]<<31-y%6;for(b[0]=b[0]<<1|b[0]>>>31,y=1;7>y;y++)b[y]>>>=4*(y-1)+3;b[7]=b[7]<<5|b[7]>>>27}for(E=this._invSubKeys=[],y=0;16>y;y++)E[y]=m[15-y]},encryptBlock:function(m,E){this._doCryptBlock(m,E,this._subKeys)},decryptBlock:function(m,E){this._doCryptBlock(m,E,this._invSubKeys)},_doCryptBlock:function(m,E,y){this._lBlock=m[E],this._rBlock=m[E+1],e.call(this,4,252645135),e.call(this,16,65535),r.call(this,2,858993459),r.call(this,8,16711935),e.call(this,1,1431655765);for(var C=0;16>C;C++){for(var b=y[C],$=this._lBlock,B=this._rBlock,w=0,F=0;8>F;F++)w|=d[F][((B^b[F])&v[F])>>>0];this._lBlock=B,this._rBlock=$^w}y=this._lBlock,this._lBlock=this._rBlock,this._rBlock=y,e.call(this,1,1431655765),r.call(this,8,16711935),r.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),m[E]=this._lBlock,m[E+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=o._createHelper(x),u=u.TripleDES=o.extend({_doReset:function(){var m=this._key.words;this._des1=x.createEncryptor(a.create(m.slice(0,2))),this._des2=x.createEncryptor(a.create(m.slice(2,4))),this._des3=x.createEncryptor(a.create(m.slice(4,6)))},encryptBlock:function(m,E){this._des1.encryptBlock(m,E),this._des2.decryptBlock(m,E),this._des3.encryptBlock(m,E)},decryptBlock:function(m,E){this._des3.decryptBlock(m,E),this._des2.encryptBlock(m,E),this._des1.decryptBlock(m,E)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=o._createHelper(u)})();(function(){var e=CryptoJS$1,r=e.lib.WordArray;e.enc.Base64={stringify:function(n){var a=n.words,o=n.sigBytes,u=this._map;n.clamp(),n=[];for(var l=0;l<o;l+=3)for(var c=(a[l>>>2]>>>24-8*(l%4)&255)<<16|(a[l+1>>>2]>>>24-8*((l+1)%4)&255)<<8|a[l+2>>>2]>>>24-8*((l+2)%4)&255,g=0;4>g&&l+.75*g<o;g++)n.push(u.charAt(c>>>6*(3-g)&63));if(a=u.charAt(64))for(;n.length%4;)n.push(a);return n.join("")},parse:function(n){var a=n.length,o=this._map,u=o.charAt(64);u&&(u=n.indexOf(u),u!=-1&&(a=u));for(var u=[],l=0,c=0;c<a;c++)if(c%4){var g=o.indexOf(n.charAt(c-1))<<2*(c%4),d=o.indexOf(n.charAt(c))>>>6-2*(c%4);u[l>>>2]|=(g|d)<<24-8*(l%4),l++}return r.create(u,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(e){function r(x,m,E,y,C,b,$){return x=x+(m&E|~m&y)+C+$,(x<<b|x>>>32-b)+m}function n(x,m,E,y,C,b,$){return x=x+(m&y|E&~y)+C+$,(x<<b|x>>>32-b)+m}function a(x,m,E,y,C,b,$){return x=x+(m^E^y)+C+$,(x<<b|x>>>32-b)+m}function o(x,m,E,y,C,b,$){return x=x+(E^(m|~y))+C+$,(x<<b|x>>>32-b)+m}for(var u=CryptoJS$1,g=u.lib,l=g.WordArray,c=g.Hasher,g=u.algo,d=[],v=0;64>v;v++)d[v]=4294967296*e.abs(e.sin(v+1))|0;g=g.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,m){for(var E=0;16>E;E++){var y=m+E,C=x[y];x[y]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var E=this._hash.words,y=x[m+0],C=x[m+1],b=x[m+2],$=x[m+3],B=x[m+4],w=x[m+5],F=x[m+6],U=x[m+7],_=x[m+8],T=x[m+9],k=x[m+10],N=x[m+11],K=x[m+12],O=x[m+13],V=x[m+14],J=x[m+15],H=E[0],Q=E[1],te=E[2],G=E[3],H=r(H,Q,te,G,y,7,d[0]),G=r(G,H,Q,te,C,12,d[1]),te=r(te,G,H,Q,b,17,d[2]),Q=r(Q,te,G,H,$,22,d[3]),H=r(H,Q,te,G,B,7,d[4]),G=r(G,H,Q,te,w,12,d[5]),te=r(te,G,H,Q,F,17,d[6]),Q=r(Q,te,G,H,U,22,d[7]),H=r(H,Q,te,G,_,7,d[8]),G=r(G,H,Q,te,T,12,d[9]),te=r(te,G,H,Q,k,17,d[10]),Q=r(Q,te,G,H,N,22,d[11]),H=r(H,Q,te,G,K,7,d[12]),G=r(G,H,Q,te,O,12,d[13]),te=r(te,G,H,Q,V,17,d[14]),Q=r(Q,te,G,H,J,22,d[15]),H=n(H,Q,te,G,C,5,d[16]),G=n(G,H,Q,te,F,9,d[17]),te=n(te,G,H,Q,N,14,d[18]),Q=n(Q,te,G,H,y,20,d[19]),H=n(H,Q,te,G,w,5,d[20]),G=n(G,H,Q,te,k,9,d[21]),te=n(te,G,H,Q,J,14,d[22]),Q=n(Q,te,G,H,B,20,d[23]),H=n(H,Q,te,G,T,5,d[24]),G=n(G,H,Q,te,V,9,d[25]),te=n(te,G,H,Q,$,14,d[26]),Q=n(Q,te,G,H,_,20,d[27]),H=n(H,Q,te,G,O,5,d[28]),G=n(G,H,Q,te,b,9,d[29]),te=n(te,G,H,Q,U,14,d[30]),Q=n(Q,te,G,H,K,20,d[31]),H=a(H,Q,te,G,w,4,d[32]),G=a(G,H,Q,te,_,11,d[33]),te=a(te,G,H,Q,N,16,d[34]),Q=a(Q,te,G,H,V,23,d[35]),H=a(H,Q,te,G,C,4,d[36]),G=a(G,H,Q,te,B,11,d[37]),te=a(te,G,H,Q,U,16,d[38]),Q=a(Q,te,G,H,k,23,d[39]),H=a(H,Q,te,G,O,4,d[40]),G=a(G,H,Q,te,y,11,d[41]),te=a(te,G,H,Q,$,16,d[42]),Q=a(Q,te,G,H,F,23,d[43]),H=a(H,Q,te,G,T,4,d[44]),G=a(G,H,Q,te,K,11,d[45]),te=a(te,G,H,Q,J,16,d[46]),Q=a(Q,te,G,H,b,23,d[47]),H=o(H,Q,te,G,y,6,d[48]),G=o(G,H,Q,te,U,10,d[49]),te=o(te,G,H,Q,V,15,d[50]),Q=o(Q,te,G,H,w,21,d[51]),H=o(H,Q,te,G,K,6,d[52]),G=o(G,H,Q,te,$,10,d[53]),te=o(te,G,H,Q,k,15,d[54]),Q=o(Q,te,G,H,C,21,d[55]),H=o(H,Q,te,G,_,6,d[56]),G=o(G,H,Q,te,J,10,d[57]),te=o(te,G,H,Q,F,15,d[58]),Q=o(Q,te,G,H,O,21,d[59]),H=o(H,Q,te,G,B,6,d[60]),G=o(G,H,Q,te,N,10,d[61]),te=o(te,G,H,Q,b,15,d[62]),Q=o(Q,te,G,H,T,21,d[63]);E[0]=E[0]+H|0,E[1]=E[1]+Q|0,E[2]=E[2]+te|0,E[3]=E[3]+G|0},_doFinalize:function(){var x=this._data,m=x.words,E=8*this._nDataBytes,y=8*x.sigBytes;m[y>>>5]|=128<<24-y%32;var C=e.floor(E/4294967296);for(m[(y+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,m[(y+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,x.sigBytes=4*(m.length+1),this._process(),x=this._hash,m=x.words,E=0;4>E;E++)y=m[E],m[E]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360;return x},clone:function(){var x=c.clone.call(this);return x._hash=this._hash.clone(),x}}),u.MD5=c._createHelper(g),u.HmacMD5=c._createHmacHelper(g)})(Math);(function(){var e=CryptoJS$1,o=e.lib,r=o.WordArray,n=o.Hasher,a=[],o=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,l){for(var c=this._hash.words,g=c[0],d=c[1],v=c[2],x=c[3],m=c[4],E=0;80>E;E++){if(16>E)a[E]=u[l+E]|0;else{var y=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=y<<1|y>>>31}y=(g<<5|g>>>27)+m+a[E],y=20>E?y+((d&v|~d&x)+1518500249):40>E?y+((d^v^x)+1859775393):60>E?y+((d&v|d&x|v&x)-1894007588):y+((d^v^x)-899497514),m=x,x=v,v=d<<30|d>>>2,d=g,g=y}c[0]=c[0]+g|0,c[1]=c[1]+d|0,c[2]=c[2]+v|0,c[3]=c[3]+x|0,c[4]=c[4]+m|0},_doFinalize:function(){var u=this._data,l=u.words,c=8*this._nDataBytes,g=8*u.sigBytes;return l[g>>>5]|=128<<24-g%32,l[(g+64>>>9<<4)+14]=Math.floor(c/4294967296),l[(g+64>>>9<<4)+15]=c,u.sigBytes=4*l.length,this._process(),this._hash},clone:function(){var u=n.clone.call(this);return u._hash=this._hash.clone(),u}});e.SHA1=n._createHelper(o),e.HmacSHA1=n._createHmacHelper(o)})();(function(e){for(var r=CryptoJS$1,E=r.lib,n=E.WordArray,a=E.Hasher,E=r.algo,o=[],u=[],l=function(C){return 4294967296*(C-(C|0))|0},c=2,g=0;64>g;){var d;e:{d=c;for(var v=e.sqrt(d),x=2;x<=v;x++)if(!(d%x)){d=!1;break e}d=!0}d&&(8>g&&(o[g]=l(e.pow(c,.5))),u[g]=l(e.pow(c,1/3)),g++),c++}var m=[],E=E.SHA256=a.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(y,C){for(var b=this._hash.words,$=b[0],B=b[1],w=b[2],F=b[3],U=b[4],_=b[5],T=b[6],k=b[7],N=0;64>N;N++){if(16>N)m[N]=y[C+N]|0;else{var K=m[N-15],O=m[N-2];m[N]=((K<<25|K>>>7)^(K<<14|K>>>18)^K>>>3)+m[N-7]+((O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10)+m[N-16]}K=k+((U<<26|U>>>6)^(U<<21|U>>>11)^(U<<7|U>>>25))+(U&_^~U&T)+u[N]+m[N],O=(($<<30|$>>>2)^($<<19|$>>>13)^($<<10|$>>>22))+($&B^$&w^B&w),k=T,T=_,_=U,U=F+K|0,F=w,w=B,B=$,$=K+O|0}b[0]=b[0]+$|0,b[1]=b[1]+B|0,b[2]=b[2]+w|0,b[3]=b[3]+F|0,b[4]=b[4]+U|0,b[5]=b[5]+_|0,b[6]=b[6]+T|0,b[7]=b[7]+k|0},_doFinalize:function(){var y=this._data,C=y.words,b=8*this._nDataBytes,$=8*y.sigBytes;return C[$>>>5]|=128<<24-$%32,C[($+64>>>9<<4)+14]=e.floor(b/4294967296),C[($+64>>>9<<4)+15]=b,y.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});r.SHA256=a._createHelper(E),r.HmacSHA256=a._createHmacHelper(E)})(Math);(function(){var e=CryptoJS$1,r=e.lib.WordArray,a=e.algo,n=a.SHA256,a=a.SHA224=n.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var o=n._doFinalize.call(this);return o.sigBytes-=4,o}});e.SHA224=n._createHelper(a),e.HmacSHA224=n._createHmacHelper(a)})();(function(){function e(){return a.create.apply(a,arguments)}for(var r=CryptoJS$1,n=r.lib.Hasher,u=r.x64,a=u.Word,o=u.WordArray,u=r.algo,l=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],c=[],g=0;80>g;g++)c[g]=e();u=u.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(d,v){for(var B=this._hash.words,x=B[0],m=B[1],E=B[2],y=B[3],C=B[4],b=B[5],$=B[6],B=B[7],w=x.high,F=x.low,U=m.high,_=m.low,T=E.high,k=E.low,N=y.high,K=y.low,O=C.high,V=C.low,J=b.high,H=b.low,G=$.high,te=$.low,Q=B.high,xe=B.low,ce=w,de=F,W=U,re=_,q=T,ie=k,ne=N,ue=K,se=O,oe=V,Se=J,be=H,$e=G,ye=te,j=Q,ee=xe,ae=0;80>ae;ae++){var _e=c[ae];if(16>ae)var le=_e.high=d[v+2*ae]|0,Ee=_e.low=d[v+2*ae+1]|0;else{var le=c[ae-15],Ee=le.high,pe=le.low,le=(Ee>>>1|pe<<31)^(Ee>>>8|pe<<24)^Ee>>>7,pe=(pe>>>1|Ee<<31)^(pe>>>8|Ee<<24)^(pe>>>7|Ee<<25),ge=c[ae-2],Ee=ge.high,me=ge.low,ge=(Ee>>>19|me<<13)^(Ee<<3|me>>>29)^Ee>>>6,me=(me>>>19|Ee<<13)^(me<<3|Ee>>>29)^(me>>>6|Ee<<26),Ee=c[ae-7],fe=Ee.high,ve=c[ae-16],Ae=ve.high,ve=ve.low,Ee=pe+Ee.low,le=le+fe+(Ee>>>0<pe>>>0?1:0),Ee=Ee+me,le=le+ge+(Ee>>>0<me>>>0?1:0),Ee=Ee+ve,le=le+Ae+(Ee>>>0<ve>>>0?1:0);_e.high=le,_e.low=Ee}var fe=se&Se^~se&$e,ve=oe&be^~oe&ye,_e=ce&W^ce&q^W&q,Ce=de&re^de&ie^re&ie,pe=(ce>>>28|de<<4)^(ce<<30|de>>>2)^(ce<<25|de>>>7),ge=(de>>>28|ce<<4)^(de<<30|ce>>>2)^(de<<25|ce>>>7),me=l[ae],he=me.high,Be=me.low,me=ee+((oe>>>14|se<<18)^(oe>>>18|se<<14)^(oe<<23|se>>>9)),Ae=j+((se>>>14|oe<<18)^(se>>>18|oe<<14)^(se<<23|oe>>>9))+(me>>>0<ee>>>0?1:0),me=me+ve,Ae=Ae+fe+(me>>>0<ve>>>0?1:0),me=me+Be,Ae=Ae+he+(me>>>0<Be>>>0?1:0),me=me+Ee,Ae=Ae+le+(me>>>0<Ee>>>0?1:0),Ee=ge+Ce,_e=pe+_e+(Ee>>>0<ge>>>0?1:0),j=$e,ee=ye,$e=Se,ye=be,Se=se,be=oe,oe=ue+me|0,se=ne+Ae+(oe>>>0<ue>>>0?1:0)|0,ne=q,ue=ie,q=W,ie=re,W=ce,re=de,de=me+Ee|0,ce=Ae+_e+(de>>>0<me>>>0?1:0)|0}F=x.low=F+de,x.high=w+ce+(F>>>0<de>>>0?1:0),_=m.low=_+re,m.high=U+W+(_>>>0<re>>>0?1:0),k=E.low=k+ie,E.high=T+q+(k>>>0<ie>>>0?1:0),K=y.low=K+ue,y.high=N+ne+(K>>>0<ue>>>0?1:0),V=C.low=V+oe,C.high=O+se+(V>>>0<oe>>>0?1:0),H=b.low=H+be,b.high=J+Se+(H>>>0<be>>>0?1:0),te=$.low=te+ye,$.high=G+$e+(te>>>0<ye>>>0?1:0),xe=B.low=xe+ee,B.high=Q+j+(xe>>>0<ee>>>0?1:0)},_doFinalize:function(){var d=this._data,v=d.words,x=8*this._nDataBytes,m=8*d.sigBytes;return v[m>>>5]|=128<<24-m%32,v[(m+128>>>10<<5)+30]=Math.floor(x/4294967296),v[(m+128>>>10<<5)+31]=x,d.sigBytes=4*v.length,this._process(),this._hash.toX32()},clone:function(){var d=n.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:32}),r.SHA512=n._createHelper(u),r.HmacSHA512=n._createHmacHelper(u)})();(function(){var e=CryptoJS$1,o=e.x64,r=o.Word,n=o.WordArray,o=e.algo,a=o.SHA512,o=o.SHA384=a.extend({_doReset:function(){this._hash=new n.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=16,u}});e.SHA384=a._createHelper(o),e.HmacSHA384=a._createHmacHelper(o)})();(function(){var e=CryptoJS$1,d=e.lib,r=d.WordArray,n=d.Hasher,d=e.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=r.create([0,1518500249,1859775393,2400959708,2840853838]),g=r.create([1352829926,1548603684,1836072691,2053994217,0]),d=d.RIPEMD160=n.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,x){for(var m=0;16>m;m++){var E=x+m,y=v[E];v[E]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var E=this._hash.words,y=c.words,C=g.words,b=a.words,$=o.words,B=u.words,w=l.words,F,U,_,T,k,N,K,O,V,J;N=F=E[0],K=U=E[1],O=_=E[2],V=T=E[3],J=k=E[4];for(var H,m=0;80>m;m+=1)H=F+v[x+b[m]]|0,H=16>m?H+((U^_^T)+y[0]):32>m?H+((U&_|~U&T)+y[1]):48>m?H+(((U|~_)^T)+y[2]):64>m?H+((U&T|_&~T)+y[3]):H+((U^(_|~T))+y[4]),H|=0,H=H<<B[m]|H>>>32-B[m],H=H+k|0,F=k,k=T,T=_<<10|_>>>22,_=U,U=H,H=N+v[x+$[m]]|0,H=16>m?H+((K^(O|~V))+C[0]):32>m?H+((K&V|O&~V)+C[1]):48>m?H+(((K|~O)^V)+C[2]):64>m?H+((K&O|~K&V)+C[3]):H+((K^O^V)+C[4]),H|=0,H=H<<w[m]|H>>>32-w[m],H=H+J|0,N=J,J=V,V=O<<10|O>>>22,O=K,K=H;H=E[1]+_+V|0,E[1]=E[2]+T+J|0,E[2]=E[3]+k+N|0,E[3]=E[4]+F+K|0,E[4]=E[0]+U+O|0,E[0]=H},_doFinalize:function(){var v=this._data,x=v.words,m=8*this._nDataBytes,E=8*v.sigBytes;for(x[E>>>5]|=128<<24-E%32,x[(E+64>>>9<<4)+14]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,v.sigBytes=4*(x.length+1),this._process(),v=this._hash,x=v.words,m=0;5>m;m++)E=x[m],x[m]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;return v},clone:function(){var v=n.clone.call(this);return v._hash=this._hash.clone(),v}});e.RIPEMD160=n._createHelper(d),e.HmacRIPEMD160=n._createHmacHelper(d)})();(function(){var e=CryptoJS$1,r=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(n,a){n=this._hasher=new n.init,typeof a=="string"&&(a=r.parse(a));var o=n.blockSize,u=4*o;a.sigBytes>u&&(a=n.finalize(a)),a.clamp();for(var l=this._oKey=a.clone(),c=this._iKey=a.clone(),g=l.words,d=c.words,v=0;v<o;v++)g[v]^=1549556828,d[v]^=909522486;l.sigBytes=c.sigBytes=u,this.reset()},reset:function(){var n=this._hasher;n.reset(),n.update(this._iKey)},update:function(n){return this._hasher.update(n),this},finalize:function(n){var a=this._hasher;return n=a.finalize(n),a.reset(),a.finalize(this._oKey.clone().concat(n))}})})();(function(){var e=CryptoJS$1,a=e.lib,r=a.Base,n=a.WordArray,a=e.algo,o=a.HMAC,u=a.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:a.SHA1,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,c){for(var y=this.cfg,g=o.create(y.hasher,l),d=n.create(),v=n.create([1]),x=d.words,m=v.words,E=y.keySize,y=y.iterations;x.length<E;){var C=g.update(c).finalize(v);g.reset();for(var b=C.words,$=b.length,B=C,w=1;w<y;w++){B=g.finalize(B),g.reset();for(var F=B.words,U=0;U<$;U++)b[U]^=F[U]}d.concat(C),m[0]++}return d.sigBytes=4*E,d}});e.PBKDF2=function(l,c,g){return u.create(g).compute(l,c)}})();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64pad="=";function hex2b64(e){var r,n,a="";for(r=0;r+3<=e.length;r+=3)n=parseInt(e.substring(r,r+3),16),a+=b64map.charAt(n>>6)+b64map.charAt(n&63);for(r+1==e.length?(n=parseInt(e.substring(r,r+1),16),a+=b64map.charAt(n<<2)):r+2==e.length&&(n=parseInt(e.substring(r,r+2),16),a+=b64map.charAt(n>>2)+b64map.charAt((n&3)<<4));(a.length&3)>0;)a+=b64pad;return a}function b64tohex(e){var r="",n,a=0,o,u;for(n=0;n<e.length&&e.charAt(n)!=b64pad;++n)u=b64map.indexOf(e.charAt(n)),!(u<0)&&(a==0?(r+=int2char$1(u>>2),o=u&3,a=1):a==1?(r+=int2char$1(o<<2|u>>4),o=u&15,a=2):a==2?(r+=int2char$1(o),r+=int2char$1(u>>2),o=u&3,a=3):(r+=int2char$1(o<<2|u>>4),r+=int2char$1(u&15),a=0));return a==1&&(r+=int2char$1(o<<2)),r}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
*/var dbits$1;function BigInteger$5(e,r,n){e!=null&&(typeof e=="number"?this.fromNumber(e,r,n):r==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,r))}function nbi$1(){return new BigInteger$5(null)}function am1$1(e,r,n,a,o,u){for(;--u>=0;){var l=r*this[e++]+n[a]+o;o=Math.floor(l/67108864),n[a++]=l&67108863}return o}function am2$1(e,r,n,a,o,u){for(var l=r&32767,c=r>>15;--u>=0;){var g=this[e]&32767,d=this[e++]>>15,v=c*g+d*l;g=l*g+((v&32767)<<15)+n[a]+(o&1073741823),o=(g>>>30)+(v>>>15)+c*d+(o>>>30),n[a++]=g&1073741823}return o}function am3$1(e,r,n,a,o,u){for(var l=r&16383,c=r>>14;--u>=0;){var g=this[e]&16383,d=this[e++]>>14,v=c*g+d*l;g=l*g+((v&16383)<<14)+n[a]+o,o=(g>>28)+(v>>14)+c*d,n[a++]=g&268435455}return o}navigator$1.appName=="Microsoft Internet Explorer"?(BigInteger$5.prototype.am=am2$1,dbits$1=30):navigator$1.appName!="Netscape"?(BigInteger$5.prototype.am=am1$1,dbits$1=26):(BigInteger$5.prototype.am=am3$1,dbits$1=28);BigInteger$5.prototype.DB=dbits$1;BigInteger$5.prototype.DM=(1<<dbits$1)-1;BigInteger$5.prototype.DV=1<<dbits$1;var BI_FP$1=52;BigInteger$5.prototype.FV=Math.pow(2,BI_FP$1);BigInteger$5.prototype.F1=BI_FP$1-dbits$1;BigInteger$5.prototype.F2=2*dbits$1-BI_FP$1;var BI_RM$1="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC$1=new Array,rr$1,vv$1;rr$1="0".charCodeAt(0);for(vv$1=0;vv$1<=9;++vv$1)BI_RC$1[rr$1++]=vv$1;rr$1="a".charCodeAt(0);for(vv$1=10;vv$1<36;++vv$1)BI_RC$1[rr$1++]=vv$1;rr$1="A".charCodeAt(0);for(vv$1=10;vv$1<36;++vv$1)BI_RC$1[rr$1++]=vv$1;function int2char$1(e){return BI_RM$1.charAt(e)}function intAt$1(e,r){var n=BI_RC$1[e.charCodeAt(r)];return n==null?-1:n}function bnpCopyTo$1(e){for(var r=this.t-1;r>=0;--r)e[r]=this[r];e.t=this.t,e.s=this.s}function bnpFromInt$1(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function nbv$1(e){var r=nbi$1();return r.fromInt(e),r}function bnpFromString$1(e,r){var n;if(r==16)n=4;else if(r==8)n=3;else if(r==256)n=8;else if(r==2)n=1;else if(r==32)n=5;else if(r==4)n=2;else{this.fromRadix(e,r);return}this.t=0,this.s=0;for(var a=e.length,o=!1,u=0;--a>=0;){var l=n==8?e[a]&255:intAt$1(e,a);if(l<0){e.charAt(a)=="-"&&(o=!0);continue}o=!1,u==0?this[this.t++]=l:u+n>this.DB?(this[this.t-1]|=(l&(1<<this.DB-u)-1)<<u,this[this.t++]=l>>this.DB-u):this[this.t-1]|=l<<u,u+=n,u>=this.DB&&(u-=this.DB)}n==8&&(e[0]&128)!=0&&(this.s=-1,u>0&&(this[this.t-1]|=(1<<this.DB-u)-1<<u)),this.clamp(),o&&BigInteger$5.ZERO.subTo(this,this)}function bnpClamp$1(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function bnToString$1(e){if(this.s<0)return"-"+this.negate().toString(e);var r;if(e==16)r=4;else if(e==8)r=3;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else return this.toRadix(e);var n=(1<<r)-1,a,o=!1,u="",l=this.t,c=this.DB-l*this.DB%r;if(l-- >0)for(c<this.DB&&(a=this[l]>>c)>0&&(o=!0,u=int2char$1(a));l>=0;)c<r?(a=(this[l]&(1<<c)-1)<<r-c,a|=this[--l]>>(c+=this.DB-r)):(a=this[l]>>(c-=r)&n,c<=0&&(c+=this.DB,--l)),a>0&&(o=!0),o&&(u+=int2char$1(a));return o?u:"0"}function bnNegate$1(){var e=nbi$1();return BigInteger$5.ZERO.subTo(this,e),e}function bnAbs$1(){return this.s<0?this.negate():this}function bnCompareTo$1(e){var r=this.s-e.s;if(r!=0)return r;var n=this.t;if(r=n-e.t,r!=0)return this.s<0?-r:r;for(;--n>=0;)if((r=this[n]-e[n])!=0)return r;return 0}function nbits$1(e){var r=1,n;return(n=e>>>16)!=0&&(e=n,r+=16),(n=e>>8)!=0&&(e=n,r+=8),(n=e>>4)!=0&&(e=n,r+=4),(n=e>>2)!=0&&(e=n,r+=2),(n=e>>1)!=0&&(e=n,r+=1),r}function bnBitLength$1(){return this.t<=0?0:this.DB*(this.t-1)+nbits$1(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo$1(e,r){var n;for(n=this.t-1;n>=0;--n)r[n+e]=this[n];for(n=e-1;n>=0;--n)r[n]=0;r.t=this.t+e,r.s=this.s}function bnpDRShiftTo$1(e,r){for(var n=e;n<this.t;++n)r[n-e]=this[n];r.t=Math.max(this.t-e,0),r.s=this.s}function bnpLShiftTo$1(e,r){var n=e%this.DB,a=this.DB-n,o=(1<<a)-1,u=Math.floor(e/this.DB),l=this.s<<n&this.DM,c;for(c=this.t-1;c>=0;--c)r[c+u+1]=this[c]>>a|l,l=(this[c]&o)<<n;for(c=u-1;c>=0;--c)r[c]=0;r[u]=l,r.t=this.t+u+1,r.s=this.s,r.clamp()}function bnpRShiftTo$1(e,r){r.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){r.t=0;return}var a=e%this.DB,o=this.DB-a,u=(1<<a)-1;r[0]=this[n]>>a;for(var l=n+1;l<this.t;++l)r[l-n-1]|=(this[l]&u)<<o,r[l-n]=this[l]>>a;a>0&&(r[this.t-n-1]|=(this.s&u)<<o),r.t=this.t-n,r.clamp()}function bnpSubTo$1(e,r){for(var n=0,a=0,o=Math.min(e.t,this.t);n<o;)a+=this[n]-e[n],r[n++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a-=e.s;n<this.t;)a+=this[n],r[n++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;n<e.t;)a-=e[n],r[n++]=a&this.DM,a>>=this.DB;a-=e.s}r.s=a<0?-1:0,a<-1?r[n++]=this.DV+a:a>0&&(r[n++]=a),r.t=n,r.clamp()}function bnpMultiplyTo$1(e,r){var n=this.abs(),a=e.abs(),o=n.t;for(r.t=o+a.t;--o>=0;)r[o]=0;for(o=0;o<a.t;++o)r[o+n.t]=n.am(0,a[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=e.s&&BigInteger$5.ZERO.subTo(r,r)}function bnpSquareTo$1(e){for(var r=this.abs(),n=e.t=2*r.t;--n>=0;)e[n]=0;for(n=0;n<r.t-1;++n){var a=r.am(n,r[n],e,2*n,0,1);(e[n+r.t]+=r.am(n+1,2*r[n],e,2*n+1,a,r.t-n-1))>=r.DV&&(e[n+r.t]-=r.DV,e[n+r.t+1]=1)}e.t>0&&(e[e.t-1]+=r.am(n,r[n],e,2*n,0,1)),e.s=0,e.clamp()}function bnpDivRemTo$1(e,r,n){var a=e.abs();if(!(a.t<=0)){var o=this.abs();if(o.t<a.t){r!=null&&r.fromInt(0),n!=null&&this.copyTo(n);return}n==null&&(n=nbi$1());var u=nbi$1(),l=this.s,c=e.s,g=this.DB-nbits$1(a[a.t-1]);g>0?(a.lShiftTo(g,u),o.lShiftTo(g,n)):(a.copyTo(u),o.copyTo(n));var d=u.t,v=u[d-1];if(v!=0){var x=v*(1<<this.F1)+(d>1?u[d-2]>>this.F2:0),m=this.FV/x,E=(1<<this.F1)/x,y=1<<this.F2,C=n.t,b=C-d,$=r==null?nbi$1():r;for(u.dlShiftTo(b,$),n.compareTo($)>=0&&(n[n.t++]=1,n.subTo($,n)),BigInteger$5.ONE.dlShiftTo(d,$),$.subTo(u,u);u.t<d;)u[u.t++]=0;for(;--b>=0;){var B=n[--C]==v?this.DM:Math.floor(n[C]*m+(n[C-1]+y)*E);if((n[C]+=u.am(0,B,n,b,0,d))<B)for(u.dlShiftTo(b,$),n.subTo($,n);n[C]<--B;)n.subTo($,n)}r!=null&&(n.drShiftTo(d,r),l!=c&&BigInteger$5.ZERO.subTo(r,r)),n.t=d,n.clamp(),g>0&&n.rShiftTo(g,n),l<0&&BigInteger$5.ZERO.subTo(n,n)}}}function bnMod$1(e){var r=nbi$1();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(BigInteger$5.ZERO)>0&&e.subTo(r,r),r}function Classic$1(e){this.m=e}function cConvert$1(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function cRevert$1(e){return e}function cReduce$1(e){e.divRemTo(this.m,null,e)}function cMulTo$1(e,r,n){e.multiplyTo(r,n),this.reduce(n)}function cSqrTo$1(e,r){e.squareTo(r),this.reduce(r)}Classic$1.prototype.convert=cConvert$1;Classic$1.prototype.revert=cRevert$1;Classic$1.prototype.reduce=cReduce$1;Classic$1.prototype.mulTo=cMulTo$1;Classic$1.prototype.sqrTo=cSqrTo$1;function bnpInvDigit$1(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var r=e&3;return r=r*(2-(e&15)*r)&15,r=r*(2-(e&255)*r)&255,r=r*(2-((e&65535)*r&65535))&65535,r=r*(2-e*r%this.DV)%this.DV,r>0?this.DV-r:-r}function Montgomery$1(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function montConvert$1(e){var r=nbi$1();return e.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),e.s<0&&r.compareTo(BigInteger$5.ZERO)>0&&this.m.subTo(r,r),r}function montRevert$1(e){var r=nbi$1();return e.copyTo(r),this.reduce(r),r}function montReduce$1(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var r=0;r<this.m.t;++r){var n=e[r]&32767,a=n*this.mpl+((n*this.mph+(e[r]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=r+this.m.t,e[n]+=this.m.am(0,a,e,r,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function montSqrTo$1(e,r){e.squareTo(r),this.reduce(r)}function montMulTo$1(e,r,n){e.multiplyTo(r,n),this.reduce(n)}Montgomery$1.prototype.convert=montConvert$1;Montgomery$1.prototype.revert=montRevert$1;Montgomery$1.prototype.reduce=montReduce$1;Montgomery$1.prototype.mulTo=montMulTo$1;Montgomery$1.prototype.sqrTo=montSqrTo$1;function bnpIsEven$1(){return(this.t>0?this[0]&1:this.s)==0}function bnpExp$1(e,r){if(e>4294967295||e<1)return BigInteger$5.ONE;var n=nbi$1(),a=nbi$1(),o=r.convert(this),u=nbits$1(e)-1;for(o.copyTo(n);--u>=0;)if(r.sqrTo(n,a),(e&1<<u)>0)r.mulTo(a,o,n);else{var l=n;n=a,a=l}return r.revert(n)}function bnModPowInt$1(e,r){var n;return e<256||r.isEven()?n=new Classic$1(r):n=new Montgomery$1(r),this.exp(e,n)}BigInteger$5.prototype.copyTo=bnpCopyTo$1;BigInteger$5.prototype.fromInt=bnpFromInt$1;BigInteger$5.prototype.fromString=bnpFromString$1;BigInteger$5.prototype.clamp=bnpClamp$1;BigInteger$5.prototype.dlShiftTo=bnpDLShiftTo$1;BigInteger$5.prototype.drShiftTo=bnpDRShiftTo$1;BigInteger$5.prototype.lShiftTo=bnpLShiftTo$1;BigInteger$5.prototype.rShiftTo=bnpRShiftTo$1;BigInteger$5.prototype.subTo=bnpSubTo$1;BigInteger$5.prototype.multiplyTo=bnpMultiplyTo$1;BigInteger$5.prototype.squareTo=bnpSquareTo$1;BigInteger$5.prototype.divRemTo=bnpDivRemTo$1;BigInteger$5.prototype.invDigit=bnpInvDigit$1;BigInteger$5.prototype.isEven=bnpIsEven$1;BigInteger$5.prototype.exp=bnpExp$1;BigInteger$5.prototype.toString=bnToString$1;BigInteger$5.prototype.negate=bnNegate$1;BigInteger$5.prototype.abs=bnAbs$1;BigInteger$5.prototype.compareTo=bnCompareTo$1;BigInteger$5.prototype.bitLength=bnBitLength$1;BigInteger$5.prototype.mod=bnMod$1;BigInteger$5.prototype.modPowInt=bnModPowInt$1;BigInteger$5.ZERO=nbv$1(0);BigInteger$5.ONE=nbv$1(1);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function bnClone$1(){var e=nbi$1();return this.copyTo(e),e}function bnIntValue$1(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue$1(){return this.t==0?this.s:this[0]<<24>>24}function bnShortValue$1(){return this.t==0?this.s:this[0]<<16>>16}function bnpChunkSize$1(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function bnSigNum$1(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function bnpToRadix$1(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var r=this.chunkSize(e),n=Math.pow(e,r),a=nbv$1(n),o=nbi$1(),u=nbi$1(),l="";for(this.divRemTo(a,o,u);o.signum()>0;)l=(n+u.intValue()).toString(e).substr(1)+l,o.divRemTo(a,o,u);return u.intValue().toString(e)+l}function bnpFromRadix$1(e,r){this.fromInt(0),r==null&&(r=10);for(var n=this.chunkSize(r),a=Math.pow(r,n),o=!1,u=0,l=0,c=0;c<e.length;++c){var g=intAt$1(e,c);if(g<0){e.charAt(c)=="-"&&this.signum()==0&&(o=!0);continue}l=r*l+g,++u>=n&&(this.dMultiply(a),this.dAddOffset(l,0),u=0,l=0)}u>0&&(this.dMultiply(Math.pow(r,u)),this.dAddOffset(l,0)),o&&BigInteger$5.ZERO.subTo(this,this)}function bnpFromNumber$1(e,r,n){if(typeof r=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(BigInteger$5.ONE.shiftLeft(e-1),op_or$1,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(BigInteger$5.ONE.shiftLeft(e-1),this);else{var a=new Array,o=e&7;a.length=(e>>3)+1,r.nextBytes(a),o>0?a[0]&=(1<<o)-1:a[0]=0,this.fromString(a,256)}}function bnToByteArray$1(){var e=this.t,r=new Array;r[0]=this.s;var n=this.DB-e*this.DB%8,a,o=0;if(e-- >0)for(n<this.DB&&(a=this[e]>>n)!=(this.s&this.DM)>>n&&(r[o++]=a|this.s<<this.DB-n);e>=0;)n<8?(a=(this[e]&(1<<n)-1)<<8-n,a|=this[--e]>>(n+=this.DB-8)):(a=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),(a&128)!=0&&(a|=-256),o==0&&(this.s&128)!=(a&128)&&++o,(o>0||a!=this.s)&&(r[o++]=a);return r}function bnEquals$1(e){return this.compareTo(e)==0}function bnMin$1(e){return this.compareTo(e)<0?this:e}function bnMax$1(e){return this.compareTo(e)>0?this:e}function bnpBitwiseTo$1(e,r,n){var a,o,u=Math.min(e.t,this.t);for(a=0;a<u;++a)n[a]=r(this[a],e[a]);if(e.t<this.t){for(o=e.s&this.DM,a=u;a<this.t;++a)n[a]=r(this[a],o);n.t=this.t}else{for(o=this.s&this.DM,a=u;a<e.t;++a)n[a]=r(o,e[a]);n.t=e.t}n.s=r(this.s,e.s),n.clamp()}function op_and$1(e,r){return e&r}function bnAnd$1(e){var r=nbi$1();return this.bitwiseTo(e,op_and$1,r),r}function op_or$1(e,r){return e|r}function bnOr$1(e){var r=nbi$1();return this.bitwiseTo(e,op_or$1,r),r}function op_xor$1(e,r){return e^r}function bnXor$1(e){var r=nbi$1();return this.bitwiseTo(e,op_xor$1,r),r}function op_andnot$1(e,r){return e&~r}function bnAndNot$1(e){var r=nbi$1();return this.bitwiseTo(e,op_andnot$1,r),r}function bnNot$1(){for(var e=nbi$1(),r=0;r<this.t;++r)e[r]=this.DM&~this[r];return e.t=this.t,e.s=~this.s,e}function bnShiftLeft$1(e){var r=nbi$1();return e<0?this.rShiftTo(-e,r):this.lShiftTo(e,r),r}function bnShiftRight$1(e){var r=nbi$1();return e<0?this.lShiftTo(-e,r):this.rShiftTo(e,r),r}function lbit$1(e){if(e==0)return-1;var r=0;return(e&65535)==0&&(e>>=16,r+=16),(e&255)==0&&(e>>=8,r+=8),(e&15)==0&&(e>>=4,r+=4),(e&3)==0&&(e>>=2,r+=2),(e&1)==0&&++r,r}function bnGetLowestSetBit$1(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+lbit$1(this[e]);return this.s<0?this.t*this.DB:-1}function cbit$1(e){for(var r=0;e!=0;)e&=e-1,++r;return r}function bnBitCount$1(){for(var e=0,r=this.s&this.DM,n=0;n<this.t;++n)e+=cbit$1(this[n]^r);return e}function bnTestBit$1(e){var r=Math.floor(e/this.DB);return r>=this.t?this.s!=0:(this[r]&1<<e%this.DB)!=0}function bnpChangeBit$1(e,r){var n=BigInteger$5.ONE.shiftLeft(e);return this.bitwiseTo(n,r,n),n}function bnSetBit$1(e){return this.changeBit(e,op_or$1)}function bnClearBit$1(e){return this.changeBit(e,op_andnot$1)}function bnFlipBit$1(e){return this.changeBit(e,op_xor$1)}function bnpAddTo$1(e,r){for(var n=0,a=0,o=Math.min(e.t,this.t);n<o;)a+=this[n]+e[n],r[n++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a+=e.s;n<this.t;)a+=this[n],r[n++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;n<e.t;)a+=e[n],r[n++]=a&this.DM,a>>=this.DB;a+=e.s}r.s=a<0?-1:0,a>0?r[n++]=a:a<-1&&(r[n++]=this.DV+a),r.t=n,r.clamp()}function bnAdd$1(e){var r=nbi$1();return this.addTo(e,r),r}function bnSubtract$1(e){var r=nbi$1();return this.subTo(e,r),r}function bnMultiply$1(e){var r=nbi$1();return this.multiplyTo(e,r),r}function bnSquare(){var e=nbi$1();return this.squareTo(e),e}function bnDivide$1(e){var r=nbi$1();return this.divRemTo(e,r,null),r}function bnRemainder$1(e){var r=nbi$1();return this.divRemTo(e,null,r),r}function bnDivideAndRemainder$1(e){var r=nbi$1(),n=nbi$1();return this.divRemTo(e,r,n),new Array(r,n)}function bnpDMultiply$1(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset$1(e,r){if(e!=0){for(;this.t<=r;)this[this.t++]=0;for(this[r]+=e;this[r]>=this.DV;)this[r]-=this.DV,++r>=this.t&&(this[this.t++]=0),++this[r]}}function NullExp$1(){}function nNop$1(e){return e}function nMulTo$1(e,r,n){e.multiplyTo(r,n)}function nSqrTo$1(e,r){e.squareTo(r)}NullExp$1.prototype.convert=nNop$1;NullExp$1.prototype.revert=nNop$1;NullExp$1.prototype.mulTo=nMulTo$1;NullExp$1.prototype.sqrTo=nSqrTo$1;function bnPow$1(e){return this.exp(e,new NullExp$1)}function bnpMultiplyLowerTo$1(e,r,n){var a=Math.min(this.t+e.t,r);for(n.s=0,n.t=a;a>0;)n[--a]=0;var o;for(o=n.t-this.t;a<o;++a)n[a+this.t]=this.am(0,e[a],n,a,0,this.t);for(o=Math.min(e.t,r);a<o;++a)this.am(0,e[a],n,a,0,r-a);n.clamp()}function bnpMultiplyUpperTo$1(e,r,n){--r;var a=n.t=this.t+e.t-r;for(n.s=0;--a>=0;)n[a]=0;for(a=Math.max(r-this.t,0);a<e.t;++a)n[this.t+a-r]=this.am(r-a,e[a],n,0,0,this.t+a-r);n.clamp(),n.drShiftTo(1,n)}function Barrett$1(e){this.r2=nbi$1(),this.q3=nbi$1(),BigInteger$5.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function barrettConvert$1(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var r=nbi$1();return e.copyTo(r),this.reduce(r),r}function barrettRevert$1(e){return e}function barrettReduce$1(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function barrettSqrTo$1(e,r){e.squareTo(r),this.reduce(r)}function barrettMulTo$1(e,r,n){e.multiplyTo(r,n),this.reduce(n)}Barrett$1.prototype.convert=barrettConvert$1;Barrett$1.prototype.revert=barrettRevert$1;Barrett$1.prototype.reduce=barrettReduce$1;Barrett$1.prototype.mulTo=barrettMulTo$1;Barrett$1.prototype.sqrTo=barrettSqrTo$1;function bnModPow$1(e,r){var n=e.bitLength(),a,o=nbv$1(1),u;if(n<=0)return o;n<18?a=1:n<48?a=3:n<144?a=4:n<768?a=5:a=6,n<8?u=new Classic$1(r):r.isEven()?u=new Barrett$1(r):u=new Montgomery$1(r);var l=new Array,c=3,g=a-1,d=(1<<a)-1;if(l[1]=u.convert(this),a>1){var v=nbi$1();for(u.sqrTo(l[1],v);c<=d;)l[c]=nbi$1(),u.mulTo(v,l[c-2],l[c]),c+=2}var x=e.t-1,m,E=!0,y=nbi$1(),C;for(n=nbits$1(e[x])-1;x>=0;){for(n>=g?m=e[x]>>n-g&d:(m=(e[x]&(1<<n+1)-1)<<g-n,x>0&&(m|=e[x-1]>>this.DB+n-g)),c=a;(m&1)==0;)m>>=1,--c;if((n-=c)<0&&(n+=this.DB,--x),E)l[m].copyTo(o),E=!1;else{for(;c>1;)u.sqrTo(o,y),u.sqrTo(y,o),c-=2;c>0?u.sqrTo(o,y):(C=o,o=y,y=C),u.mulTo(y,l[m],o)}for(;x>=0&&(e[x]&1<<n)==0;)u.sqrTo(o,y),C=o,o=y,y=C,--n<0&&(n=this.DB-1,--x)}return u.revert(o)}function bnGCD$1(e){var r=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(r.compareTo(n)<0){var a=r;r=n,n=a}var o=r.getLowestSetBit(),u=n.getLowestSetBit();if(u<0)return r;for(o<u&&(u=o),u>0&&(r.rShiftTo(u,r),n.rShiftTo(u,n));r.signum()>0;)(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n));return u>0&&n.lShiftTo(u,n),n}function bnpModInt$1(e){if(e<=0)return 0;var r=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(r==0)n=this[0]%e;else for(var a=this.t-1;a>=0;--a)n=(r*n+this[a])%e;return n}function bnModInverse$1(e){var r=e.isEven();if(this.isEven()&&r||e.signum()==0)return BigInteger$5.ZERO;for(var n=e.clone(),a=this.clone(),o=nbv$1(1),u=nbv$1(0),l=nbv$1(0),c=nbv$1(1);n.signum()!=0;){for(;n.isEven();)n.rShiftTo(1,n),r?((!o.isEven()||!u.isEven())&&(o.addTo(this,o),u.subTo(e,u)),o.rShiftTo(1,o)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);for(;a.isEven();)a.rShiftTo(1,a),r?((!l.isEven()||!c.isEven())&&(l.addTo(this,l),c.subTo(e,c)),l.rShiftTo(1,l)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(a)>=0?(n.subTo(a,n),r&&o.subTo(l,o),u.subTo(c,u)):(a.subTo(n,a),r&&l.subTo(o,l),c.subTo(u,c))}if(a.compareTo(BigInteger$5.ONE)!=0)return BigInteger$5.ZERO;if(c.compareTo(e)>=0)return c.subtract(e);if(c.signum()<0)c.addTo(e,c);else return c;return c.signum()<0?c.add(e):c}var lowprimes$1=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim$1=(1<<26)/lowprimes$1[lowprimes$1.length-1];function bnIsProbablePrime$1(e){var r,n=this.abs();if(n.t==1&&n[0]<=lowprimes$1[lowprimes$1.length-1]){for(r=0;r<lowprimes$1.length;++r)if(n[0]==lowprimes$1[r])return!0;return!1}if(n.isEven())return!1;for(r=1;r<lowprimes$1.length;){for(var a=lowprimes$1[r],o=r+1;o<lowprimes$1.length&&a<lplim$1;)a*=lowprimes$1[o++];for(a=n.modInt(a);r<o;)if(a%lowprimes$1[r++]==0)return!1}return n.millerRabin(e)}function bnpMillerRabin$1(e){var r=this.subtract(BigInteger$5.ONE),n=r.getLowestSetBit();if(n<=0)return!1;var a=r.shiftRight(n);e=e+1>>1,e>lowprimes$1.length&&(e=lowprimes$1.length);for(var o=nbi$1(),u=0;u<e;++u){o.fromInt(lowprimes$1[Math.floor(Math.random()*lowprimes$1.length)]);var l=o.modPow(a,this);if(l.compareTo(BigInteger$5.ONE)!=0&&l.compareTo(r)!=0){for(var c=1;c++<n&&l.compareTo(r)!=0;)if(l=l.modPowInt(2,this),l.compareTo(BigInteger$5.ONE)==0)return!1;if(l.compareTo(r)!=0)return!1}}return!0}BigInteger$5.prototype.chunkSize=bnpChunkSize$1;BigInteger$5.prototype.toRadix=bnpToRadix$1;BigInteger$5.prototype.fromRadix=bnpFromRadix$1;BigInteger$5.prototype.fromNumber=bnpFromNumber$1;BigInteger$5.prototype.bitwiseTo=bnpBitwiseTo$1;BigInteger$5.prototype.changeBit=bnpChangeBit$1;BigInteger$5.prototype.addTo=bnpAddTo$1;BigInteger$5.prototype.dMultiply=bnpDMultiply$1;BigInteger$5.prototype.dAddOffset=bnpDAddOffset$1;BigInteger$5.prototype.multiplyLowerTo=bnpMultiplyLowerTo$1;BigInteger$5.prototype.multiplyUpperTo=bnpMultiplyUpperTo$1;BigInteger$5.prototype.modInt=bnpModInt$1;BigInteger$5.prototype.millerRabin=bnpMillerRabin$1;BigInteger$5.prototype.clone=bnClone$1;BigInteger$5.prototype.intValue=bnIntValue$1;BigInteger$5.prototype.byteValue=bnByteValue$1;BigInteger$5.prototype.shortValue=bnShortValue$1;BigInteger$5.prototype.signum=bnSigNum$1;BigInteger$5.prototype.toByteArray=bnToByteArray$1;BigInteger$5.prototype.equals=bnEquals$1;BigInteger$5.prototype.min=bnMin$1;BigInteger$5.prototype.max=bnMax$1;BigInteger$5.prototype.and=bnAnd$1;BigInteger$5.prototype.or=bnOr$1;BigInteger$5.prototype.xor=bnXor$1;BigInteger$5.prototype.andNot=bnAndNot$1;BigInteger$5.prototype.not=bnNot$1;BigInteger$5.prototype.shiftLeft=bnShiftLeft$1;BigInteger$5.prototype.shiftRight=bnShiftRight$1;BigInteger$5.prototype.getLowestSetBit=bnGetLowestSetBit$1;BigInteger$5.prototype.bitCount=bnBitCount$1;BigInteger$5.prototype.testBit=bnTestBit$1;BigInteger$5.prototype.setBit=bnSetBit$1;BigInteger$5.prototype.clearBit=bnClearBit$1;BigInteger$5.prototype.flipBit=bnFlipBit$1;BigInteger$5.prototype.add=bnAdd$1;BigInteger$5.prototype.subtract=bnSubtract$1;BigInteger$5.prototype.multiply=bnMultiply$1;BigInteger$5.prototype.divide=bnDivide$1;BigInteger$5.prototype.remainder=bnRemainder$1;BigInteger$5.prototype.divideAndRemainder=bnDivideAndRemainder$1;BigInteger$5.prototype.modPow=bnModPow$1;BigInteger$5.prototype.modInverse=bnModInverse$1;BigInteger$5.prototype.pow=bnPow$1;BigInteger$5.prototype.gcd=bnGCD$1;BigInteger$5.prototype.isProbablePrime=bnIsProbablePrime$1;BigInteger$5.prototype.square=bnSquare;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(e){var r,n,a;for(r=0;r<256;++r)this.S[r]=r;for(n=0,r=0;r<256;++r)n=n+this.S[r]+e[r%e.length]&255,a=this.S[r],this.S[r]=this.S[n],this.S[n]=a;this.i=0,this.j=0}function ARC4next(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}Arcfour.prototype.init=ARC4init;Arcfour.prototype.next=ARC4next;function prng_newstate(){return new Arcfour}var rng_psize=256;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var rng_state,rng_pool,rng_pptr;function rng_seed_int(e){rng_pool[rng_pptr++]^=e&255,rng_pool[rng_pptr++]^=e>>8&255,rng_pool[rng_pptr++]^=e>>16&255,rng_pool[rng_pptr++]^=e>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int(new Date().getTime())}if(rng_pool==null){rng_pool=new Array,rng_pptr=0;var t;if(window$1!==void 0&&(window$1.crypto!==void 0||window$1.msCrypto!==void 0)){var crypto$1=window$1.crypto||window$1.msCrypto;if(crypto$1.getRandomValues){var ua=new Uint8Array(32);for(crypto$1.getRandomValues(ua),t=0;t<32;++t)rng_pool[rng_pptr++]=ua[t]}else if(navigator$1.appName=="Netscape"&&navigator$1.appVersion<"5"){var z=window$1.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=z.charCodeAt(t)&255}}for(;rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=t&255;rng_pptr=0,rng_seed_time()}function rng_get_byte(){if(rng_state==null){for(rng_seed_time(),rng_state=prng_newstate(),rng_state.init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(e){var r;for(r=0;r<e.length;++r)e[r]=rng_get_byte()}function SecureRandom(){}SecureRandom.prototype.nextBytes=rng_get_bytes;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function parseBigInt(e,r){return new BigInteger$5(e,r)}function pkcs1pad2(e,r){if(r<e.length+11)throw"Message too long for RSA";for(var n=new Array,a=e.length-1;a>=0&&r>0;){var o=e.charCodeAt(a--);o<128?n[--r]=o:o>127&&o<2048?(n[--r]=o&63|128,n[--r]=o>>6|192):(n[--r]=o&63|128,n[--r]=o>>6&63|128,n[--r]=o>>12|224)}n[--r]=0;for(var u=new SecureRandom,l=new Array;r>2;){for(l[0]=0;l[0]==0;)u.nextBytes(l);n[--r]=l[0]}return n[--r]=2,n[--r]=0,new BigInteger$5(n)}function oaep_mgf1_arr(e,r,n){for(var a="",o=0;a.length<r;)a+=n(String.fromCharCode.apply(String,e.concat([(o&4278190080)>>24,(o&16711680)>>16,(o&65280)>>8,o&255]))),o+=1;return a}function oaep_pad(e,r,n,a){var o=KJUR.crypto.MessageDigest,u=KJUR.crypto.Util,l=null;if(n||(n="sha1"),typeof n=="string"&&(l=o.getCanonicalAlgName(n),a=o.getHashLength(l),n=function(C){return hextorstr(u.hashHex(rstrtohex(C),l))}),e.length+2*a+2>r)throw"Message too long for RSA";var c="",g;for(g=0;g<r-e.length-2*a-2;g+=1)c+="\0";var d=n("")+c+""+e,v=new Array(a);new SecureRandom().nextBytes(v);var x=oaep_mgf1_arr(v,d.length,n),m=[];for(g=0;g<d.length;g+=1)m[g]=d.charCodeAt(g)^x.charCodeAt(g);var E=oaep_mgf1_arr(m,v.length,n),y=[0];for(g=0;g<v.length;g+=1)y[g+1]=v[g]^E.charCodeAt(g);return new BigInteger$5(y.concat(m))}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function RSASetPublic(e,r){if(this.isPublic=!0,this.isPrivate=!1,typeof e!="string")this.n=e,this.e=r;else if(e!=null&&r!=null&&e.length>0&&r.length>0)this.n=parseBigInt(e,16),this.e=parseInt(r,16);else throw"Invalid RSA public key"}function RSADoPublic(e){return e.modPowInt(this.e,this.n)}function RSAEncrypt(e){var r=pkcs1pad2(e,this.n.bitLength()+7>>3);if(r==null)return null;var n=this.doPublic(r);if(n==null)return null;var a=n.toString(16);return(a.length&1)==0?a:"0"+a}function RSAEncryptOAEP(e,r,n){var a=this.n.bitLength()+7>>3,o=oaep_pad(e,a,r,n);if(o==null)return null;var u=this.doPublic(o);if(u==null)return null;for(var l=u.toString(16);l.length<a*2;)l="0"+l;return l}RSAKey.prototype.doPublic=RSADoPublic;RSAKey.prototype.setPublic=RSASetPublic;RSAKey.prototype.encrypt=RSAEncrypt;RSAKey.prototype.encryptOAEP=RSAEncryptOAEP;RSAKey.prototype.type="RSA";/*! (c) Tom Wu, Kenji Urushima | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function pkcs1unpad2(e,r){for(var n=e.toByteArray(),a=0;a<n.length&&n[a]==0;)++a;if(n.length-a!=r-1||n[a]!=2)return null;for(++a;n[a]!=0;)if(++a>=n.length)return null;for(var o="";++a<n.length;){var u=n[a]&255;u<128?o+=String.fromCharCode(u):u>191&&u<224?(o+=String.fromCharCode((u&31)<<6|n[a+1]&63),++a):(o+=String.fromCharCode((u&15)<<12|(n[a+1]&63)<<6|n[a+2]&63),a+=2)}return o}function oaep_mgf1_str(e,r,n){for(var a="",o=0;a.length<r;)a+=n(e+String.fromCharCode.apply(String,[(o&4278190080)>>24,(o&16711680)>>16,(o&65280)>>8,o&255])),o+=1;return a}function oaep_unpad(e,r,n,a){var o=KJUR.crypto.MessageDigest,u=KJUR.crypto.Util,l=null;n||(n="sha1"),typeof n=="string"&&(l=o.getCanonicalAlgName(n),a=o.getHashLength(l),n=function(b){return hextorstr(u.hashHex(rstrtohex(b),l))}),e=e.toByteArray();var x;for(x=0;x<e.length;x+=1)e[x]&=255;for(;e.length<r;)e.unshift(0);if(e=String.fromCharCode.apply(String,e),e.length<2*a+2)throw"Cipher too short";var c=e.substr(1,a),g=e.substr(a+1),d=oaep_mgf1_str(g,a,n),v=[],x;for(x=0;x<c.length;x+=1)v[x]=c.charCodeAt(x)^d.charCodeAt(x);var m=oaep_mgf1_str(String.fromCharCode.apply(String,v),e.length-a,n),E=[];for(x=0;x<g.length;x+=1)E[x]=g.charCodeAt(x)^m.charCodeAt(x);if(E=String.fromCharCode.apply(String,E),E.substr(0,a)!==n(""))throw"Hash mismatch";E=E.substr(a);var y=E.indexOf(""),C=y!=-1?E.substr(0,y).lastIndexOf("\0"):-1;if(C+1!=y)throw"Malformed data";return E.substr(y+1)}function RSASetPrivate(e,r,n){if(this.isPrivate=!0,typeof e!="string")this.n=e,this.e=r,this.d=n;else if(e!=null&&r!=null&&e.length>0&&r.length>0)this.n=parseBigInt(e,16),this.e=parseInt(r,16),this.d=parseBigInt(n,16);else throw"Invalid RSA private key"}function RSASetPrivateEx(e,r,n,a,o,u,l,c){if(this.isPrivate=!0,this.isPublic=!1,e==null)throw"RSASetPrivateEx N == null";if(r==null)throw"RSASetPrivateEx E == null";if(e.length==0)throw"RSASetPrivateEx N.length == 0";if(r.length==0)throw"RSASetPrivateEx E.length == 0";if(e!=null&&r!=null&&e.length>0&&r.length>0)this.n=parseBigInt(e,16),this.e=parseInt(r,16),this.d=parseBigInt(n,16),this.p=parseBigInt(a,16),this.q=parseBigInt(o,16),this.dmp1=parseBigInt(u,16),this.dmq1=parseBigInt(l,16),this.coeff=parseBigInt(c,16);else throw"Invalid RSA private key in RSASetPrivateEx"}function RSAGenerate(e,r){var n=new SecureRandom,a=e>>1;this.e=parseInt(r,16);for(var o=new BigInteger$5(r,16),u=e/2-100,l=BigInteger$5.ONE.shiftLeft(u);;){for(;this.p=new BigInteger$5(e-a,1,n),!(this.p.subtract(BigInteger$5.ONE).gcd(o).compareTo(BigInteger$5.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new BigInteger$5(a,1,n),!(this.q.subtract(BigInteger$5.ONE).gcd(o).compareTo(BigInteger$5.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var c=this.p;this.p=this.q,this.q=c}var g=this.q.subtract(this.p).abs();if(!(g.bitLength()<u||g.compareTo(l)<=0)){var d=this.p.subtract(BigInteger$5.ONE),v=this.q.subtract(BigInteger$5.ONE),x=d.multiply(v);if(x.gcd(o).compareTo(BigInteger$5.ONE)==0&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=o.modInverse(x),this.dmp1=this.d.mod(d),this.dmq1=this.d.mod(v),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0}function RSADoPrivate(e){if(this.p==null||this.q==null)return e.modPow(this.d,this.n);for(var r=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);r.compareTo(n)<0;)r=r.add(this.p);return r.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function RSADecrypt(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var r=parseBigInt(e,16),n=this.doPrivate(r);return n==null?null:pkcs1unpad2(n,this.n.bitLength()+7>>3)}function RSADecryptOAEP(e,r,n){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var a=parseBigInt(e,16),o=this.doPrivate(a);return o==null?null:oaep_unpad(o,this.n.bitLength()+7>>3,r,n)}RSAKey.prototype.doPrivate=RSADoPrivate;RSAKey.prototype.setPrivate=RSASetPrivate;RSAKey.prototype.setPrivateEx=RSASetPrivateEx;RSAKey.prototype.generate=RSAGenerate;RSAKey.prototype.decrypt=RSADecrypt;RSAKey.prototype.decryptOAEP=RSADecryptOAEP;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function ECFieldElementFp(e,r){this.x=r,this.q=e}function feFpEquals(e){return e==this?!0:this.q.equals(e.q)&&this.x.equals(e.x)}function feFpToBigInteger(){return this.x}function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))}function feFpAdd(e){return new ECFieldElementFp(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function feFpSubtract(e){return new ECFieldElementFp(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function feFpMultiply(e){return new ECFieldElementFp(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))}function feFpDivide(e){return new ECFieldElementFp(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}ECFieldElementFp.prototype.equals=feFpEquals;ECFieldElementFp.prototype.toBigInteger=feFpToBigInteger;ECFieldElementFp.prototype.negate=feFpNegate;ECFieldElementFp.prototype.add=feFpAdd;ECFieldElementFp.prototype.subtract=feFpSubtract;ECFieldElementFp.prototype.multiply=feFpMultiply;ECFieldElementFp.prototype.square=feFpSquare;ECFieldElementFp.prototype.divide=feFpDivide;ECFieldElementFp.prototype.sqrt=function(){return new ECFieldElementFp(this.q,this.x.sqrt().mod(this.q))};function ECPointFp(e,r,n,a){this.curve=e,this.x=r,this.y=n,a==null?this.z=BigInteger$5.ONE:this.z=a,this.zinv=null}function pointFpGetX(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpGetY(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpEquals(e){if(e==this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var r,n;return r=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r.equals(BigInteger$5.ZERO)?(n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q),n.equals(BigInteger$5.ZERO)):!1}function pointFpIsInfinity(){return this.x==null&&this.y==null?!0:this.z.equals(BigInteger$5.ZERO)&&!this.y.toBigInteger().equals(BigInteger$5.ZERO)}function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)}function pointFpAdd(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(BigInteger$5.ZERO.equals(n))return BigInteger$5.ZERO.equals(r)?this.twice():this.curve.getInfinity();var a=new BigInteger$5("3"),o=this.x.toBigInteger(),u=this.y.toBigInteger();e.x.toBigInteger(),e.y.toBigInteger();var l=n.square(),c=l.multiply(n),g=o.multiply(l),d=r.square().multiply(this.z),v=d.subtract(g.shiftLeft(1)).multiply(e.z).subtract(c).multiply(n).mod(this.curve.q),x=g.multiply(a).multiply(r).subtract(u.multiply(c)).subtract(d.multiply(r)).multiply(e.z).add(r.multiply(c)).mod(this.curve.q),m=c.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(v),this.curve.fromBigInteger(x),m)}function pointFpTwice(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var e=new BigInteger$5("3"),r=this.x.toBigInteger(),n=this.y.toBigInteger(),a=n.multiply(this.z),o=a.multiply(n).mod(this.curve.q),u=this.curve.a.toBigInteger(),l=r.square().multiply(e);BigInteger$5.ZERO.equals(u)||(l=l.add(this.z.square().multiply(u))),l=l.mod(this.curve.q);var c=l.square().subtract(r.shiftLeft(3).multiply(o)).shiftLeft(1).multiply(a).mod(this.curve.q),g=l.multiply(e).multiply(r).subtract(o.shiftLeft(1)).shiftLeft(2).multiply(o).subtract(l.square().multiply(l)).mod(this.curve.q),d=a.square().multiply(a).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(g),d)}function pointFpMultiply(e){if(this.isInfinity())return this;if(e.signum()==0)return this.curve.getInfinity();var r=e,n=r.multiply(new BigInteger$5("3")),a=this.negate(),o=this,u=this.curve.q.subtract(e),l=u.multiply(new BigInteger$5("3")),c=new ECPointFp(this.curve,this.x,this.y),g=c.negate(),d;for(d=n.bitLength()-2;d>0;--d){o=o.twice();var v=n.testBit(d),x=r.testBit(d);v!=x&&(o=o.add(v?this:a))}for(d=l.bitLength()-2;d>0;--d){c=c.twice();var m=l.testBit(d),E=u.testBit(d);m!=E&&(c=c.add(m?c:g))}return o}function pointFpMultiplyTwo(e,r,n){var a;e.bitLength()>n.bitLength()?a=e.bitLength()-1:a=n.bitLength()-1;for(var o=this.curve.getInfinity(),u=this.add(r);a>=0;)o=o.twice(),e.testBit(a)?n.testBit(a)?o=o.add(u):o=o.add(this):n.testBit(a)&&(o=o.add(r)),--a;return o}ECPointFp.prototype.getX=pointFpGetX;ECPointFp.prototype.getY=pointFpGetY;ECPointFp.prototype.equals=pointFpEquals;ECPointFp.prototype.isInfinity=pointFpIsInfinity;ECPointFp.prototype.negate=pointFpNegate;ECPointFp.prototype.add=pointFpAdd;ECPointFp.prototype.twice=pointFpTwice;ECPointFp.prototype.multiply=pointFpMultiply;ECPointFp.prototype.multiplyTwo=pointFpMultiplyTwo;function ECCurveFp(e,r,n){this.q=e,this.a=this.fromBigInteger(r),this.b=this.fromBigInteger(n),this.infinity=new ECPointFp(this,null,null)}function curveFpGetQ(){return this.q}function curveFpGetA(){return this.a}function curveFpGetB(){return this.b}function curveFpEquals(e){return e==this?!0:this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function curveFpGetInfinity(){return this.infinity}function curveFpFromBigInteger(e){return new ECFieldElementFp(this.q,e)}function curveFpDecodePointHex(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var r=e.substr(0,2);e.substr(2);var n=this.fromBigInteger(new BigInteger$5(g,16)),a=this.getA(),o=this.getB(),u=n.square().add(a).multiply(n).add(o),l=u.sqrt();return r=="03"&&(l=l.negate()),new ECPointFp(this,n,l);case 4:case 6:case 7:var c=(e.length-2)/2,g=e.substr(2,c),d=e.substr(c+2,c);return new ECPointFp(this,this.fromBigInteger(new BigInteger$5(g,16)),this.fromBigInteger(new BigInteger$5(d,16)));default:return null}}ECCurveFp.prototype.getQ=curveFpGetQ;ECCurveFp.prototype.getA=curveFpGetA;ECCurveFp.prototype.getB=curveFpGetB;ECCurveFp.prototype.equals=curveFpEquals;ECCurveFp.prototype.getInfinity=curveFpGetInfinity;ECCurveFp.prototype.fromBigInteger=curveFpFromBigInteger;ECCurveFp.prototype.decodePointHex=curveFpDecodePointHex;/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */ECFieldElementFp.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};ECPointFp.prototype.getEncoded=function(e){var r=function(u,l){var c=u.toByteArrayUnsigned();if(l<c.length)c=c.slice(c.length-l);else for(;l>c.length;)c.unshift(0);return c},n=this.getX().toBigInteger(),a=this.getY().toBigInteger(),o=r(n,32);return e?a.isEven()?o.unshift(2):o.unshift(3):(o.unshift(4),o=o.concat(r(a,32))),o};ECPointFp.decodeFrom=function(e,r){r[0];var n=r.length-1,a=r.slice(1,1+n/2),o=r.slice(1+n/2,1+n);a.unshift(0),o.unshift(0);var u=new BigInteger$5(a),l=new BigInteger$5(o);return new ECPointFp(e,e.fromBigInteger(u),e.fromBigInteger(l))};ECPointFp.decodeFromHex=function(e,r){r.substr(0,2);var n=r.length-2,a=r.substr(2,n/2),o=r.substr(2+n/2,n/2),u=new BigInteger$5(a,16),l=new BigInteger$5(o,16);return new ECPointFp(e,e.fromBigInteger(u),e.fromBigInteger(l))};ECPointFp.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var r=e.x.subtract(this.x),n=e.y.subtract(this.y),a=n.divide(r),o=a.square().subtract(this.x).subtract(e.x),u=a.multiply(this.x.subtract(o)).subtract(this.y);return new ECPointFp(this.curve,o,u)};ECPointFp.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var e=this.curve.fromBigInteger(BigInteger$5.valueOf(2)),r=this.curve.fromBigInteger(BigInteger$5.valueOf(3)),n=this.x.square().multiply(r).add(this.curve.a).divide(this.y.multiply(e)),a=n.square().subtract(this.x.multiply(e)),o=n.multiply(this.x.subtract(a)).subtract(this.y);return new ECPointFp(this.curve,a,o)};ECPointFp.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(e.signum()==0)return this.curve.getInfinity();var r=e,n=r.multiply(new BigInteger$5("3")),a=this.negate(),o=this,u;for(u=n.bitLength()-2;u>0;--u){o=o.twice();var l=n.testBit(u),c=r.testBit(u);l!=c&&(o=o.add2D(l?this:a))}return o};ECPointFp.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),r=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),a=this.curve.getB().toBigInteger(),o=this.curve.getQ(),u=r.multiply(r).mod(o),l=e.multiply(e).multiply(e).add(n.multiply(e)).add(a).mod(o);return u.equals(l)};ECPointFp.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};ECPointFp.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var r=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(r.compareTo(BigInteger$5.ONE)<0||r.compareTo(e.subtract(BigInteger$5.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(BigInteger$5.ONE)<0||n.compareTo(e.subtract(BigInteger$5.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var jsonParse=function(){var e="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)",r='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))',n='(?:"'+r+'*")',a=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+e+"|"+n+")","g"),o=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),u={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function l(v,x,m){return x?u[x]:String.fromCharCode(parseInt(m,16))}var c=new String(""),g="\\",d=Object.hasOwnProperty;return function(v,x){var m=v.match(a),E,y=m[0],C=!1;y==="{"?E={}:y==="["?E=[]:(E=[],C=!0);for(var b,$=[E],B=1-C,w=m.length;B<w;++B){y=m[B];var F;switch(y.charCodeAt(0)){default:F=$[0],F[b||F.length]=+y,b=void 0;break;case 34:if(y=y.substring(1,y.length-1),y.indexOf(g)!==-1&&(y=y.replace(o,l)),F=$[0],!b)if(F instanceof Array)b=F.length;else{b=y||c;break}F[b]=y,b=void 0;break;case 91:F=$[0],$.unshift(F[b||F.length]=[]),b=void 0;break;case 93:$.shift();break;case 102:F=$[0],F[b||F.length]=!1,b=void 0;break;case 110:F=$[0],F[b||F.length]=null,b=void 0;break;case 116:F=$[0],F[b||F.length]=!0,b=void 0;break;case 123:F=$[0],$.unshift(F[b||F.length]={}),b=void 0;break;case 125:$.shift();break}}if(C){if($.length!==1)throw new Error;E=E[0]}else if($.length)throw new Error;if(x){var U=function(_,T){var k=_[T];if(k&&typeof k=="object"){var N=null;for(var K in k)if(d.call(k,K)&&k!==_){var O=U(k,K);O!==void 0?k[K]=O:(N||(N=[]),N.push(K))}if(N)for(var V=N.length;--V>=0;)delete k[N[V]]}return x.call(_,T,k)};E=U({"":E},"")}return E}}();(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.asn1=="undefined"||!KJUR.asn1)&&(KJUR.asn1={});KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var r=e.toString(16);return r.length%2==1&&(r="0"+r),r},this.bigIntToMinTwosComplementsHex=function(e){return twoscompl(e)},this.getPEMStringFromHex=function(e,r){return hextopem(e,r)},this.newObject=function(e){var r=KJUR,n=r.asn1,a=n.ASN1Object,o=n.DERBoolean,u=n.DERInteger,l=n.DERBitString,c=n.DEROctetString,g=n.DERNull,d=n.DERObjectIdentifier,v=n.DEREnumerated,x=n.DERUTF8String,m=n.DERNumericString,E=n.DERPrintableString,y=n.DERTeletexString,C=n.DERIA5String,b=n.DERUTCTime,$=n.DERGeneralizedTime,B=n.DERVisibleString,w=n.DERBMPString,F=n.DERSequence,U=n.DERSet,_=n.DERTaggedObject,T=n.ASN1Util.newObject;if(e instanceof n.ASN1Object)return e;var k=Object.keys(e);if(k.length!=1)throw new Error("key of param shall be only one.");var N=k[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+N+":")==-1)throw new Error("undefined key: "+N);if(N=="bool")return new o(e[N]);if(N=="int")return new u(e[N]);if(N=="bitstr")return new l(e[N]);if(N=="octstr")return new c(e[N]);if(N=="null")return new g(e[N]);if(N=="oid")return new d(e[N]);if(N=="enum")return new v(e[N]);if(N=="utf8str")return new x(e[N]);if(N=="numstr")return new m(e[N]);if(N=="prnstr")return new E(e[N]);if(N=="telstr")return new y(e[N]);if(N=="ia5str")return new C(e[N]);if(N=="utctime")return new b(e[N]);if(N=="gentime")return new $(e[N]);if(N=="visstr")return new B(e[N]);if(N=="bmpstr")return new w(e[N]);if(N=="asn1")return new a(e[N]);if(N=="seq"){for(var K=e[N],O=[],V=0;V<K.length;V++){var J=T(K[V]);O.push(J)}return new F({array:O})}if(N=="set"){for(var K=e[N],O=[],V=0;V<K.length;V++){var J=T(K[V]);O.push(J)}return new U({array:O})}if(N=="tag"){var H=e[N];if(Object.prototype.toString.call(H)==="[object Array]"&&H.length==3){var G=T(H[2]);return new _({tag:H[0],explicit:H[1],obj:G})}else return new _(H)}},this.jsonToASN1HEX=function(e){var r=this.newObject(e);return r.tohex()}};KJUR.asn1.ASN1Util.oidHexToInt=function(e){for(var o="",r=parseInt(e.substr(0,2),16),n=Math.floor(r/40),a=r%40,o=n+"."+a,u="",l=2;l<e.length;l+=2){var c=parseInt(e.substr(l,2),16),g=("00000000"+c.toString(2)).slice(-8);if(u=u+g.substr(1,7),g.substr(0,1)=="0"){var d=new BigInteger$5(u,2);o=o+"."+d.toString(10),u=""}}return o};KJUR.asn1.ASN1Util.oidIntToHex=function(e){var r=function(c){var g=c.toString(16);return g.length==1&&(g="0"+g),g},n=function(c){var g="",d=new BigInteger$5(c,10),v=d.toString(2),x=7-v.length%7;x==7&&(x=0);for(var m="",E=0;E<x;E++)m+="0";v=m+v;for(var E=0;E<v.length-1;E+=7){var y=v.substr(E,7);E!=v.length-7&&(y="1"+y),g+=r(parseInt(y,2))}return g};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var a="",o=e.split("."),u=parseInt(o[0])*40+parseInt(o[1]);a+=r(u),o.splice(0,2);for(var l=0;l<o.length;l++)a+=n(o[l]);return a};KJUR.asn1.ASN1Object=function(e){var r="";this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV=="undefined"||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+r.length+",v="+this.hV);var n=this.hV.length/2,a=n.toString(16);if(a.length%2==1&&(a="0"+a),n<128)return a;var o=a.length/2;if(o>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+n.toString(16));var u=128+o;return u.toString(16)+a},this.tohex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(n){this.params=n},e!=null&&e.tlv!=null&&(this.hTLV=e.tlv,this.isModified=!1)};KJUR.asn1.DERAbstractString=function(e){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(r){this.hTLV=null,this.isModified=!0,this.s=r,this.hV=utf8tohex(this.s).toLowerCase()},this.setStringHex=function(r){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.getFreshValueHex=function(){return this.hV},typeof e!="undefined"&&(typeof e=="string"?this.setString(e):typeof e.str!="undefined"?this.setString(e.str):typeof e.hex!="undefined"&&this.setStringHex(e.hex))};extendClass(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractTime=function(e){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(r){var n=r.getTime()+r.getTimezoneOffset()*6e4,a=new Date(n);return a},this.formatDate=function(r,n,a){var o=this.zeroPadding,u=this.localDateToUTC(r),l=String(u.getFullYear());n=="utc"&&(l=l.substr(2,2));var c=o(String(u.getMonth()+1),2),g=o(String(u.getDate()),2),d=o(String(u.getHours()),2),v=o(String(u.getMinutes()),2),x=o(String(u.getSeconds()),2),m=l+c+g+d+v+x;if(a===!0){var E=u.getMilliseconds();if(E!=0){var y=o(String(E),3);y=y.replace(/[0]+$/,""),m=m+"."+y}}return m+"Z"},this.zeroPadding=function(r,n){return r.length>=n?r:new Array(n-r.length+1).join("0")+r},this.setByParam=function(r){this.hV=null,this.hTLV=null,this.params=r},this.getString=function(){},this.setString=function(r){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.str=r},this.setByDate=function(r){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.date=r},this.setByDateValue=function(r,n,a,o,u,l){var c=new Date(Date.UTC(r,n-1,a,o,u,l,0));this.setByDate(c)},this.getFreshValueHex=function(){return this.hV}};extendClass(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractStructured=function(e){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(r){this.hTLV=null,this.isModified=!0,this.asn1Array=r},this.appendASN1Object=function(r){this.hTLV=null,this.isModified=!0,this.asn1Array.push(r)},this.asn1Array=new Array,typeof e!="undefined"&&typeof e.array!="undefined"&&(this.asn1Array=e.array)};extendClass(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object);KJUR.asn1.DERBoolean=function(e){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",e==!1?this.hTLV="010100":this.hTLV="0101ff"};extendClass(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object);KJUR.asn1.DERInteger=function(e){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var r=twoscompl;this.setByBigInteger=function(n){this.isModified=!0,this.params={bigint:n}},this.setByInteger=function(n){this.isModified=!0,this.params=n},this.setValueHex=function(n){this.isModified=!0,this.params={hex:n}},this.getFreshValueHex=function(){var n=this.params,a=null;if(n==null)throw new Error("value not set");if(typeof n=="object"&&n.hex!=null)return this.hV=n.hex,this.hV;if(typeof n=="number")a=new BigInteger$5(String(n),10);else if(n.int!=null)a=new BigInteger$5(String(n.int),10);else if(n.bigint!=null)a=n.bigint;else throw new Error("wrong parameter");return this.hV=r(a),this.hV},e!=null&&(this.params=e)};extendClass(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object);KJUR.asn1.DERBitString=function(e){if(e!==void 0&&typeof e.obj!="undefined"){var r=KJUR.asn1.ASN1Util.newObject(e.obj);e.hex="00"+r.tohex()}KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(n){this.hTLV=null,this.isModified=!0,this.hV=n},this.setUnusedBitsAndHexValue=function(n,a){if(n<0||7<n)throw"unused bits shall be from 0 to 7: u = "+n;var o="0"+n;this.hTLV=null,this.isModified=!0,this.hV=o+a},this.setByBinaryString=function(n){n=n.replace(/0+$/,"");var a=8-n.length%8;a==8&&(a=0),n+="0000000".substr(0,a);for(var o="",u=0;u<n.length-1;u+=8){var l=n.substr(u,8),c=parseInt(l,2).toString(16);c.length==1&&(c="0"+c),o+=c}this.hTLV=null,this.isModified=!0,this.hV="0"+a+o},this.setByBooleanArray=function(n){for(var a="",o=0;o<n.length;o++)n[o]==!0?a+="1":a+="0";this.setByBinaryString(a)},this.newFalseArray=function(n){for(var a=new Array(n),o=0;o<n;o++)a[o]=!1;return a},this.getFreshValueHex=function(){return this.hV},typeof e!="undefined"&&(typeof e=="string"&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):typeof e.hex!="undefined"?this.setHexValueIncludingUnusedBits(e.hex):typeof e.bin!="undefined"?this.setByBinaryString(e.bin):typeof e.array!="undefined"&&this.setByBooleanArray(e.array))};extendClass(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object);KJUR.asn1.DEROctetString=function(e){if(e!==void 0&&typeof e.obj!="undefined"){var r=KJUR.asn1.ASN1Util.newObject(e.obj);e.hex=r.tohex()}KJUR.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"};extendClass(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"};extendClass(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object);KJUR.asn1.DERObjectIdentifier=function(e){KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(r){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueOidString=function(r){var n=oidtohex(r);if(n==null)throw new Error("malformed oid string: "+r);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(r){var n=KJUR.asn1.x509.OID.name2oid(r);if(n!=="")this.setValueOidString(n);else throw new Error("DERObjectIdentifier oidName undefined: "+r)},this.setValueNameOrOid=function(r){r.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(r):this.setValueName(r)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(r){typeof r=="string"?this.setValueNameOrOid(r):r.oid!==void 0?this.setValueNameOrOid(r.oid):r.name!==void 0?this.setValueNameOrOid(r.name):r.hex!==void 0&&this.setValueHex(r.hex)},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.DEREnumerated=function(e){KJUR.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(r){this.hTLV=null,this.isModified=!0,this.hV=twoscompl(r)},this.setByInteger=function(r){var n=new BigInteger$5(String(r),10);this.setByBigInteger(n)},this.setValueHex=function(r){this.hV=r},this.getFreshValueHex=function(){return this.hV},typeof e!="undefined"&&(typeof e.int!="undefined"?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):typeof e.hex!="undefined"&&this.setValueHex(e.hex))};extendClass(KJUR.asn1.DEREnumerated,KJUR.asn1.ASN1Object);KJUR.asn1.DERUTF8String=function(e){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"};extendClass(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNumericString=function(e){KJUR.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"};extendClass(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERPrintableString=function(e){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"};extendClass(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERTeletexString=function(e){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"};extendClass(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERIA5String=function(e){KJUR.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"};extendClass(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERVisibleString=function(e){KJUR.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"};extendClass(KJUR.asn1.DERVisibleString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERBMPString=function(e){KJUR.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"};extendClass(KJUR.asn1.DERBMPString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERUTCTime=function(e){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var r=this.params;if(this.params==null&&(r={date:new Date}),typeof r=="string")if(r.match(/^[0-9]{12}Z$/)||r.match(/^[0-9]{12}\.[0-9]+Z$/))this.hV=stohex(r);else throw new Error("malformed string for UTCTime: "+r);else if(r.str!=null)this.hV=stohex(r.str);else if(r.date==null&&r.millis==!0){var n=new Date;this.hV=stohex(this.formatDate(n,"utc",!0))}else if(r.date!=null&&r.date instanceof Date){var a=r.millis===!0;this.hV=stohex(this.formatDate(r.date,"utc",a))}else r instanceof Date&&(this.hV=stohex(this.formatDate(r,"utc")));if(this.hV==null)throw new Error("parameter not specified properly for UTCTime");return this.hV},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERGeneralizedTime=function(e){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var r=this.params;if(this.params==null&&(r={date:new Date}),typeof r=="string")if(r.match(/^[0-9]{14}Z$/)||r.match(/^[0-9]{14}\.[0-9]+Z$/))this.hV=stohex(r);else throw new Error("malformed string for GeneralizedTime: "+r);else if(r.str!=null)this.hV=stohex(r.str);else if(r.date==null&&r.millis==!0){var n=new Date;this.hV=stohex(this.formatDate(n,"gen",!0))}else if(r.date!=null&&r.date instanceof Date){var a=r.millis===!0;this.hV=stohex(this.formatDate(r.date,"gen",a))}else r instanceof Date&&(this.hV=stohex(this.formatDate(r,"gen")));if(this.hV==null)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERSequence=function(e){KJUR.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var r="",n=0;n<this.asn1Array.length;n++){var a=this.asn1Array[n];r+=a.tohex()}return this.hV=r,this.hV}};extendClass(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERSet=function(e){KJUR.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var r=new Array,n=0;n<this.asn1Array.length;n++){var a=this.asn1Array[n];r.push(a.tohex())}return this.sortFlag==!0&&r.sort(),this.hV=r.join(""),this.hV},typeof e!="undefined"&&typeof e.sortflag!="undefined"&&e.sortflag==!1&&(this.sortFlag=!1)};extendClass(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERTaggedObject=function(e){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);var r=KJUR.asn1,n=ASN1HEX,a=n.getV;n.isASN1HEX;var o=r.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(u,l,c){this.params={tag:l,explicit:u,obj:c}},this.getFreshValueHex=function(){var u=this.params;if(u.explicit==null&&(u.explicit=!0),u.tage!=null&&(u.tag=u.tage,u.explicit=!0),u.tagi!=null&&(u.tag=u.tagi,u.explicit=!1),u.str!=null)this.hV=utf8tohex(u.str);else if(u.hex!=null)this.hV=u.hex;else if(u.obj!=null){var l;u.obj instanceof r.ASN1Object?l=u.obj.tohex():typeof u.obj=="object"&&(l=o(u.obj).tohex()),u.explicit?this.hV=l:this.hV=a(l,0)}else throw new Error("str, hex nor obj not specified");return u.tag==null&&(u.tag="a0"),this.hT=u.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(u){this.params=u},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object);var ASN1HEX=new function(){};ASN1HEX.getLblen=function(e,r){if(e.substr(r+2,1)!="8")return 1;var n=parseInt(e.substr(r+3,1));return n==0?-1:0<n&&n<10?n+1:-2};ASN1HEX.getL=function(e,r){var n=ASN1HEX.getLblen(e,r);return n<1?"":e.substr(r+2,n*2)};ASN1HEX.getVblen=function(e,r){var n,a;return n=ASN1HEX.getL(e,r),n==""?-1:(n.substr(0,1)==="8"?a=new BigInteger$5(n.substr(2),16):a=new BigInteger$5(n,16),a.intValue())};ASN1HEX.getVidx=function(e,r){var n=ASN1HEX.getLblen(e,r);return n<0?n:r+(n+1)*2};ASN1HEX.getV=function(e,r){var n=ASN1HEX.getVidx(e,r),a=ASN1HEX.getVblen(e,r);return e.substr(n,a*2)};ASN1HEX.getTLV=function(e,r){return e.substr(r,2)+ASN1HEX.getL(e,r)+ASN1HEX.getV(e,r)};ASN1HEX.getTLVblen=function(e,r){return 2+ASN1HEX.getLblen(e,r)*2+ASN1HEX.getVblen(e,r)*2};ASN1HEX.getNextSiblingIdx=function(e,r){var n=ASN1HEX.getVidx(e,r),a=ASN1HEX.getVblen(e,r);return n+a*2};ASN1HEX.getChildIdx=function(e,r){var n=ASN1HEX,a=[],o,u,l;o=n.getVidx(e,r),u=n.getVblen(e,r)*2,e.substr(r,2)=="03"&&(o+=2,u-=2),l=0;for(var c=o;l<=u;){var g=n.getTLVblen(e,c);if(l+=g,l<=u&&a.push(c),c+=g,l>=u)break}return a};ASN1HEX.getNthChildIdx=function(e,r,n){var a=ASN1HEX.getChildIdx(e,r);return a[n]};ASN1HEX.getIdxbyList=function(e,r,n,a){var o=ASN1HEX,u,l;return n.length==0?a!==void 0&&e.substr(r,2)!==a?-1:r:(u=n.shift(),l=o.getChildIdx(e,r),u>=l.length?-1:o.getIdxbyList(e,l[u],n,a))};ASN1HEX.getIdxbyListEx=function(e,r,n,a){var o=ASN1HEX,u,l;if(n.length==0)return a!==void 0&&e.substr(r,2)!==a?-1:r;u=n.shift(),l=o.getChildIdx(e,r);for(var c=0,g=0;g<l.length;g++){var d=e.substr(l[g],2);if(typeof u=="number"&&!o.isContextTag(d)&&c==u||typeof u=="string"&&o.isContextTag(d,u))return o.getIdxbyListEx(e,l[g],n,a);o.isContextTag(d)||c++}return-1};ASN1HEX.getTLVbyList=function(e,r,n,a){var o=ASN1HEX,u=o.getIdxbyList(e,r,n,a);return u==-1||u>=e.length?null:o.getTLV(e,u)};ASN1HEX.getTLVbyListEx=function(e,r,n,a){var o=ASN1HEX,u=o.getIdxbyListEx(e,r,n,a);return u==-1?null:o.getTLV(e,u)};ASN1HEX.getVbyList=function(e,r,n,a,o){var u=ASN1HEX,l,c;return l=u.getIdxbyList(e,r,n,a),l==-1||l>=e.length?null:(c=u.getV(e,l),o===!0&&(c=c.substr(2)),c)};ASN1HEX.getVbyListEx=function(e,r,n,a,o){var u=ASN1HEX,l,c;return l=u.getIdxbyListEx(e,r,n,a),l==-1?null:(c=u.getV(e,l),e.substr(l,2)=="03"&&o!==!1&&(c=c.substr(2)),c)};ASN1HEX.getInt=function(e,r,n){n==null&&(n=-1);try{var a=e.substr(r,2);if(a!="02"&&a!="03")return n;var o=ASN1HEX.getV(e,r);return a=="02"?parseInt(o,16):bitstrtoint(o)}catch{return n}};ASN1HEX.getOID=function(e,r,n){n==null&&(n=null);try{if(e.substr(r,2)!="06")return n;var a=ASN1HEX.getV(e,r);return hextooid(a)}catch{return n}};ASN1HEX.getOIDName=function(e,r,n){n==null&&(n=null);try{var a=ASN1HEX.getOID(e,r,n);if(a==n)return n;var o=KJUR.asn1.x509.OID.oid2name(a);return o==""?a:o}catch{return n}};ASN1HEX.getString=function(e,r,n){n==null&&(n=null);try{var a=ASN1HEX.getV(e,r);return hextorstr(a)}catch{return n}};ASN1HEX.hextooidstr=function(e){var r=function(x,m){return x.length>=m?x:new Array(m-x.length+1).join("0")+x},n=[],a=e.substr(0,2),o=parseInt(a,16);n[0]=new String(Math.floor(o/40)),n[1]=new String(o%40);for(var u=e.substr(2),l=[],c=0;c<u.length/2;c++)l.push(parseInt(u.substr(c*2,2),16));for(var g=[],d="",c=0;c<l.length;c++)l[c]&128?d=d+r((l[c]&127).toString(2),7):(d=d+r((l[c]&127).toString(2),7),g.push(new String(parseInt(d,2))),d="");var v=n.join(".");return g.length>0&&(v=v+"."+g.join(".")),v};ASN1HEX.dump=function(e,r,n,a){var o=ASN1HEX,u=o.getV,l=o.dump,c=o.getChildIdx,g=e;e instanceof KJUR.asn1.ASN1Object&&(g=e.tohex());var d=function(T,k){if(T.length<=k*2)return T;var N=T.substr(0,k)+"..(total "+T.length/2+"bytes).."+T.substr(T.length-k,k);return N};r===void 0&&(r={ommit_long_octet:32}),n===void 0&&(n=0),a===void 0&&(a="");var v=r.ommit_long_octet,U=g.substr(n,2);if(U=="01"){var x=u(g,n);return x=="00"?a+`BOOLEAN FALSE
`:a+`BOOLEAN TRUE
`}if(U=="02"){var x=u(g,n);return a+"INTEGER "+d(x,v)+`
`}if(U=="03"){var x=u(g,n);if(o.isASN1HEX(x.substr(2))){var m=a+`BITSTRING, encapsulates
`;return m=m+l(x.substr(2),r,0,a+"  "),m}else return a+"BITSTRING "+d(x,v)+`
`}if(U=="04"){var x=u(g,n);if(o.isASN1HEX(x)){var m=a+`OCTETSTRING, encapsulates
`;return m=m+l(x,r,0,a+"  "),m}else return a+"OCTETSTRING "+d(x,v)+`
`}if(U=="05")return a+`NULL
`;if(U=="06"){var E=u(g,n),y=KJUR.asn1.ASN1Util.oidHexToInt(E),C=KJUR.asn1.x509.OID.oid2name(y),b=y.replace(/\./g," ");return C!=""?a+"ObjectIdentifier "+C+" ("+b+`)
`:a+"ObjectIdentifier ("+b+`)
`}if(U=="0a")return a+"ENUMERATED "+parseInt(u(g,n))+`
`;if(U=="0c")return a+"UTF8String '"+hextoutf8(u(g,n))+`'
`;if(U=="13")return a+"PrintableString '"+hextoutf8(u(g,n))+`'
`;if(U=="14")return a+"TeletexString '"+hextoutf8(u(g,n))+`'
`;if(U=="16")return a+"IA5String '"+hextoutf8(u(g,n))+`'
`;if(U=="17")return a+"UTCTime "+hextoutf8(u(g,n))+`
`;if(U=="18")return a+"GeneralizedTime "+hextoutf8(u(g,n))+`
`;if(U=="1a")return a+"VisualString '"+hextoutf8(u(g,n))+`'
`;if(U=="1e")return a+"BMPString '"+ucs2hextoutf8(u(g,n))+`'
`;if(U=="30"){if(g.substr(n,4)=="3000")return a+`SEQUENCE {}
`;var m=a+`SEQUENCE
`,$=c(g,n),B=r;if(($.length==2||$.length==3)&&g.substr($[0],2)=="06"&&g.substr($[$.length-1],2)=="04"){var C=o.oidname(u(g,$[0])),w=JSON.parse(JSON.stringify(r));w.x509ExtName=C,B=w}for(var F=0;F<$.length;F++)m=m+l(g,B,$[F],a+"  ");return m}if(U=="31"){for(var m=a+`SET
`,$=c(g,n),F=0;F<$.length;F++)m=m+l(g,r,$[F],a+"  ");return m}var U=parseInt(U,16);if((U&128)!=0){var _=U&31;if((U&32)!=0){for(var m=a+"["+_+`]
`,$=c(g,n),F=0;F<$.length;F++)m=m+l(g,r,$[F],a+"  ");return m}else{var x=u(g,n);if(ASN1HEX.isASN1HEX(x)){var m=a+"["+_+`]
`;return m=m+l(x,r,0,a+"  "),m}else(x.substr(0,8)=="68747470"||r.x509ExtName==="subjectAltName"&&_==2)&&(x=hextoutf8(x));var m=a+"["+_+"] "+x+`
`;return m}}return a+"UNKNOWN("+U+") "+u(g,n)+`
`};ASN1HEX.parse=function(e){var r=ASN1HEX,n=r.parse,a=r.isASN1HEX,o=r.getV,u=r.getTLV,l=r.getChildIdx,c=KJUR.asn1,g=c.ASN1Util.oidHexToInt,d=c.x509.OID.oid2name,v=hextoutf8,x=ucs2hextoutf8,m=iso88591hextoutf8,E={"0c":"utf8str","12":"numstr","13":"prnstr","14":"telstr","16":"ia5str","17":"utctime","18":"gentime","1a":"visstr","1e":"bmpstr","30":"seq","31":"set"},y=function(N){for(var K=[],O=l(N,0),V=0;V<O.length;V++){var J=O[V],H=u(N,J),G=n(H);K.push(G)}return K},C=e.substr(0,2),b={},$=o(e,0);if(C=="01")return e=="0101ff"?{bool:!0}:{bool:!1};if(C=="02")return{int:{hex:$}};if(C=="03")try{if($.substr(0,2)!="00")throw"not encap";var B=$.substr(2);if(!a(B))throw"not encap";return{bitstr:{obj:n(B)}}}catch{var w=null;return $.length<=10&&(w=bitstrtobinstr($)),w==null?{bitstr:{hex:$}}:{bitstr:{bin:w}}}else if(C=="04")try{if(!a($))throw"not encap";return{octstr:{obj:n($)}}}catch{return{octstr:{hex:$}}}else{if(C=="05")return{null:""};if(C=="06"){var F=g($),U=d(F);return U==""?{oid:F}:{oid:U}}else{if(C=="0a")return $.length>4?{enum:{hex:$}}:{enum:parseInt($,16)};if(C=="30"||C=="31")return b[E[C]]=y(e),b;if(C=="14"){var _=m($);return b[E[C]]={str:_},b}else if(C=="1e"){var _=x($);return b[E[C]]={str:_},b}else if(":0c:12:13:16:17:18:1a:".indexOf(C)!=-1){var _=v($);return b[E[C]]={str:_},b}else if(C.match(/^8[0-9]$/)){var _=v($);return _==null|_==""?{tag:{tag:C,explicit:!1,hex:$}}:_.match(/[\x00-\x1F\x7F-\x9F]/)!=null||_.match(/[\u0000-\u001F\u0080–\u009F]/)!=null?{tag:{tag:C,explicit:!1,hex:$}}:{tag:{tag:C,explicit:!1,str:_}}}else if(C.match(/^a[0-9]$/))try{if(!a($))throw new Error("not encap");return{tag:{tag:C,explicit:!0,obj:n($)}}}catch{return{tag:{tag:C,explicit:!0,hex:$}}}else{var T=new KJUR.asn1.ASN1Object;T.hV=$;var k=T.getLengthHexFromValue();return{asn1:{tlv:C+k+$}}}}}};ASN1HEX.isContextTag=function(e,r){e=e.toLowerCase();var n,a;try{n=parseInt(e,16)}catch{return-1}if(r===void 0)return(n&192)==128;try{var o=r.match(/^\[[0-9]+\]$/);return o==null||(a=parseInt(r.substr(1,r.length-1),10),a>31)?!1:(n&192)==128&&(n&31)==a}catch{return!1}};ASN1HEX.isASN1HEX=function(e){var r=ASN1HEX;if(e.length%2==1)return!1;var n=r.getVblen(e,0),a=e.substr(0,2),o=r.getL(e,0),u=e.length-a.length-o.length;return u==n*2};ASN1HEX.checkStrictDER=function(e,r,n,a,o){var u=ASN1HEX;if(n===void 0){if(typeof e!="string")throw new Error("not hex string");if(e=e.toLowerCase(),!KJUR.lang.String.isHex(e))throw new Error("not hex string");n=e.length,a=e.length/2,a<128?o=1:o=Math.ceil(a.toString(16))+1}var l=u.getL(e,r);if(l.length>o*2)throw new Error("L of TLV too long: idx="+r);var c=u.getVblen(e,r);if(c>a)throw new Error("value of L too long than hex: idx="+r);var g=u.getTLV(e,r),d=g.length-2-u.getL(e,r).length;if(d!==c*2)throw new Error("V string length and L's value not the same:"+d+"/"+c*2);if(r===0&&e.length!=g.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+g.length);var v=e.substr(r,2);if(v==="02"){var x=u.getVidx(e,r);if(e.substr(x,2)=="00"&&e.charCodeAt(x+2)<56)throw new Error("not least zeros for DER INTEGER")}if(parseInt(v,16)&32){for(var m=u.getVblen(e,r),E=0,y=u.getChildIdx(e,r),C=0;C<y.length;C++){var b=u.getTLV(e,y[C]);E+=b.length,u.checkStrictDER(e,y[C],n,a,o)}if(m*2!=E)throw new Error("sum of children's TLV length and L unmatch: "+m*2+"!="+E)}};ASN1HEX.oidname=function(e){var r=KJUR.asn1;KJUR.lang.String.isHex(e)&&(e=r.ASN1Util.oidHexToInt(e));var n=r.x509.OID.oid2name(e);return n===""&&(n=e),n};(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.asn1=="undefined"||!KJUR.asn1)&&(KJUR.asn1={});(typeof KJUR.asn1.x509=="undefined"||!KJUR.asn1.x509)&&(KJUR.asn1.x509={});KJUR.asn1.x509.Certificate=function(e){KJUR.asn1.x509.Certificate.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERBitString,o=n.DERSequence,u=n.x509,l=u.TBSCertificate,c=u.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(g){this.params=g},this.sign=function(){var g=this.params,d=g.sigalg;g.sigalg.name!=null&&(d=g.sigalg.name);var v=g.tbsobj.tohex(),x=new KJUR.crypto.Signature({alg:d});x.init(g.cakey),x.updateHex(v),g.sighex=x.sign()},this.getPEM=function(){return hextopem(this.tohex(),"CERTIFICATE")},this.tohex=function(){var g=this.params;if((g.tbsobj==null||g.tbsobj==null)&&(g.tbsobj=new l(g)),g.sighex==null&&g.cakey!=null&&this.sign(),g.sighex==null)throw new Error("sighex or cakey parameter not defined");var d=[];d.push(g.tbsobj),d.push(new c({name:g.sigalg})),d.push(new a({hex:"00"+g.sighex}));var v=new o({array:d});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&(this.params=e)};extendClass(KJUR.asn1.x509.Certificate,KJUR.asn1.ASN1Object);KJUR.asn1.x509.TBSCertificate=function(e){KJUR.asn1.x509.TBSCertificate.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.x509,o=n.DERTaggedObject,u=n.DERInteger,l=n.DERSequence,c=a.AlgorithmIdentifier,g=a.Time,d=a.X500Name,v=a.Extensions,x=a.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(m){this.params=m},this.tohex=function(){var m=[],E=this.params;if(E.version!=null||E.version!=1){var y=2;E.version!=null&&(y=E.version-1);var C=new o({obj:new u({int:y})});m.push(C)}m.push(new u(E.serial)),m.push(new c({name:E.sigalg})),m.push(new d(E.issuer)),m.push(new l({array:[new g(E.notbefore),new g(E.notafter)]})),m.push(new d(E.subject)),m.push(new x(KEYUTIL.getKey(E.sbjpubkey))),E.ext!==void 0&&E.ext.length>0&&m.push(new o({tag:"a3",obj:new v(E.ext)}));var b=new KJUR.asn1.DERSequence({array:m});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.TBSCertificate,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Extensions=function(e){KJUR.asn1.x509.Extensions.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.x509;this.aParam=[],this.setByParam=function(u){this.aParam=u},this.tohex=function(){for(var u=[],l=0;l<this.aParam.length;l++){var c=this.aParam[l],g=c.extname,d=null;if(c.extn!=null)d=new o.PrivateExtension(c);else if(g=="subjectKeyIdentifier")d=new o.SubjectKeyIdentifier(c);else if(g=="keyUsage")d=new o.KeyUsage(c);else if(g=="subjectAltName")d=new o.SubjectAltName(c);else if(g=="issuerAltName")d=new o.IssuerAltName(c);else if(g=="basicConstraints")d=new o.BasicConstraints(c);else if(g=="nameConstraints")d=new o.NameConstraints(c);else if(g=="cRLDistributionPoints")d=new o.CRLDistributionPoints(c);else if(g=="certificatePolicies")d=new o.CertificatePolicies(c);else if(g=="policyMappings")d=new o.PolicyMappings(c);else if(g=="policyConstraints")d=new o.PolicyConstraints(c);else if(g=="inhibitAnyPolicy")d=new o.InhibitAnyPolicy(c);else if(g=="authorityKeyIdentifier")d=new o.AuthorityKeyIdentifier(c);else if(g=="extKeyUsage")d=new o.ExtKeyUsage(c);else if(g=="authorityInfoAccess")d=new o.AuthorityInfoAccess(c);else if(g=="cRLNumber")d=new o.CRLNumber(c);else if(g=="cRLReason")d=new o.CRLReason(c);else if(g=="ocspNonce")d=new o.OCSPNonce(c);else if(g=="ocspNoCheck")d=new o.OCSPNoCheck(c);else if(g=="adobeTimeStamp")d=new o.AdobeTimeStamp(c);else if(g=="subjectDirectoryAttributes")d=new o.SubjectDirectoryAttributes(c);else throw new Error("extension not supported:"+JSON.stringify(c));d!=null&&u.push(d)}var v=new a({array:u});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.x509.Extensions,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Extension=function(e){KJUR.asn1.x509.Extension.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERObjectIdentifier,o=n.DEROctetString;n.DERBitString;var u=n.DERBoolean,l=n.DERSequence;this.tohex=function(){var c=new a({oid:this.oid}),g=new o({hex:this.getExtnValueHex()}),d=new Array;d.push(c),this.critical&&d.push(new u),d.push(g);var v=new l({array:d});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,e!==void 0&&e.critical!==void 0&&(this.critical=e.critical)};extendClass(KJUR.asn1.x509.Extension,KJUR.asn1.ASN1Object);KJUR.asn1.x509.KeyUsage=function(e){KJUR.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var r=Error,n={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var a=this.getBinValue();return this.asn1ExtnValue=new KJUR.asn1.DERBitString({bin:a}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var a=this.params;if(typeof a!="object"||typeof a.names!="object"&&typeof a.bin!="string")throw new r("parameter not yet set");if(a.names!=null)return namearraytobinstr(a.names,n);if(a.bin!=null)return a.bin;throw new r("parameter not set properly")},this.oid="2.5.29.15",e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.KeyUsage,KJUR.asn1.x509.Extension);KJUR.asn1.x509.BasicConstraints=function(e){KJUR.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var r=KJUR.asn1,n=r.DERBoolean,a=r.DERInteger,o=r.DERSequence;this.getExtnValueHex=function(){var u=new Array;this.cA&&u.push(new n),this.pathLen>-1&&u.push(new a({int:this.pathLen}));var l=new o({array:u});return this.asn1ExtnValue=l,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,e!==void 0&&(e.cA!==void 0&&(this.cA=e.cA),e.pathLen!==void 0&&(this.pathLen=e.pathLen))};extendClass(KJUR.asn1.x509.BasicConstraints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.CRLDistributionPoints=function(e){KJUR.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1,a=n.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(o){for(var u=[],l=0;l<o.length;l++)if(o[l]instanceof KJUR.asn1.ASN1Object)u.push(o[l]);else{var c=new a.DistributionPoint(o[l]);u.push(c)}this.asn1ExtnValue=new n.DERSequence({array:u})},this.setByOneURI=function(o){var u=new a.DistributionPoint({fulluri:o});this.setByDPArray([u])},this.oid="2.5.29.31",e!==void 0&&(e.array!==void 0?this.setByDPArray(e.array):e.uri!==void 0&&this.setByOneURI(e.uri))};extendClass(KJUR.asn1.x509.CRLDistributionPoints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.DistributionPoint=function(e){KJUR.asn1.x509.DistributionPoint.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.x509.DistributionPointName;this.tohex=function(){var o=new n.DERSequence;if(this.asn1DP!=null){var u=new n.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});o.appendASN1Object(u)}return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.dpobj!==void 0?this.asn1DP=e.dpobj:e.dpname!==void 0?this.asn1DP=new a(e.dpname):e.fulluri!==void 0&&(this.asn1DP=new a({full:[{uri:e.fulluri}]})))};extendClass(KJUR.asn1.x509.DistributionPoint,KJUR.asn1.ASN1Object);KJUR.asn1.x509.DistributionPointName=function(e){KJUR.asn1.x509.DistributionPointName.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERTaggedObject;if(this.tohex=function(){if(this.type!="full")throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new a({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0)if(n.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else if(e.full!==void 0)this.type="full",this.tag="a0",this.asn1V=new n.x509.GeneralNames(e.full);else throw new Error("This class supports GeneralNames only as argument")};extendClass(KJUR.asn1.x509.DistributionPointName,KJUR.asn1.ASN1Object);KJUR.asn1.x509.CertificatePolicies=function(e){KJUR.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1,a=n.x509,o=n.DERSequence,u=a.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var l=[],c=0;c<this.params.array.length;c++)l.push(new u(this.params.array[c]));var g=new o({array:l});return this.asn1ExtnValue=g,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.CertificatePolicies,KJUR.asn1.x509.Extension);KJUR.asn1.x509.PolicyInformation=function(e){KJUR.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var r=KJUR.asn1,n=r.DERSequence,a=r.DERObjectIdentifier,o=r.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(this.params.policyoid===void 0&&this.params.array===void 0)throw new Error("parameter oid and array missing");var u=[new a(this.params.policyoid)];if(this.params.array!==void 0){for(var l=[],c=0;c<this.params.array.length;c++)l.push(new o(this.params.array[c]));l.length>0&&u.push(new n({array:l}))}var g=new n({array:u});return g.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.PolicyInformation,KJUR.asn1.ASN1Object);KJUR.asn1.x509.PolicyQualifierInfo=function(e){KJUR.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var r=KJUR.asn1,n=r.DERSequence,a=r.DERIA5String,o=r.DERObjectIdentifier,u=r.x509.UserNotice;this.params=null,this.tohex=function(){if(this.params.cps!==void 0){var l=new n({array:[new o({oid:"1.3.6.1.5.5.7.2.1"}),new a({str:this.params.cps})]});return l.tohex()}if(this.params.unotice!=null){var l=new n({array:[new o({oid:"1.3.6.1.5.5.7.2.2"}),new u(this.params.unotice)]});return l.tohex()}},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.PolicyQualifierInfo,KJUR.asn1.ASN1Object);KJUR.asn1.x509.UserNotice=function(e){KJUR.asn1.x509.UserNotice.superclass.constructor.call(this,e);var r=KJUR.asn1.DERSequence;KJUR.asn1.DERInteger;var n=KJUR.asn1.x509.DisplayText,a=KJUR.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var o=[];this.params.noticeref!==void 0&&o.push(new a(this.params.noticeref)),this.params.exptext!==void 0&&o.push(new n(this.params.exptext));var u=new r({array:o});return u.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.UserNotice,KJUR.asn1.ASN1Object);KJUR.asn1.x509.NoticeReference=function(e){KJUR.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var r=KJUR.asn1.DERSequence,n=KJUR.asn1.DERInteger,a=KJUR.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var o=[];if(this.params.org!==void 0&&o.push(new a(this.params.org)),this.params.noticenum!==void 0){for(var u=[],l=this.params.noticenum,c=0;c<l.length;c++)u.push(new n(l[c]));o.push(new r({array:u}))}if(o.length==0)throw new Error("parameter is empty");var g=new r({array:o});return g.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.NoticeReference,KJUR.asn1.ASN1Object);KJUR.asn1.x509.DisplayText=function(e){KJUR.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",e!==void 0&&(e.type==="ia5"?this.hT="16":e.type==="vis"?this.hT="1a":e.type==="bmp"&&(this.hT="1e"))};extendClass(KJUR.asn1.x509.DisplayText,KJUR.asn1.DERAbstractString);KJUR.asn1.x509.PolicyMappings=function(e){KJUR.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1;n.x509;var a=n.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var o=this.params,u=[],l=0;l<o.array.length;l++){var c=o.array[l];u.push({seq:[{oid:c[0]},{oid:c[1]}]})}return this.asn1ExtnValue=a({seq:u}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.PolicyMappings,KJUR.asn1.x509.Extension);KJUR.asn1.x509.PolicyConstraints=function(e){KJUR.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1;n.x509;var a=n.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var o=this.params,u=[];return o.reqexp!=null&&u.push({tag:{tagi:"80",obj:{int:o.reqexp}}}),o.inhibit!=null&&u.push({tag:{tagi:"81",obj:{int:o.inhibit}}}),this.asn1ExtnValue=a({seq:u}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.PolicyConstraints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.InhibitAnyPolicy=function(e){KJUR.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1;n.x509;var a=n.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=a({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.InhibitAnyPolicy,KJUR.asn1.x509.Extension);KJUR.asn1.x509.NameConstraints=function(e){KJUR.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1,a=n.x509,o=n.ASN1Util.newObject,u=a.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var l=this.params,c=[];if(l.permit!=null&&l.permit.length!=null){for(var g=[],d=0;d<l.permit.length;d++)g.push(new u(l.permit[d]));c.push({tag:{tagi:"a0",obj:{seq:g}}})}if(l.exclude!=null&&l.exclude.length!=null){for(var v=[],d=0;d<l.exclude.length;d++)v.push(new u(l.exclude[d]));c.push({tag:{tagi:"a1",obj:{seq:v}}})}return this.asn1ExtnValue=o({seq:c}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.NameConstraints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.GeneralSubtree=function(e){KJUR.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var r=KJUR.asn1,n=r.x509,a=n.GeneralName,o=r.ASN1Util.newObject;this.params=null,this.setByParam=function(u){this.params=u},this.tohex=function(){var u=this.params,l=[new a(u)];u.min!=null&&l.push({tag:{tagi:"80",obj:{int:u.min}}}),u.max!=null&&l.push({tag:{tagi:"81",obj:{int:u.max}}});var c=o({seq:l});return c.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.GeneralSubtree,KJUR.asn1.ASN1Object);KJUR.asn1.x509.ExtKeyUsage=function(e){KJUR.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1;this.setPurposeArray=function(a){this.asn1ExtnValue=new n.DERSequence;for(var o=0;o<a.length;o++){var u=new n.DERObjectIdentifier(a[o]);this.asn1ExtnValue.appendASN1Object(u)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",e!==void 0&&e.array!==void 0&&this.setPurposeArray(e.array)};extendClass(KJUR.asn1.x509.ExtKeyUsage,KJUR.asn1.x509.Extension);KJUR.asn1.x509.AuthorityKeyIdentifier=function(e){KJUR.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1,a=n.DERTaggedObject,o=n.x509.GeneralNames;r.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var u=new Array;this.asn1KID&&u.push(new a({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&u.push(new a({explicit:!1,tag:"a1",obj:new o([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&u.push(new a({explicit:!1,tag:"82",obj:this.asn1CertSN}));var l=new n.DERSequence({array:u});return this.asn1ExtnValue=l,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(u){if(u.str!==void 0||u.hex!==void 0)this.asn1KID=new KJUR.asn1.DEROctetString(u);else if(typeof u=="object"&&KJUR.crypto.Util.isKey(u)||typeof u=="string"&&u.indexOf("BEGIN ")!=-1){var l=u;typeof u=="string"&&(l=KEYUTIL.getKey(u));var c=KEYUTIL.getKeyID(l);this.asn1KID=new KJUR.asn1.DEROctetString({hex:c})}},this.setCertIssuerByParam=function(u){u.str!==void 0||u.ldapstr!==void 0||u.hex!==void 0||u.certsubject!==void 0||u.certissuer!==void 0?this.asn1CertIssuer=new KJUR.asn1.x509.X500Name(u):typeof u=="string"&&u.indexOf("BEGIN ")!=-1&&u.indexOf("CERTIFICATE")!=-1&&(this.asn1CertIssuer=new KJUR.asn1.x509.X500Name({certissuer:u}))},this.setCertSNByParam=function(u){if(u.str!==void 0||u.bigint!==void 0||u.hex!==void 0)this.asn1CertSN=new KJUR.asn1.DERInteger(u);else if(typeof u=="string"&&u.indexOf("BEGIN ")!=-1&&u.indexOf("CERTIFICATE")){var l=new X509;l.readCertPEM(u);var c=l.getSerialNumberHex();this.asn1CertSN=new KJUR.asn1.DERInteger({hex:c})}},this.oid="2.5.29.35",e!==void 0&&(e.kid!==void 0&&this.setKIDByParam(e.kid),e.issuer!==void 0&&this.setCertIssuerByParam(e.issuer),e.sn!==void 0&&this.setCertSNByParam(e.sn),e.issuersn!==void 0&&typeof e.issuersn=="string"&&e.issuersn.indexOf("BEGIN ")!=-1&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))};extendClass(KJUR.asn1.x509.AuthorityKeyIdentifier,KJUR.asn1.x509.Extension);KJUR.asn1.x509.SubjectKeyIdentifier=function(e){KJUR.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1,a=n.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(o){if(o.str!==void 0||o.hex!==void 0)this.asn1KID=new a(o);else if(typeof o=="object"&&KJUR.crypto.Util.isKey(o)||typeof o=="string"&&o.indexOf("BEGIN")!=-1){var u=o;typeof o=="string"&&(u=KEYUTIL.getKey(o));var l=KEYUTIL.getKeyID(u);this.asn1KID=new KJUR.asn1.DEROctetString({hex:l})}},this.oid="2.5.29.14",e!==void 0&&e.kid!==void 0&&this.setKIDByParam(e.kid)};extendClass(KJUR.asn1.x509.SubjectKeyIdentifier,KJUR.asn1.x509.Extension);KJUR.asn1.x509.AuthorityInfoAccess=function(e){KJUR.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(r){for(var n=new Array,a=KJUR,o=a.asn1,u=o.DERSequence,l=o.DERObjectIdentifier,c=o.x509.GeneralName,g=0;g<r.length;g++){var d,v=r[g];if(v.ocsp!==void 0)d=new u({array:[new l({oid:"1.3.6.1.5.5.7.48.1"}),new c({uri:v.ocsp})]});else if(v.caissuer!==void 0)d=new u({array:[new l({oid:"1.3.6.1.5.5.7.48.2"}),new c({uri:v.caissuer})]});else throw new Error("unknown AccessMethod parameter: "+JSON.stringify(v));n.push(d)}this.asn1ExtnValue=new u({array:n})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",e!==void 0&&e.array!==void 0&&this.setAccessDescriptionArray(e.array)};extendClass(KJUR.asn1.x509.AuthorityInfoAccess,KJUR.asn1.x509.Extension);KJUR.asn1.x509.SubjectAltName=function(e){KJUR.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(r){this.asn1ExtnValue=new KJUR.asn1.x509.GeneralNames(r)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",e!==void 0&&e.array!==void 0&&this.setNameArray(e.array)};extendClass(KJUR.asn1.x509.SubjectAltName,KJUR.asn1.x509.Extension);KJUR.asn1.x509.IssuerAltName=function(e){KJUR.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(r){this.asn1ExtnValue=new KJUR.asn1.x509.GeneralNames(r)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",e!==void 0&&e.array!==void 0&&this.setNameArray(e.array)};extendClass(KJUR.asn1.x509.IssuerAltName,KJUR.asn1.x509.Extension);KJUR.asn1.x509.SubjectDirectoryAttributes=function(e){KJUR.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var r=KJUR.asn1,n=r.DERSequence,a=r.ASN1Util.newObject,o=r.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var u=[],l=0;l<this.params.array.length;l++){var c=this.params.array[l];if(c.attr!=null&&c.array!=null){var g={seq:[{oid:c.attr},{set:c.array}]};u.push(a(g));continue}var d={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if(c.attr=="dateOfBirth")d.seq[0].oid=o(c.attr),d.seq[1].set[0]={gentime:c.str};else if(c.attr=="placeOfBirth")d.seq[0].oid=o(c.attr),d.seq[1].set[0]={utf8str:c.str};else if(c.attr=="gender")d.seq[0].oid=o(c.attr),d.seq[1].set[0]={prnstr:c.str};else if(c.attr=="countryOfCitizenship")d.seq[0].oid=o(c.attr),d.seq[1].set[0]={prnstr:c.str};else if(c.attr=="countryOfResidence")d.seq[0].oid=o(c.attr),d.seq[1].set[0]={prnstr:c.str};else throw new Error("unsupported attribute: "+c.attr);u.push(new a(d))}var v=new n({array:u});return this.asn1ExtnValue=v,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.x509.SubjectDirectoryAttributes,KJUR.asn1.x509.Extension);KJUR.asn1.x509.PrivateExtension=function(e){KJUR.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var r=KJUR,n=r.lang.String.isHex,a=r.asn1,o=a.x509.OID.name2oid,u=a.ASN1Util.newObject;this.params=null,this.setByParam=function(l){this.oid=o(l.extname),this.params=l},this.getExtnValueHex=function(){if(this.params.extname==null||this.params.extn==null)throw new Error("extname or extnhex not specified");var l=this.params.extn;if(typeof l=="string"&&n(l))return l;if(typeof l=="object")try{return u(l).tohex()}catch{}throw new Error("unsupported extn value")},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.x509.PrivateExtension,KJUR.asn1.x509.Extension);KJUR.asn1.x509.CRL=function(e){KJUR.asn1.x509.CRL.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.DERBitString,u=n.x509,l=u.AlgorithmIdentifier,c=u.TBSCertList;this.params=void 0,this.setByParam=function(g){this.params=g},this.sign=function(){var g=new c(this.params).tohex(),d=new KJUR.crypto.Signature({alg:this.params.sigalg});d.init(this.params.cakey),d.updateHex(g);var v=d.sign();this.params.sighex=v},this.getPEM=function(){return hextopem(this.tohex(),"X509 CRL")},this.tohex=function(){var g=this.params;if(g.tbsobj==null&&(g.tbsobj=new c(g)),g.sighex==null&&g.cakey!=null&&this.sign(),g.sighex==null)throw new Error("sighex or cakey parameter not defined");var d=[];d.push(g.tbsobj),d.push(new l({name:g.sigalg})),d.push(new o({hex:"00"+g.sighex}));var v=new a({array:d});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&(this.params=e)};extendClass(KJUR.asn1.x509.CRL,KJUR.asn1.ASN1Object);KJUR.asn1.x509.TBSCertList=function(e){KJUR.asn1.x509.TBSCertList.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERInteger,o=n.DERSequence,u=n.DERTaggedObject;n.DERObjectIdentifier;var l=n.x509,c=l.AlgorithmIdentifier,g=l.Time,d=l.Extensions,v=l.X500Name;this.params=null,this.setByParam=function(x){this.params=x},this.getRevCertSequence=function(){for(var x=[],m=this.params.revcert,E=0;E<m.length;E++){var y=[new a(m[E].sn),new g(m[E].date)];m[E].ext!=null&&y.push(new d(m[E].ext)),x.push(new o({array:y}))}return new o({array:x})},this.tohex=function(){var x=[],m=this.params;if(m.version!=null){var E=m.version-1,y=new a({int:E});x.push(y)}if(x.push(new c({name:m.sigalg})),x.push(new v(m.issuer)),x.push(new g(m.thisupdate)),m.nextupdate!=null&&x.push(new g(m.nextupdate)),m.revcert!=null&&x.push(this.getRevCertSequence()),m.ext!=null){var C=new d(m.ext);x.push(new u({tag:"a0",explicit:!0,obj:C}))}var b=new o({array:x});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.TBSCertList,KJUR.asn1.ASN1Object);KJUR.asn1.x509.CRLEntry=function(e){KJUR.asn1.x509.CRLEntry.superclass.constructor.call(this);var r=KJUR,n=r.asn1;this.setCertSerial=function(a){this.sn=new n.DERInteger(a)},this.setRevocationDate=function(a){this.time=new n.x509.Time(a)},this.tohex=function(){var a=new n.DERSequence({array:[this.sn,this.time]});return this.TLV=a.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.time!==void 0&&this.setRevocationDate(e.time),e.sn!==void 0&&this.setCertSerial(e.sn))};extendClass(KJUR.asn1.x509.CRLEntry,KJUR.asn1.ASN1Object);KJUR.asn1.x509.CRLNumber=function(e){KJUR.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new KJUR.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",e!=null&&(this.params=e)};extendClass(KJUR.asn1.x509.CRLNumber,KJUR.asn1.x509.Extension);KJUR.asn1.x509.CRLReason=function(e){KJUR.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new KJUR.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",e!=null&&(this.params=e)};extendClass(KJUR.asn1.x509.CRLReason,KJUR.asn1.x509.Extension);KJUR.asn1.x509.OCSPNonce=function(e){KJUR.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new KJUR.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",e!=null&&(this.params=e)};extendClass(KJUR.asn1.x509.OCSPNonce,KJUR.asn1.x509.Extension);KJUR.asn1.x509.OCSPNoCheck=function(e){KJUR.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new KJUR.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",e!=null&&(this.params=e)};extendClass(KJUR.asn1.x509.OCSPNoCheck,KJUR.asn1.x509.Extension);KJUR.asn1.x509.AdobeTimeStamp=function(e){KJUR.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var r=KJUR,n=r.asn1,a=n.DERInteger,o=n.DERBoolean,u=n.DERSequence,l=n.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var c=this.params,g=[new a(1)];return g.push(new l({uri:c.uri})),c.reqauth!=null&&g.push(new o(c.reqauth)),this.asn1ExtnValue=new u({array:g}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.AdobeTimeStamp,KJUR.asn1.x509.Extension);KJUR.asn1.x509.X500Name=function(e){KJUR.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var r=KJUR,n=r.asn1,a=n.x509,o=a.RDN;this.setByString=function(u,l){l!==void 0&&(this.sRule=l);var c=u.split("/");c.shift();for(var g=[],d=0;d<c.length;d++)if(c[d].match(/^[^=]+=.+$/))g.push(c[d]);else{var v=g.length-1;g[v]=g[v]+"/"+c[d]}for(var d=0;d<g.length;d++)this.asn1Array.push(new o({str:g[d],rule:this.sRule}))},this.setByLdapString=function(u,l){l!==void 0&&(this.sRule=l);var c=a.X500Name.ldapToCompat(u);this.setByString(c,l)},this.setByObject=function(u,l){l!==void 0&&(this.sRule=l);for(var c in u)if(u.hasOwnProperty(c)){var g=new o({str:c+"="+u[c],rule:this.sRule});this.asn1Array?this.asn1Array.push(g):this.asn1Array=[g]}},this.setByParam=function(u){if(u.rule!==void 0&&(this.sRule=u.rule),u.array!==void 0)this.paramArray=u.array;else if(u.str!==void 0)this.setByString(u.str);else if(u.ldapstr!==void 0)this.setByLdapString(u.ldapstr);else if(u.hex!==void 0)this.hTLV=u.hex;else if(u.certissuer!==void 0){var l=new X509;l.readCertPEM(u.certissuer),this.hTLV=l.getIssuerHex()}else if(u.certsubject!==void 0){var l=new X509;l.readCertPEM(u.certsubject),this.hTLV=l.getSubjectHex()}else typeof u=="object"&&u.certsubject===void 0&&u.certissuer===void 0&&this.setByObject(u)},this.tohex=function(){if(typeof this.hTLV=="string")return this.hTLV;if(this.asn1Array.length==0&&this.paramArray.length>0)for(var u=0;u<this.paramArray.length;u++){var l={array:this.paramArray[u]};this.sRule!="utf8"&&(l.rule=this.sRule);var c=new o(l);this.asn1Array.push(c)}var g=new n.DERSequence({array:this.asn1Array});return this.hTLV=g.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.X500Name,KJUR.asn1.ASN1Object);KJUR.asn1.x509.X500Name.compatToLDAP=function(e){if(e.substr(0,1)!=="/")throw"malformed input";e=e.substr(1);var r=e.split("/");return r.reverse(),r=r.map(function(n){return n.replace(/,/,"\\,")}),r.join(",")};KJUR.asn1.x509.X500Name.onelineToLDAP=function(e){return KJUR.asn1.x509.X500Name.compatToLDAP(e)};KJUR.asn1.x509.X500Name.ldapToCompat=function(e){for(var r=e.split(","),n=!1,a=[],o=0;r.length>0;o++){var u=r.shift();if(n===!0){var l=a.pop(),c=(l+","+u).replace(/\\,/g,",");a.push(c),n=!1}else a.push(u);u.substr(-1,1)==="\\"&&(n=!0)}return a=a.map(function(g){return g.replace("/","\\/")}),a.reverse(),"/"+a.join("/")};KJUR.asn1.x509.X500Name.ldapToOneline=function(e){return KJUR.asn1.x509.X500Name.ldapToCompat(e)};KJUR.asn1.x509.RDN=function(e){KJUR.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var r=KJUR.asn1.x509.AttributeTypeAndValue;this.setByParam=function(n){n.rule!==void 0&&(this.sRule=n.rule),n.str!==void 0&&this.addByMultiValuedString(n.str),n.array!==void 0&&(this.paramArray=n.array)},this.addByString=function(n){this.asn1Array.push(new KJUR.asn1.x509.AttributeTypeAndValue({str:n,rule:this.sRule}))},this.addByMultiValuedString=function(n){for(var a=KJUR.asn1.x509.RDN.parseString(n),o=0;o<a.length;o++)this.addByString(a[o])},this.tohex=function(){if(this.asn1Array.length==0&&this.paramArray.length>0)for(var n=0;n<this.paramArray.length;n++){var a=this.paramArray[n];a.rule!==void 0&&this.sRule!="utf8"&&(a.rule=this.sRule);var o=new r(a);this.asn1Array.push(o)}var u=new KJUR.asn1.DERSet({array:this.asn1Array});return this.TLV=u.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.RDN,KJUR.asn1.ASN1Object);KJUR.asn1.x509.RDN.parseString=function(e){for(var r=e.split(/\+/),n=!1,a=[],o=0;r.length>0;o++){var u=r.shift();if(n===!0){var l=a.pop(),c=(l+"+"+u).replace(/\\\+/g,"+");a.push(c),n=!1}else a.push(u);u.substr(-1,1)==="\\"&&(n=!0)}for(var g=!1,d=[],o=0;a.length>0;o++){var u=a.shift();if(g===!0){var v=d.pop();if(u.match(/"$/)){var c=(v+"+"+u).replace(/^([^=]+)="(.*)"$/,"$1=$2");d.push(c),g=!1}else d.push(v+"+"+u)}else d.push(u);u.match(/^[^=]+="/)&&(g=!0)}return d};KJUR.asn1.x509.AttributeTypeAndValue=function(e){KJUR.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.DERUTF8String,u=n.DERPrintableString,l=n.DERTeletexString,c=n.DERIA5String,g=n.DERVisibleString,d=n.DERBMPString,v=r.lang.String.isMail,x=r.lang.String.isPrintable;this.setByParam=function(m){if(m.rule!==void 0&&(this.sRule=m.rule),m.ds!==void 0&&(this.dsType=m.ds),m.value===void 0&&m.str!==void 0){var E=m.str,y=E.match(/^([^=]+)=(.+)$/);if(y)this.sType=y[1],this.sValue=y[2];else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)}else this.sType=m.type,this.sValue=m.value},this.setByString=function(m,E){E!==void 0&&(this.sRule=E);var y=m.match(/^([^=]+)=(.+)$/);if(y)this.setByAttrTypeAndValueStr(y[1],y[2]);else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)},this._getDsType=function(){var m=this.sType,E=this.sValue,y=this.sRule;return y==="prn"?m=="CN"&&v(E)?"ia5":x(E)?"prn":"utf8":y==="utf8"?m=="CN"&&v(E)?"ia5":m=="C"?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(m,E,y){y!==void 0&&(this.sRule=y),this.sType=m,this.sValue=E},this.getValueObj=function(m,E){if(m=="utf8")return new o({str:E});if(m=="prn")return new u({str:E});if(m=="tel")return new l({str:E});if(m=="ia5")return new c({str:E});if(m=="vis")return new g({str:E});if(m=="bmp")return new d({str:E});throw new Error("unsupported directory string type: type="+m+" value="+E)},this.tohex=function(){this.dsType==null&&(this.dsType=this._getDsType());var m=KJUR.asn1.x509.OID.atype2obj(this.sType),E=this.getValueObj(this.dsType,this.sValue),y=new a({array:[m,E]});return this.TLV=y.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.AttributeTypeAndValue,KJUR.asn1.ASN1Object);KJUR.asn1.x509.SubjectPublicKeyInfo=function(e){KJUR.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERInteger,o=n.DERBitString,u=n.DERObjectIdentifier,l=n.DERSequence,c=n.ASN1Util.newObject,g=n.x509,d=g.AlgorithmIdentifier,v=r.crypto;v.ECDSA,v.DSA,this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null)throw"algId and/or subjPubKey not set";var x=new l({array:[this.asn1AlgId,this.asn1SubjPKey]});return x},this.tohex=function(){var x=this.getASN1Object();return this.hTLV=x.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(x){try{if(x instanceof RSAKey){var m=c({seq:[{int:{bigint:x.n}},{int:{int:x.e}}]}),E=m.tohex();this.asn1AlgId=new d({name:"rsaEncryption"}),this.asn1SubjPKey=new o({hex:"00"+E})}}catch{}try{if(x instanceof KJUR.crypto.ECDSA){var y=new u({name:x.curveName});this.asn1AlgId=new d({name:"ecPublicKey",asn1params:y}),this.asn1SubjPKey=new o({hex:"00"+x.pubKeyHex})}}catch{}try{if(x instanceof KJUR.crypto.DSA){var y=new c({seq:[{int:{bigint:x.p}},{int:{bigint:x.q}},{int:{bigint:x.g}}]});this.asn1AlgId=new d({name:"dsa",asn1params:y});var C=new a({bigint:x.y});this.asn1SubjPKey=new o({hex:"00"+C.tohex()})}}catch{}},e!==void 0&&this.setPubKey(e)};extendClass(KJUR.asn1.x509.SubjectPublicKeyInfo,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Time=function(e){KJUR.asn1.x509.Time.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERUTCTime,o=n.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(u){this.timeParams=u},this.setByParam=function(u){this.params=u},this.getType=function(u){return u.match(/^[0-9]{12}Z$/)?"utc":u.match(/^[0-9]{14}Z$/)?"gen":u.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":u.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var u=this.params,l=null;if(typeof u=="string"&&(u={str:u}),u!=null&&u.str&&(u.type==null||u.type==null)&&(u.type=this.getType(u.str)),u!=null&&u.str?(u.type=="utc"&&(l=new a(u.str)),u.type=="gen"&&(l=new o(u.str))):this.type=="gen"?l=new o:l=new a,l==null)throw new Error("wrong setting for Time");return this.TLV=l.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};KJUR.asn1.x509.Time_bak=function(e){KJUR.asn1.x509.Time_bak.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERUTCTime,o=n.DERGeneralizedTime;this.setTimeParams=function(u){this.timeParams=u},this.tohex=function(){var u=null;return this.timeParams!=null?this.type=="utc"?u=new a(this.timeParams):u=new o(this.timeParams):this.type=="utc"?u=new a:u=new o,this.TLV=u.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",e!==void 0&&(e.type!==void 0?this.type=e.type:e.str!==void 0&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)};extendClass(KJUR.asn1.x509.Time,KJUR.asn1.ASN1Object);KJUR.asn1.x509.AlgorithmIdentifier=function(e){KJUR.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var r=KJUR,n=r.asn1,a=n.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(this.nameAlg===null&&this.asn1Alg===null)throw new Error("algorithm not specified");if(this.nameAlg!==null){var u=null;for(var l in a)l===this.nameAlg&&(u=a[l]);if(u!==null)return this.hTLV=u,this.hTLV}this.nameAlg!==null&&this.asn1Alg===null&&(this.asn1Alg=n.x509.OID.name2obj(this.nameAlg));var c=[this.asn1Alg];this.asn1Params!==null&&c.push(this.asn1Params);var g=new n.DERSequence({array:c});return this.hTLV=g.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.name!==void 0&&(this.nameAlg=e.name),e.asn1params!==void 0&&(this.asn1Params=e.asn1params),e.paramempty!==void 0&&(this.paramEmpty=e.paramempty)),this.asn1Params===null&&this.paramEmpty===!1&&this.nameAlg!==null){this.nameAlg.name!==void 0&&(this.nameAlg=this.nameAlg.name);var o=this.nameAlg.toLowerCase();o.substr(-7,7)!=="withdsa"&&o.substr(-9,9)!=="withecdsa"&&(this.asn1Params=new n.DERNull)}};extendClass(KJUR.asn1.x509.AlgorithmIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"};KJUR.asn1.x509.GeneralName=function(e){KJUR.asn1.x509.GeneralName.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.x509,o=a.X500Name,u=a.OtherName,l=n.DERIA5String;n.DERPrintableString;var c=n.DEROctetString,g=n.DERTaggedObject,d=n.ASN1Object,v=Error;this.params=null,this.setByParam=function(x){this.params=x},this.tohex=function(){var x=this.params,m,y,E,y=!1;if(x.other!==void 0)m="a0",E=new u(x.other);else if(x.rfc822!==void 0)m="81",E=new l({str:x.rfc822});else if(x.dns!==void 0)m="82",E=new l({str:x.dns});else if(x.dn!==void 0)m="a4",y=!0,typeof x.dn=="string"?E=new o({str:x.dn}):x.dn instanceof KJUR.asn1.x509.X500Name?E=x.dn:E=new o(x.dn);else if(x.ldapdn!==void 0)m="a4",y=!0,E=new o({ldapstr:x.ldapdn});else if(x.certissuer!==void 0||x.certsubj!==void 0){m="a4",y=!0;var C,b,$=null;if(x.certsubj!==void 0?(C=!1,b=x.certsubj):(C=!0,b=x.certissuer),b.match(/^[0-9A-Fa-f]+$/),b.indexOf("-----BEGIN ")!=-1&&($=pemtohex(b)),$==null)throw new Error("certsubj/certissuer not cert");var B=new X509;B.hex=$;var w;C?w=B.getIssuerHex():w=B.getSubjectHex(),E=new d,E.hTLV=w}else if(x.uri!==void 0)m="86",E=new l({str:x.uri});else if(x.ip!==void 0){m="87";var F,U=x.ip;try{if(U.match(/^[0-9a-f]+$/)){var _=U.length;if(_==8||_==16||_==32||_==64)F=U;else throw"err"}else F=iptohex(U)}catch(k){throw new v("malformed IP address: "+x.ip+":"+k.message)}E=new c({hex:F})}else throw new v("improper params");var T=new g({tag:m,explicit:y,obj:E});return T.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.GeneralName,KJUR.asn1.ASN1Object);KJUR.asn1.x509.GeneralNames=function(e){KJUR.asn1.x509.GeneralNames.superclass.constructor.call(this);var r=KJUR,n=r.asn1;this.setByParamArray=function(a){for(var o=0;o<a.length;o++){var u=new n.x509.GeneralName(a[o]);this.asn1Array.push(u)}},this.tohex=function(){var a=new n.DERSequence({array:this.asn1Array});return a.tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof e!="undefined"&&this.setByParamArray(e)};extendClass(KJUR.asn1.x509.GeneralNames,KJUR.asn1.ASN1Object);KJUR.asn1.x509.OtherName=function(e){KJUR.asn1.x509.OtherName.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DERObjectIdentifier,o=n.DERSequence,u=n.ASN1Util.newObject;this.params=null,this.setByParam=function(l){this.params=l},this.tohex=function(){var l=this.params;if(l.oid==null||l.value==null)throw new Error("oid or value not specified");var c=new a({oid:l.oid}),g=u({tag:{tag:"a0",explicit:!0,obj:l.value}}),d=new o({array:[c,g]});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.x509.OtherName,KJUR.asn1.ASN1Object);KJUR.asn1.x509.OID=new function(){var e=KJUR.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(r){if(typeof this.objCache[r]!="undefined")return this.objCache[r];if(typeof this.name2oidList[r]=="undefined")throw"Name of ObjectIdentifier not defined: "+r;var n=this.name2oidList[r],a=new e({oid:n});return this.objCache[r]=a,a},this.atype2obj=function(r){if(this.objCache[r]!==void 0)return this.objCache[r];var n;if(r.match(/^\d+\.\d+\.[0-9.]+$/))n=r;else if(this.atype2oidList[r]!==void 0)n=this.atype2oidList[r];else if(this.name2oidList[r]!==void 0)n=this.name2oidList[r];else throw new Error("AttributeType name undefined: "+r);var a=new e({oid:n});return this.objCache[r]=a,a},this.registerOIDs=function(r){if(!!this.checkOIDs(r))for(var n in r)this.name2oidList[n]=r[n]},this.checkOIDs=function(r){try{var n=Object.keys(r);return n.length==0?!1:(n.map(function(a,o,u){var l=this[a];if(!l.match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},r),!0)}catch{return!1}}};KJUR.asn1.x509.OID.oid2name=function(e){var r=KJUR.asn1.x509.OID.name2oidList;for(var n in r)if(r[n]==e)return n;return""};KJUR.asn1.x509.OID.oid2atype=function(e){var r=KJUR.asn1.x509.OID.atype2oidList;for(var n in r)if(r[n]==e)return n;return e};KJUR.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var r=KJUR.asn1.x509.OID.name2oidList;return r[e]===void 0?"":r[e]};KJUR.asn1.x509.X509Util={};KJUR.asn1.x509.X509Util.newCertPEM=function(e){var r=KJUR.asn1.x509;r.TBSCertificate;var n=r.Certificate,a=new n(e);return a.getPEM()};(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.asn1=="undefined"||!KJUR.asn1)&&(KJUR.asn1={});(typeof KJUR.asn1.cms=="undefined"||!KJUR.asn1.cms)&&(KJUR.asn1.cms={});KJUR.asn1.cms.Attribute=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSequence,u=a.DERSet,l=a.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(c){this.params=c},this.getValueArray=function(){throw new r("not yet implemented abstract")},this.tohex=function(){var c=new l({oid:this.typeOid}),g=new u({array:this.getValueArray()}),d=new o({array:[c,g]});return d.tohex()},this.getEncodedHex=function(){return this.tohex()}};extendClass(KJUR.asn1.cms.Attribute,KJUR.asn1.ASN1Object);KJUR.asn1.cms.ContentType=function(e){var r=KJUR,n=r.asn1;n.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){var a=new n.DERObjectIdentifier(this.params.type);return[a]},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.ContentType,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.MessageDigest=function(e){var r=KJUR,n=r.asn1,a=n.DEROctetString,o=n.cms;o.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){var u=new a(this.params);return[u]},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.MessageDigest,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.SigningTime=function(e){var r=KJUR,n=r.asn1;n.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){var a=new n.x509.Time(this.params);return[a]},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.SigningTime,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.SigningCertificate=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSequence,u=a.cms,l=u.ESSCertID;n.crypto,u.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new r("parameter 'array' not specified");for(var c=this.params.array,g=[],d=0;d<c.length;d++){var v=c[d];e.hasis==!1&&typeof v=="string"&&(v.indexOf("-----BEGIN")!=-1||ASN1HEX.isASN1HEX(v))&&(v={cert:v}),v.hasis!=!1&&e.hasis==!1&&(v.hasis=!1),g.push(new l(v))}var x=new o({array:g}),m=new o({array:[x]});return[m]},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.SigningCertificate,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.ESSCertID=function(e){KJUR.asn1.cms.ESSCertID.superclass.constructor.call(this);var r=Error,n=KJUR,a=n.asn1,o=a.DEROctetString,u=a.DERSequence,l=a.cms.IssuerSerial;this.params=null,this.getCertHash=function(c,g){if(c.hash!=null)return c.hash;if(typeof c=="string"&&c.indexOf("-----BEGIN")==-1&&!ASN1HEX.isASN1HEX(c))return c;var d;if(typeof c=="string")d=c;else if(c.cert!=null)d=c.cert;else throw new r("hash nor cert unspecified");var v;d.indexOf("-----BEGIN")!=-1?v=pemtohex(d):v=d,typeof c=="string"&&(c.indexOf("-----BEGIN")!=-1?v=pemtohex(c):ASN1HEX.isASN1HEX(c)&&(v=c));var x;if(c.alg!=null)x=c.alg;else if(g!=null)x=g;else throw new r("hash alg unspecified");return n.crypto.Util.hashHex(v,x)},this.tohex=function(){var c=this.params,g=this.getCertHash(c,"sha1"),d=[];d.push(new o({hex:g})),(typeof c=="string"&&c.indexOf("-----BEGIN")!=-1||c.cert!=null&&c.hasis!=!1||c.issuer!=null&&c.serial!=null)&&d.push(new l(c));var v=new u({array:d});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.ESSCertID,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SigningCertificateV2=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSequence;a.x509;var u=a.cms,l=u.ESSCertIDv2;n.crypto,u.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new r("parameter 'array' not specified");for(var c=this.params.array,g=[],d=0;d<c.length;d++){var v=c[d];(e.alg!=null||e.hasis==!1)&&typeof v=="string"&&(v.indexOf("-----BEGIN")!=-1||ASN1HEX.isASN1HEX(v))&&(v={cert:v}),v.alg==null&&e.alg!=null&&(v.alg=e.alg),v.hasis!=!1&&e.hasis==!1&&(v.hasis=!1),g.push(new l(v))}var x=new o({array:g}),m=new o({array:[x]});return[m]},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.SigningCertificateV2,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.ESSCertIDv2=function(e){KJUR.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.DEROctetString,o=n.DERSequence,u=n.cms.IssuerSerial,l=n.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var c=this.params,g=this.getCertHash(c,"sha256"),d=[];c.alg!=null&&c.alg!="sha256"&&d.push(new l({name:c.alg})),d.push(new a({hex:g})),(typeof c=="string"&&c.indexOf("-----BEGIN")!=-1||c.cert!=null&&c.hasis!=!1||c.issuer!=null&&c.serial!=null)&&d.push(new u(c));var v=new o({array:d});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.ESSCertIDv2,KJUR.asn1.cms.ESSCertID);KJUR.asn1.cms.IssuerSerial=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERInteger,u=a.DERSequence,l=a.cms,c=a.x509,g=c.GeneralNames,d=X509;l.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(v){this.params=v},this.tohex=function(){var v=this.params,x,m;if(typeof v=="string"&&v.indexOf("-----BEGIN")!=-1||v.cert!=null){var E;v.cert!=null?E=v.cert:E=v;var y=new d;y.readCertPEM(E),x=y.getIssuer(),m={hex:y.getSerialNumberHex()}}else if(v.issuer!=null&&v.serial)x=v.issuer,m=v.serial;else throw new r("cert or issuer and serial parameter not specified");var C=new g([{dn:x}]),b=new o(m),$=new u({array:[C,b]});return $.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.IssuerSerial,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SignerIdentifier=function(e){var r=KJUR,n=r.asn1;n.DERInteger,n.DERSequence;var a=n.cms,o=a.IssuerAndSerialNumber,u=a.SubjectKeyIdentifier,l=n.x509;l.X500Name,a.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params;if(c.type=="isssn"){var g=new o(c);return g.tohex()}else if(c.type=="skid"){var d=new u(c);return d.tohex()}else throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.SignerIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.cms.IssuerAndSerialNumber=function(e){var r=KJUR,n=r.asn1,a=n.DERInteger,o=n.DERSequence,u=n.cms,l=n.x509,c=l.X500Name,g=X509,d=Error;u.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,x,m;if(typeof v=="string"&&v.indexOf("-----BEGIN")!=-1||v.cert!=null){var E;v.cert!=null?E=v.cert:E=v;var y=new g;y.readCertPEM(E),x=y.getIssuer(),m={hex:y.getSerialNumberHex()}}else if(v.issuer!=null&&v.serial)x=v.issuer,m=v.serial;else throw new d("cert or issuer and serial parameter not specified");var C=new c(x),b=new a(m),$=new o({array:[C,b]});return $.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.IssuerAndSerialNumber,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SubjectKeyIdentifier=function(e){var r=KJUR,n=r.asn1;n.DERInteger,n.DERSequence;var a=n.ASN1Util.newObject,o=n.cms;o.IssuerAndSerialName,o.SubjectKeyIdentifier;var u=n.x509;u.X500Name;var l=X509,c=Error;o.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var g=this.params;if(g.cert==null&&g.skid==null)throw new c("property cert nor skid undefined");var d;if(g.cert!=null){var v=new l(g.cert),x=v.getExtSubjectKeyIdentifier();d=x.kid.hex}else g.skid!=null&&(d=g.skid);var m=a({tag:{tage:"a0",obj:{octstr:{hex:d}}}});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.SubjectKeyIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.cms.AttributeList=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSet,u=a.cms;u.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(l){this.params=l},this.tohex=function(){var l=this.params;if(this.hTLV!=null)return this.hTLV;var c=!0;l.sortflag!=null&&(c=l.sortflag);for(var g=l.array,d=[],v=0;v<g.length;v++){var x=g[v],m=x.attr;if(m=="contentType")d.push(new u.ContentType(x));else if(m=="messageDigest")d.push(new u.MessageDigest(x));else if(m=="signingTime")d.push(new u.SigningTime(x));else if(m=="signingCertificate")d.push(new u.SigningCertificate(x));else if(m=="signingCertificateV2")d.push(new u.SigningCertificateV2(x));else if(m=="signaturePolicyIdentifier")d.push(new KJUR.asn1.cades.SignaturePolicyIdentifier(x));else if(m=="signatureTimeStamp"||m=="timeStampToken")d.push(new KJUR.asn1.cades.SignatureTimeStamp(x));else throw new r("unknown attr: "+m)}var E=new o({array:d,sortflag:c});return this.hTLV=E.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.AttributeList,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SignerInfo=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERInteger,u=a.DEROctetString,l=a.DERSequence,c=a.DERTaggedObject,g=a.cms,d=g.SignerIdentifier,v=g.AttributeList;g.ContentType,g.EncapsulatedContentInfo,g.MessageDigest,g.SignedData;var x=a.x509,m=x.AlgorithmIdentifier,E=n.crypto,y=KEYUTIL;g.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var C=this.params,b=C.sigalg,$=new v(C.sattrs).tohex(),B=y.getKey(C.signkey),w=new E.Signature({alg:b});w.init(B),w.updateHex($);var F=w.sign();C.sighex=F},this.tohex=function(){var C=this.params,b=[];if(b.push(new o({int:C.version})),b.push(new d(C.id)),b.push(new m({name:C.hashalg})),C.sattrs!=null){var $=new v(C.sattrs);try{b.push(new c({tag:"a0",explicit:!1,obj:$}))}catch(w){throw new r("si sattr error: "+w)}}if(C.sigalgfield!=null?b.push(new m({name:C.sigalgfield})):b.push(new m({name:C.sigalg})),C.sighex==null&&C.signkey!=null&&this.sign(),b.push(new u({hex:C.sighex})),C.uattrs!=null){var $=new v(C.uattrs);try{b.push(new c({tag:"a1",explicit:!1,obj:$}))}catch(F){throw new r("si uattr error: "+F)}}var B=new l({array:b});return B.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.SignerInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.EncapsulatedContentInfo=function(e){var r=KJUR,n=r.asn1,a=n.DERTaggedObject,o=n.DERSequence,u=n.DERObjectIdentifier,l=n.DEROctetString,c=n.cms;c.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var g=this.params,d=[];if(d.push(new u(g.type)),g.content!=null&&(g.content.hex!=null||g.content.str!=null)&&g.isDetached!=!0){var v=new l(g.content),x=new a({tag:"a0",explicit:!0,obj:v});d.push(x)}var m=new o({array:d});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(g){this.params=g},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.EncapsulatedContentInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.ContentInfo=function(e){var r=KJUR,n=r.asn1,a=n.DERTaggedObject,o=n.DERSequence,u=n.DERObjectIdentifier,l=n.x509;l.OID.name2obj,KJUR.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params,g=[];g.push(new u(c.type));var d=new a({tag:"a0",explicit:!0,obj:c.obj});g.push(d);var v=new o({array:g});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(c){this.params=c},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.ContentInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SignedData=function(e){var r=KJUR,n=r.asn1;n.ASN1Object;var a=n.DERInteger,o=n.DERSet,u=n.DERSequence;n.DERTaggedObject;var l=n.cms,c=l.EncapsulatedContentInfo,g=l.SignerInfo,d=l.ContentInfo,v=l.CertificateSet,x=l.RevocationInfoChoices,m=n.x509,E=m.AlgorithmIdentifier;KJUR.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var y=this.params;this._setDigestAlgs(y),this._setContentTypeByEContent(y),this._setMessageDigestByEContent(y),this._setSignerInfoVersion(y),this._setSignedDataVersion(y)},this._setDigestAlgs=function(y){for(var C={},b=y.sinfos,$=0;$<b.length;$++){var B=b[$];C[B.hashalg]=1}y.hashalgs=Object.keys(C).sort()},this._setContentTypeByEContent=function(y){for(var C=y.econtent.type,b=y.sinfos,$=0;$<b.length;$++){var B=b[$],w=this._getAttrParamByName(B,"contentType");w.type=C}},this._setMessageDigestByEContent=function(y){var C=y.econtent;y.econtent.type;var b=C.content.hex;b==null&&C.type=="data"&&C.content.str!=null&&(b=rstrtohex(C.content.str));for(var $=y.sinfos,B=0;B<$.length;B++){var w=$[B],F=w.hashalg,U=this._getAttrParamByName(w,"messageDigest"),_=KJUR.crypto.Util.hashHex(b,F);U.hex=_}},this._getAttrParamByName=function(y,C){for(var b=y.sattrs.array,$=0;$<b.length;$++)if(b[$].attr==C)return b[$]},this._setSignerInfoVersion=function(y){for(var C=y.sinfos,b=0;b<C.length;b++){var $=C[b],B=1;$.id.type=="skid"&&(B=3),$.version=B}},this._setSignedDataVersion=function(y){var C=this._getSignedDataVersion(y);y.version=C},this._getSignedDataVersion=function(y){if(y.revinfos!=null)for(var C=y.revinfos,b=0;b<C.length;b++){var $=C[b];if($.ocsp!=null)return 5}for(var B=y.sinfos,b=0;b<B.length;b++){var w=y.sinfos[b];if(w.version==3)return 3}return y.econtent.type!="data"?3:1},this.tohex=function(){var y=this.params;this.getEncodedHexPrepare!=null&&this.getEncodedHexPrepare(),y.fixed!=!0&&this.checkAndFixParam();var C=[];C.push(new a({int:y.version}));for(var b=[],$=0;$<y.hashalgs.length;$++){var B=y.hashalgs[$];b.push(new E({name:B}))}C.push(new o({array:b})),C.push(new c(y.econtent)),y.certs!=null&&C.push(new v(y.certs)),y.revinfos!=null&&C.push(new x(y.revinfos));for(var w=[],$=0;$<y.sinfos.length;$++){var F=y.sinfos[$];w.push(new g(F))}C.push(new o({array:w}));var U=new u({array:C});return U.tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){var y=new d({type:"signed-data",obj:this});return y},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.SignedData,KJUR.asn1.ASN1Object);KJUR.asn1.cms.CertificateSet=function(e){KJUR.asn1.cms.CertificateSet.superclass.constructor.call(this);var r=Error,n=KJUR.asn1,a=n.DERTaggedObject,o=n.DERSet,u=n.ASN1Object;this.params=null,this.tohex=function(){var l=this.params,c=[],g;if(l instanceof Array)g=l;else if(l.array!=null)g=l.array;else throw new r("cert array not specified");for(var d=0;d<g.length;d++){var v=g[d],x=pemtohex(v),m=new u;m.hTLV=x,c.push(m)}var E={array:c};l.sortflag==!1&&(E.sortflag=!1);var y=new o(E),C=new a({tag:"a0",explicit:!1,obj:y});return C.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.CertificateSet,KJUR.asn1.ASN1Object);KJUR.asn1.cms.RevocationInfoChoices=function(e){KJUR.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var r=this.params;if(!r instanceof Array)throw new Error("params is not array");for(var n=[],a=0;a<r.length;a++)n.push(new KJUR.asn1.cms.RevocationInfoChoice(r[a]));var o=KJUR.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:n}}});return o.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.RevocationInfoChoices,KJUR.asn1.ASN1Object);KJUR.asn1.cms.RevocationInfoChoice=function(e){KJUR.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var r=this.params;if(r.crl!=null&&typeof r.crl=="string"){var n=r.crl;return r.crl.indexOf("-----BEGIN")!=-1&&(n=pemtohex(r.crl)),n}else if(r.ocsp!=null){var a=KJUR.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new KJUR.asn1.cms.OtherRevocationFormat(r)}});return a.tohex()}else throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.RevocationInfoChoice,KJUR.asn1.ASN1Object);KJUR.asn1.cms.OtherRevocationFormat=function(e){KJUR.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var r=Error,n=KJUR,a=n.asn1,o=a.ASN1Util.newObject,u=n.lang.String.isHex;this.params=null,this.tohex=function(){var l=this.params;if(l.ocsp==null)throw new r("property ocsp not specified");if(!u(l.ocsp)||!ASN1HEX.isASN1HEX(l.ocsp))throw new r("ocsp value not ASN.1 hex string");var c=o({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:l.ocsp}}]});return c.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cms.OtherRevocationFormat,KJUR.asn1.ASN1Object);KJUR.asn1.cms.CMSUtil=new function(){};KJUR.asn1.cms.CMSUtil.newSignedData=function(e){return new KJUR.asn1.cms.SignedData(e)};KJUR.asn1.cms.CMSUtil.verifySignedData=function(e){var r=KJUR,n=r.asn1,a=n.cms;a.SignerInfo,a.SignedData,a.SigningTime,a.SigningCertificate,a.SigningCertificateV2;var o=n.cades;o.SignaturePolicyIdentifier;var u=r.lang.String.isHex,l=ASN1HEX,c=l.getVbyList,g=l.getTLVbyList,d=l.getIdxbyList,v=l.getChildIdx,x=l.getTLV,m=l.oidname,E=r.crypto.Util.hashHex;e.cms===void 0&&u(e.cms);var y=e.cms,C=function(k,N){for(var K,O=3;O<6;O++)if(K=d(k,0,[1,0,O]),K!==void 0){var V=k.substr(K,2);V==="a0"&&(N.certsIdx=K),V==="a1"&&(N.revinfosIdx=K),V==="31"&&(N.signerinfosIdx=K)}},b=function(k,N){var K=N.signerinfosIdx;if(K!==void 0){var O=v(k,K);N.signerInfoIdxList=O;for(var V=0;V<O.length;V++){var J=O[V],H={idx:J};$(k,H),N.signerInfos.push(H)}}},$=function(k,N){var K=N.idx;N.signerid_issuer1=g(k,K,[1,0],"30"),N.signerid_serial1=c(k,K,[1,1],"02"),N.hashalg=m(c(k,K,[2,0],"06"));var O=d(k,K,[3],"a0");N.idxSignedAttrs=O,B(k,N,O);var V=v(k,K),J=V.length;if(J<6)throw"malformed SignerInfo";N.sigalg=m(c(k,K,[J-2,0],"06")),N.sigval=c(k,K,[J-1],"04")},B=function(k,N,K){var O=v(k,K);N.signedAttrIdxList=O;for(var V=0;V<O.length;V++){var J=O[V],H=c(k,J,[0],"06"),G;H==="2a864886f70d010905"?(G=hextoutf8(c(k,J,[1,0])),N.saSigningTime=G):H==="2a864886f70d010904"&&(G=c(k,J,[1,0],"04"),N.saMessageDigest=G)}},w=function(k,N){if(c(k,0,[0],"06")!=="2a864886f70d010702")return N;N.cmsType="signedData",N.econtent=c(k,0,[1,0,2,1,0]),C(k,N),N.signerInfos=[],b(k,N)},F=function(k,N){for(var K=N.parse.signerInfos,O=K.length,V=!0,J=0;J<O;J++){var H=K[J];_(k,N,H),H.isValid||(V=!1)}N.isValid=V},U=function(k,N,K,O){var V=N.parse.certsIdx,J;if(N.certs===void 0){J=[],N.certkeys=[];for(var H=v(k,V),G=0;G<H.length;G++){var te=x(k,H[G]),Q=new X509;Q.readCertHex(te),J[G]=Q,N.certkeys[G]=Q.getPublicKey()}N.certs=J}else J=N.certs;N.cccc=J.length,N.cccci=H.length;for(var G=0;G<J.length;G++){var xe=Q.getIssuerHex(),ce=Q.getSerialNumberHex();K.signerid_issuer1===xe&&K.signerid_serial1===ce&&(K.certkey_idx=G)}},_=function(k,N,K,O){K.verifyDetail={};var V=K.verifyDetail,J=N.parse.econtent,H=K.hashalg,G=K.saMessageDigest;V.validMessageDigest=!1,E(J,H)===G&&(V.validMessageDigest=!0),U(k,N,K),V.validSignatureValue=!1;var te=K.sigalg,Q="31"+x(k,K.idxSignedAttrs).substr(2);K.signedattrshex=Q;var xe=N.certs[K.certkey_idx].getPublicKey(),ce=new KJUR.crypto.Signature({alg:te});ce.init(xe),ce.updateHex(Q);var de=ce.verify(K.sigval);V.validSignatureValue_isValid=de,de===!0&&(V.validSignatureValue=!0),K.isValid=!1,V.validMessageDigest&&V.validSignatureValue&&(K.isValid=!0)},T={isValid:!1,parse:{}};return w(y,T.parse),F(y,T),T};KJUR.asn1.cms.CMSParser=function(){var e=Error,r=X509,n=new r,a=ASN1HEX,o=a.getV,u=a.getTLV;a.getIdxbyList;var l=a.getTLVbyList,c=a.getTLVbyListEx,g=a.getVbyList,d=a.getVbyListEx,v=a.getChildIdx;this.getCMSSignedData=function(x){var m=l(x,0,[1,0]),E=this.getSignedData(m);return E},this.getSignedData=function(x){var m=v(x,0),E={},y=o(x,m[0]),C=parseInt(y,16);E.version=C;var b=u(x,m[1]);E.hashalgs=this.getHashAlgArray(b);var $=u(x,m[2]);E.econtent=this.getEContent($);var B=c(x,0,["[0]"]);B!=null&&(E.certs=this.getCertificateSet(B)),c(x,0,["[1]"]);var w=c(x,0,[3]);return E.sinfos=this.getSignerInfos(w),E},this.getHashAlgArray=function(x){for(var m=v(x,0),E=new r,y=[],C=0;C<m.length;C++){var b=u(x,m[C]),$=E.getAlgorithmIdentifierName(b);y.push($)}return y},this.getEContent=function(x){var m={},E=g(x,0,[0]),y=g(x,0,[1,0]);return m.type=KJUR.asn1.x509.OID.oid2name(ASN1HEX.hextooidstr(E)),m.content={hex:y},m},this.getSignerInfos=function(x){for(var m=[],E=v(x,0),y=0;y<E.length;y++){var C=u(x,E[y]),b=this.getSignerInfo(C);m.push(b)}return m},this.getSignerInfo=function(x){var m={},E=v(x,0),y=a.getInt(x,E[0],-1);y!=-1&&(m.version=y);var C=u(x,E[1]),b=this.getIssuerAndSerialNumber(C);m.id=b;var $=u(x,E[2]),B=n.getAlgorithmIdentifierName($);m.hashalg=B;var w=c(x,0,["[0]"]);if(w!=null){var F=this.getAttributeList(w);m.sattrs=F}var U=c(x,0,[3]),_=n.getAlgorithmIdentifierName(U);m.sigalg=_;var T=d(x,0,[4]);m.sighex=T;var k=c(x,0,["[1]"]);if(k!=null){var N=this.getAttributeList(k);m.uattrs=N}return m},this.getSignerIdentifier=function(x){if(x.substr(0,2)=="30")return this.getIssuerAndSerialNumber(x);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(x){var m={type:"isssn"},E=v(x,0),y=u(x,E[0]);m.issuer=n.getX500Name(y);var C=o(x,E[1]);return m.serial={hex:C},m},this.getAttributeList=function(x){for(var m=[],E=v(x,0),y=0;y<E.length;y++){var C=u(x,E[y]),b=this.getAttribute(C);m.push(b)}return{array:m}},this.getAttribute=function(x){var m={},E=v(x,0),y=a.getOID(x,E[0]),C=KJUR.asn1.x509.OID.oid2name(y);m.attr=C;var b=u(x,E[1]),$=v(b,0);if($.length==1)m.valhex=u(b,$[0]);else{for(var B=[],w=0;w<$.length;w++)B.push(u(b,$[w]));m.valhex=B}return C=="contentType"?this.setContentType(m):C=="messageDigest"?this.setMessageDigest(m):C=="signingTime"?this.setSigningTime(m):C=="signingCertificate"?this.setSigningCertificate(m):C=="signingCertificateV2"?this.setSigningCertificateV2(m):C=="signaturePolicyIdentifier"&&this.setSignaturePolicyIdentifier(m),m},this.setContentType=function(x){var m=a.getOIDName(x.valhex,0,null);m!=null&&(x.type=m,delete x.valhex)},this.setSigningTime=function(x){var m=o(x.valhex,0),E=hextoutf8(m);x.str=E,delete x.valhex},this.setMessageDigest=function(x){var m=o(x.valhex,0);x.hex=m,delete x.valhex},this.setSigningCertificate=function(x){var m=v(x.valhex,0);if(m.length>0){for(var E=u(x.valhex,m[0]),y=v(E,0),C=[],b=0;b<y.length;b++){var $=u(E,y[b]),B=this.getESSCertID($);C.push(B)}x.array=C}if(m.length>1){var w=u(x.valhex,m[1]);x.polhex=w}delete x.valhex},this.setSignaturePolicyIdentifier=function(x){var m=v(x.valhex,0);if(m.length>0){var E=a.getOID(x.valhex,m[0]);x.oid=E}if(m.length>1){var y=new r,C=v(x.valhex,m[1]),b=u(x.valhex,C[0]),$=y.getAlgorithmIdentifierName(b);x.alg=$;var B=o(x.valhex,C[1]);x.hash=B}delete x.valhex},this.setSigningCertificateV2=function(x){var m=v(x.valhex,0);if(m.length>0){for(var E=u(x.valhex,m[0]),y=v(E,0),C=[],b=0;b<y.length;b++){var $=u(E,y[b]),B=this.getESSCertIDv2($);C.push(B)}x.array=C}if(m.length>1){var w=u(x.valhex,m[1]);x.polhex=w}delete x.valhex},this.getESSCertID=function(x){var m={},E=v(x,0);if(E.length>0){var y=o(x,E[0]);m.hash=y}if(E.length>1){var C=u(x,E[1]),b=this.getIssuerSerial(C);b.serial!=null&&(m.serial=b.serial),b.issuer!=null&&(m.issuer=b.issuer)}return m},this.getESSCertIDv2=function(x){var m={},E=v(x,0);if(E.length<1||3<E.length)throw new e("wrong number of elements");var y=0;if(x.substr(E[0],2)=="30"){var C=u(x,E[0]);m.alg=n.getAlgorithmIdentifierName(C),y++}else m.alg="sha256";var b=o(x,E[y]);if(m.hash=b,E.length>y+1){var $=u(x,E[y+1]),B=this.getIssuerSerial($);m.issuer=B.issuer,m.serial=B.serial}return m},this.getIssuerSerial=function(x){var m={},E=v(x,0),y=u(x,E[0]),C=n.getGeneralNames(y),b=C[0].dn;m.issuer=b;var $=o(x,E[1]);return m.serial={hex:$},m},this.getCertificateSet=function(x){for(var m=v(x,0),E=[],y=0;y<m.length;y++){var C=u(x,m[y]);if(C.substr(0,2)=="30"){var b=hextopem(C,"CERTIFICATE");E.push(b)}}return{array:E,sortflag:!1}}};(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.asn1=="undefined"||!KJUR.asn1)&&(KJUR.asn1={});(typeof KJUR.asn1.tsp=="undefined"||!KJUR.asn1.tsp)&&(KJUR.asn1.tsp={});KJUR.asn1.tsp.TimeStampToken=function(e){var r=KJUR,n=r.asn1,a=n.tsp;a.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var o=new a.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=o.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.TimeStampToken,KJUR.asn1.cms.SignedData);KJUR.asn1.tsp.TSTInfo=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.DERInteger,u=n.DERBoolean,l=n.DERGeneralizedTime,c=n.DERObjectIdentifier,g=n.DERTaggedObject,d=n.tsp,v=d.MessageImprint,x=d.Accuracy;n.x509.X500Name;var m=n.x509.GeneralName;if(d.TSTInfo.superclass.constructor.call(this),this.dVersion=new o({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var E=[this.dVersion];if(this.dPolicy==null)throw new Error("policy shall be specified.");if(E.push(this.dPolicy),this.dMessageImprint==null)throw new Error("messageImprint shall be specified.");if(E.push(this.dMessageImprint),this.dSerial==null)throw new Error("serialNumber shall be specified.");if(E.push(this.dSerial),this.dGenTime==null)throw new Error("genTime shall be specified.");E.push(this.dGenTime),this.dAccuracy!=null&&E.push(this.dAccuracy),this.dOrdering!=null&&E.push(this.dOrdering),this.dNonce!=null&&E.push(this.dNonce),this.dTsa!=null&&E.push(this.dTsa);var y=new a({array:E});return this.hTLV=y.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0){if(typeof e.policy=="string"){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new c({oid:e.policy})}e.messageImprint!==void 0&&(this.dMessageImprint=new v(e.messageImprint)),e.serial!==void 0&&(this.dSerial=new o(e.serial)),e.genTime!==void 0&&(this.dGenTime=new l(e.genTime)),e.accuracy!==void 0&&(this.dAccuracy=new x(e.accuracy)),e.ordering!==void 0&&e.ordering==!0&&(this.dOrdering=new u),e.nonce!==void 0&&(this.dNonce=new o(e.nonce)),e.tsa!==void 0&&(this.dTsa=new g({tag:"a0",explicit:!0,obj:new m({dn:e.tsa})}))}};extendClass(KJUR.asn1.tsp.TSTInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.Accuracy=function(e){var r=KJUR,n=r.asn1,a=n.ASN1Util.newObject;n.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var o=this.params,u=[];return o.seconds!=null&&typeof o.seconds=="number"&&u.push({int:o.seconds}),o.millis!=null&&typeof o.millis=="number"&&u.push({tag:{tagi:"80",obj:{int:o.millis}}}),o.micros!=null&&typeof o.micros=="number"&&u.push({tag:{tagi:"81",obj:{int:o.micros}}}),a({seq:u}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.Accuracy,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.MessageImprint=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.DEROctetString,u=n.x509,l=u.AlgorithmIdentifier;n.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params,g=new l({name:c.alg}),d=new o({hex:c.hash}),v=new a({array:[g,d]});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.MessageImprint,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.TimeStampReq=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.DERInteger,u=n.DERBoolean;n.ASN1Object;var l=n.DERObjectIdentifier,c=n.tsp,g=c.MessageImprint;c.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var d=this.params,v=[];v.push(new o({int:1})),d.messageImprint instanceof KJUR.asn1.ASN1Object?v.push(d.messageImprint):v.push(new g(d.messageImprint)),d.policy!=null&&v.push(new l(d.policy)),d.nonce!=null&&v.push(new o(d.nonce)),d.certreq==!0&&v.push(new u);var x=new a({array:v});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.TimeStampReq,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.TimeStampResp=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence;n.ASN1Object;var o=n.tsp,u=o.PKIStatusInfo;o.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var l=this.params,c=[];if(l.econtent!=null||l.tst!=null)if(l.statusinfo!=null?c.push(new u(l.statusinfo)):c.push(new u("granted")),l.econtent!=null)c.push(new o.TimeStampToken(l).getContentInfo());else if(l.tst instanceof n.ASN1Object)c.push(l.tst);else throw new Error("improper member tst value");else if(l.statusinfo!=null)c.push(new u(l.statusinfo));else throw new Error("parameter for token nor statusinfo not specified");var g=new a({array:c});return g.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.TimeStampResp,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIStatusInfo=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSequence,u=a.tsp,l=u.PKIStatus,c=u.PKIFreeText,g=u.PKIFailureInfo;u.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var d=this.params,v=[];if(typeof d=="string")v.push(new l(d));else{if(d.status==null)throw new r("property 'status' unspecified");v.push(new l(d.status)),d.statusstr!=null&&v.push(new c(d.statusstr)),d.failinfo!=null&&v.push(new g(d.failinfo))}var x=new o({array:v});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.PKIStatusInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIStatus=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERInteger,u=a.tsp;u.PKIStatus.superclass.constructor.call(this);var l={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var c=this.params,g;if(typeof c=="string")try{g=l[c]}catch{throw new r("undefined name: "+c)}else if(typeof c=="number")g=c;else throw new r("unsupported params");return new o({int:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.PKIStatus,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIFreeText=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSequence,u=a.DERUTF8String,l=a.tsp;l.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params;if(!c instanceof Array)throw new r("wrong params: not array");for(var g=[],d=0;d<c.length;d++)g.push(new u({str:c[d]}));var v=new o({array:g});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.PKIFreeText,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIFailureInfo=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERBitString,u=a.tsp,l=u.PKIFailureInfo,c={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};l.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var g=this.params,d=0;if(typeof g=="number"&&0<=g&&g<=25){d|=1<<g;for(var v=d.toString(2),x="",m=v.length-1;m>=0;m--)x+=v[m];return x}else{if(typeof g=="string"&&c[g]!=null)return namearraytobinstr([g],c);if(typeof g=="object"&&g.length!=null)return namearraytobinstr(g,c);throw new r("wrong params")}},this.tohex=function(){this.params;var g=this.getBinValue();return new o({bin:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.tsp.PKIFailureInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(r,n){throw"not implemented yet"}};KJUR.asn1.tsp.SimpleTSAAdapter=function(e){var r=KJUR,n=r.asn1,a=n.tsp,o=r.crypto.Util.hashHex;a.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(u,l){var c=o(u,l);this.params.econtent.content.messageImprint={alg:l,hash:c},this.params.econtent.content.serial={int:this.serial++};var g=Math.floor(Math.random()*1e9);this.params.econtent.content.nonce={int:g};var d=new a.TimeStampToken(this.params);return d.getContentInfoEncodedHex()},e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.tsp.SimpleTSAAdapter,KJUR.asn1.tsp.AbstractTSAAdapter);KJUR.asn1.tsp.FixedTSAAdapter=function(e){var r=KJUR,n=r.asn1,a=n.tsp,o=r.crypto.Util.hashHex;a.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(u,l){var c=o(u,l);this.params.econtent.content.messageImprint={alg:l,hash:c};var g=new a.TimeStampToken(this.params);return g.getContentInfoEncodedHex()},e!==void 0&&(this.params=e)};extendClass(KJUR.asn1.tsp.FixedTSAAdapter,KJUR.asn1.tsp.AbstractTSAAdapter);KJUR.asn1.tsp.TSPUtil=new function(){};KJUR.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new KJUR.asn1.tsp.TimeStampToken(e)};KJUR.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var r=new KJUR.asn1.tsp.TSPParser;return r.getTimeStampReq(e)};KJUR.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var r=new KJUR.asn1.tsp.TSPParser;return r.getMessageImprint(e)};KJUR.asn1.tsp.TSPParser=function(){var e=X509,r=new e,n=ASN1HEX,a=n.getV,o=n.getTLV,u=n.getIdxbyList;n.getTLVbyListEx;var l=n.getChildIdx,c=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],g={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(d){var v=l(d,0);if(v.length==1)return this.getPKIStatusInfo(o(d,v[0]));if(v.length>1){var x=this.getPKIStatusInfo(o(d,v[0])),m=o(d,v[1]),E=this.getToken(m);return E.statusinfo=x,E}},this.getToken=function(d){var v=new KJUR.asn1.cms.CMSParser,x=v.getCMSSignedData(d);return this.setTSTInfo(x),x},this.setTSTInfo=function(d){var v=d.econtent;if(v.type=="tstinfo"){var x=v.content.hex,m=this.getTSTInfo(x);v.content=m}},this.getTSTInfo=function(d){var v={},x=l(d,0),m=a(d,x[1]);v.policy=hextooid(m);var E=o(d,x[2]);v.messageImprint=this.getMessageImprint(E);var y=a(d,x[3]);v.serial={hex:y};var C=a(d,x[4]);v.genTime={str:hextoutf8(C)};var b=0;if(x.length>5&&d.substr(x[5],2)=="30"){var $=o(d,x[5]);v.accuracy=this.getAccuracy($),b++}if(x.length>5+b&&d.substr(x[5+b],2)=="01"){var B=a(d,x[5+b]);B=="ff"&&(v.ordering=!0),b++}if(x.length>5+b&&d.substr(x[5+b],2)=="02"){var w=a(d,x[5+b]);v.nonce={hex:w},b++}if(x.length>5+b&&d.substr(x[5+b],2)=="a0"){var F=o(d,x[5+b]);F="30"+F.substr(2),pGeneralNames=r.getGeneralNames(F);var U=pGeneralNames[0].dn;v.tsa=U,b++}if(x.length>5+b&&d.substr(x[5+b],2)=="a1"){var _=o(d,x[5+b]);_="30"+_.substr(2);var T=r.getExtParamArray(_);v.ext=T,b++}return v},this.getAccuracy=function(d){for(var v={},x=l(d,0),m=0;m<x.length;m++){var E=d.substr(x[m],2),y=a(d,x[m]),C=parseInt(y,16);E=="02"?v.seconds=C:E=="80"?v.millis=C:E=="81"&&(v.micros=C)}return v},this.getMessageImprint=function(d){if(d.substr(0,2)!="30")throw new Error("head of messageImprint hex shall be x30");var v={};l(d,0);var x=u(d,0,[0,0]),m=a(d,x),E=n.hextooidstr(m),y=KJUR.asn1.x509.OID.oid2name(E);if(y=="")throw new Error("hashAlg name undefined: "+E);var C=y,b=u(d,0,[1]);return v.alg=C,v.hash=a(d,b),v},this.getPKIStatusInfo=function(d){var v={},x=l(d,0),m=0;try{var E=a(d,x[0]),y=parseInt(E,16);v.status=c[y]}catch{}if(x.length>1&&d.substr(x[1],2)=="30"){var C=o(d,x[1]);v.statusstr=this.getPKIFreeText(C),m++}if(x.length>m&&d.substr(x[1+m],2)=="03"){var b=o(d,x[1+m]);v.failinfo=this.getPKIFailureInfo(b)}return v},this.getPKIFreeText=function(d){for(var v=[],x=l(d,0),m=0;m<x.length;m++)v.push(n.getString(d,x[m]));return v},this.getPKIFailureInfo=function(d){var v=n.getInt(d,0);return g[v]!=null?g[v]:v},this.getTimeStampReq=function(d){var v={};v.certreq=!1;var x=l(d,0);if(x.length<2)throw new Error("TimeStampReq must have at least 2 items");var m=o(d,x[1]);v.messageImprint=KJUR.asn1.tsp.TSPUtil.parseMessageImprint(m);for(var E=2;E<x.length;E++){var y=x[E],C=d.substr(y,2);if(C=="06"){var b=a(d,y);v.policy=n.hextooidstr(b)}C=="02"&&(v.nonce=a(d,y)),C=="01"&&(v.certreq=!0)}return v}};(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.asn1=="undefined"||!KJUR.asn1)&&(KJUR.asn1={});(typeof KJUR.asn1.cades=="undefined"||!KJUR.asn1.cades)&&(KJUR.asn1.cades={});KJUR.asn1.cades.SignaturePolicyIdentifier=function(e){var r=KJUR,n=r.asn1,a=n.cades,o=a.SignaturePolicyId;a.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new o(this.params)]},this.setByParam=function(u){this.params=u},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cades.SignaturePolicyIdentifier,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.SignaturePolicyId=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.DERObjectIdentifier,u=n.x509;u.AlgorithmIdentifier;var l=n.cades,c=l.SignaturePolicyId,g=l.OtherHashAlgAndValue;c.superclass.constructor.call(this),this.params=null,this.tohex=function(){var d=this.params,v=[];v.push(new o(d.oid)),v.push(new g(d));var x=new a({array:v});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(d){this.params=d},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cades.SignaturePolicyId,KJUR.asn1.ASN1Object);KJUR.asn1.cades.OtherHashAlgAndValue=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSequence,u=a.DEROctetString,l=a.x509,c=l.AlgorithmIdentifier,g=a.cades,d=g.OtherHashAlgAndValue;d.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(v.alg==null)throw new r("property 'alg' not specified");if(v.hash==null&&v.cert==null)throw new r("property 'hash' nor 'cert' not specified");var x=null;if(v.hash!=null)x=v.hash;else if(v.cert!=null){if(typeof v.cert!="string")throw new r("cert not string");var m=v.cert;v.cert.indexOf("-----BEGIN")!=-1&&(m=pemtohex(v.cert)),x=KJUR.crypto.Util.hashHex(m,v.alg)}var E=[];E.push(new c({name:v.alg})),E.push(new u({hex:x}));var y=new o({array:E});return y.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cades.OtherHashAlgAndValue,KJUR.asn1.ASN1Object);KJUR.asn1.cades.OtherHashValue=function(e){KJUR.asn1.cades.OtherHashValue.superclass.constructor.call(this);var r=Error,n=KJUR;n.lang.String.isHex;var a=n.asn1,o=a.DEROctetString;n.crypto.Util.hashHex,this.params=null,this.tohex=function(){var u=this.params;if(u.hash==null&&u.cert==null)throw new r("hash or cert not specified");var l=null;if(u.hash!=null)l=u.hash;else if(u.cert!=null){if(typeof u.cert!="string")throw new r("cert not string");var c=u.cert;u.cert.indexOf("-----BEGIN")!=-1&&(c=pemtohex(u.cert)),l=KJUR.crypto.Util.hashHex(c,"sha1")}return new o({hex:l}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cades.OtherHashValue,KJUR.asn1.ASN1Object);KJUR.asn1.cades.SignatureTimeStamp=function(e){var r=Error,n=KJUR,a=n.lang.String.isHex,o=n.asn1,u=o.ASN1Object;o.x509;var l=o.cades;l.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var c=this.params;if(c.tst!=null)if(a(c.tst)){var g=new u;return g.hTLV=c.tst,[g]}else{if(c.tst instanceof u)return[c.tst];throw new r("params.tst has wrong value")}else if(c.res!=null){var d=c.res;if(d instanceof u&&(d=d.tohex()),typeof d!="string"||!a(d))throw new r("params.res has wrong value");ASN1HEX.getTLVbyList(d,0,[1]);var g=new u;return g.hTLV=c.tst,[g]}},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cades.SignatureTimeStamp,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.CompleteCertificateRefs=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSequence,u=a.cades,l=u.OtherCertID,c=n.lang.String.isHex;u.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var g=this.params,d=[],v=0;v<g.array.length;v++){var x=g.array[v];if(typeof x=="string")if(x.indexOf("-----BEGIN")!=-1)x={cert:x};else if(c(x))x={hash:x};else throw new r("unsupported value: "+x);g.alg!=null&&x.alg==null&&(x.alg=g.alg),g.hasis!=null&&x.hasis==null&&(x.hasis=g.hasis);var m=new l(x);d.push(m)}var E=new o({array:d});return[E]},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cades.CompleteCertificateRefs,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.OtherCertID=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.cms,u=o.IssuerSerial,l=n.cades,c=l.OtherHashValue,g=l.OtherHashAlgAndValue;l.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var d=this.params;typeof d=="string"&&(d.indexOf("-----BEGIN")!=-1?d={cert:d}:_isHex(d)&&(d={hash:d}));var v=[],x=null;if(d.alg!=null?x=new g(d):x=new c(d),v.push(x),d.cert!=null&&d.hasis==!0||d.issuer!=null&&d.serial!=null){var m=new u(d);v.push(m)}var E=new a({array:v});return E.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cades.OtherCertID,KJUR.asn1.ASN1Object);KJUR.asn1.cades.OtherHash=function(e){var r=KJUR,n=r.asn1;n.cms;var a=n.cades,o=a.OtherHashAlgAndValue,u=a.OtherHashValue;r.crypto.Util.hashHex;var l=r.lang.String.isHex;a.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params;typeof c=="string"&&(c.indexOf("-----BEGIN")!=-1?c={cert:c}:l(c)&&(c={hash:c}));var g=null;return c.alg!=null?g=new o(c):g=new u(c),g.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.cades.OtherHash,KJUR.asn1.ASN1Object);KJUR.asn1.cades.CAdESUtil=new function(){};KJUR.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var r=new KJUR.asn1.cms.CMSParser,n=r.getCMSSignedData(e);return n};KJUR.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,r,n){var a=ASN1HEX,o=a.getChildIdx,u=a.getTLV,l=a.getV,c=KJUR,g=c.asn1,d=g.ASN1Object,v=g.cms,x=v.AttributeList,m=v.SignerInfo,E={},y=o(e,r);if(y.length!=6)throw"not supported items for SignerInfo (!=6)";var C=y.shift();E.version=u(e,C);var b=y.shift();E.si=u(e,b);var $=y.shift();E.digalg=u(e,$);var B=y.shift();E.sattrs=u(e,B);var w=y.shift();E.sigalg=u(e,w);var F=y.shift();E.sig=u(e,F),E.sigval=l(e,F);var U=null;return E.obj=new m,U=new d,U.hTLV=E.version,E.obj.dCMSVersion=U,U=new d,U.hTLV=E.si,E.obj.dSignerIdentifier=U,U=new d,U.hTLV=E.digalg,E.obj.dDigestAlgorithm=U,U=new d,U.hTLV=E.sattrs,E.obj.dSignedAttrs=U,U=new d,U.hTLV=E.sigalg,E.obj.dSigAlg=U,U=new d,U.hTLV=E.sig,E.obj.dSig=U,E.obj.dUnsignedAttrs=new x,E};(typeof KJUR.asn1.csr=="undefined"||!KJUR.asn1.csr)&&(KJUR.asn1.csr={});KJUR.asn1.csr.CertificationRequest=function(e){var r=KJUR,n=r.asn1,a=n.DERBitString,o=n.DERSequence,u=n.csr;n.x509;var l=u.CertificationRequestInfo;u.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(c){this.params=c},this.sign=function(){var c=new l(this.params).tohex(),g=new KJUR.crypto.Signature({alg:this.params.sigalg});g.init(this.params.sbjprvkey),g.updateHex(c);var d=g.sign();this.params.sighex=d},this.getPEM=function(){return hextopem(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var c=this.params,g=new KJUR.asn1.csr.CertificationRequestInfo(this.params),d=new KJUR.asn1.x509.AlgorithmIdentifier({name:c.sigalg});if(c.sighex==null&&c.sbjprvkey!=null&&this.sign(),c.sighex==null)throw new Error("sighex or sbjprvkey parameter not defined");var v=new a({hex:"00"+c.sighex}),x=new o({array:[g,d,v]});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.csr.CertificationRequest,KJUR.asn1.ASN1Object);KJUR.asn1.csr.CertificationRequestInfo=function(e){var r=KJUR,n=r.asn1;n.DERBitString;var a=n.DERSequence,o=n.DERInteger,u=n.DERUTF8String,l=n.DERTaggedObject,c=n.ASN1Util.newObject,g=n.csr,d=n.x509,v=d.X500Name,x=d.Extensions,m=d.SubjectPublicKeyInfo;g.AttributeList,g.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(y){y!=null&&(this.params=y)},this.tohex=function(){var y=this.params,C=[];if(C.push(new o({int:0})),C.push(new v(y.subject)),C.push(new m(KEYUTIL.getKey(y.sbjpubkey))),y.attrs!=null){var b=E(y.attrs),$=c({tag:{tage:"a0",obj:b}});C.push($)}else if(y.extreq!=null){var B=new x(y.extreq),$=c({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[B]}]}}});C.push($)}else C.push(new l({tag:"a0",explicit:!1,obj:new u({str:""})}));var w=new a({array:C});return w.tohex()},this.getEncodedHex=function(){return this.tohex()};function E(y){for(var C=Error,b=KJUR.asn1.x509.Extensions,$=[],B=0;B<y.length;B++){var w=y[B],F=w.attr;if(F=="extensionRequest"){var U=new b(w.ext),_={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[U]}]};$.push(_)}else if(F=="unstructuredName"){var _={seq:[{oid:"1.2.840.113549.1.9.2"},{set:w.names}]};$.push(_)}else if(F=="challengePassword"){var _={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:w.password}]}]};$.push(_)}else throw new C("unknown CSR attribute")}return{set:$}}e!=null&&this.setByParam(e)};extendClass(KJUR.asn1.csr.CertificationRequestInfo,KJUR.asn1.ASN1Object);KJUR.asn1.csr.AttributeList=function(e){};extendClass(KJUR.asn1.csr.AttributeList,KJUR.asn1.ASN1Object);KJUR.asn1.csr.CSRUtil=new function(){};KJUR.asn1.csr.CSRUtil.newCSRPEM=function(e){var r=KJUR.asn1.csr,n=new r.CertificationRequest(e),a=n.getPEM();return a};KJUR.asn1.csr.CSRUtil.getParam=function(e,r){var n=ASN1HEX,a=n.getV,o=n.getIdxbyList,u=n.getTLVbyList,l=n.getTLVbyListEx,c=n.getVbyListEx,g=function(B){var w=o(B,0,[0,3,0,0],"06");return a(B,w)!="2a864886f70d01090e"?null:u(B,0,[0,3,0,1,0],"30")},d={};if(e.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1)throw new Error("argument is not PEM file");var v=pemtohex(e,"CERTIFICATE REQUEST");r&&(d.tbs=u(v,0,[0]));try{var x=l(v,0,[0,1]);if(x=="3000")d.subject={};else{var C=new X509;d.subject=C.getX500Name(x)}}catch{}var m=l(v,0,[0,2]),E=KEYUTIL.getKey(m,null,"pkcs8pub");d.sbjpubkey=KEYUTIL.getPEM(E,"PKCS8PUB");var y=g(v),C=new X509;y!=null&&(d.extreq=C.getExtParamArray(y));try{var b=l(v,0,[1],"30"),C=new X509;d.sigalg=C.getAlgorithmIdentifierName(b)}catch{}try{var $=c(v,0,[2]);d.sighex=$}catch{}return d};KJUR.asn1.csr.CSRUtil.verifySignature=function(e){try{var r=null;if(typeof e=="string"&&e.indexOf("-----BEGIN CERTIFICATE REQUEST")!=-1?r=KJUR.asn1.csr.CSRUtil.getParam(e,!0):typeof e=="object"&&e.sbjpubkey!=null&&e.sigalg!=null&&e.sighex!=null&&e.tbs!=null&&(r=e),r==null)return!1;var n=new KJUR.crypto.Signature({alg:r.sigalg});return n.init(r.sbjpubkey),n.updateHex(r.tbs),n.verify(r.sighex)}catch(a){return alert(a),!1}};(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.asn1=="undefined"||!KJUR.asn1)&&(KJUR.asn1={});(typeof KJUR.asn1.ocsp=="undefined"||!KJUR.asn1.ocsp)&&(KJUR.asn1.ocsp={});KJUR.asn1.ocsp.DEFAULT_HASH="sha1";KJUR.asn1.ocsp.OCSPResponse=function(e){KJUR.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),KJUR.asn1.DEREnumerated;var r=KJUR.asn1.ASN1Util.newObject,n=KJUR.asn1.ocsp.ResponseBytes,a=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var o=this.params.resstatus;return typeof o=="number"?o:typeof o!="string"?-1:a.indexOf(o)},this.setByParam=function(o){this.params=o},this.tohex=function(){var o=this.params,u=this._getStatusCode();if(u==-1)throw new Error("responseStatus not supported: "+o.resstatus);if(u!=0)return r({seq:[{enum:{int:u}}]}).tohex();var l=new n(o);return r({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:l}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.OCSPResponse,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.ResponseBytes=function(e){KJUR.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var r=KJUR.asn1,n=r.DERSequence,a=r.DERObjectIdentifier,o=r.DEROctetString,u=r.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(l){this.params=l},this.tohex=function(){var l=this.params;if(l.restype!="ocspBasic")throw new Error("not supported responseType: "+l.restype);var c=new u(l),g=[];g.push(new a({name:"ocspBasic"})),g.push(new o({hex:c.tohex()}));var d=new n({array:g});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.ResponseBytes,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.BasicOCSPResponse=function(e){KJUR.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var r=Error,n=KJUR.asn1,a=n.ASN1Object,o=n.DERSequence;n.DERGeneralizedTime;var u=n.DERTaggedObject,l=n.DERBitString;n.x509.Extensions;var c=n.x509.AlgorithmIdentifier,g=n.ocsp;g.ResponderID,_SingleResponseList=g.SingleResponseList,_ResponseData=g.ResponseData,this.params=null,this.setByParam=function(d){this.params=d},this.sign=function(){var d=this.params,v=d.tbsresp.tohex(),x=new KJUR.crypto.Signature({alg:d.sigalg});x.init(d.reskey),x.updateHex(v),d.sighex=x.sign()},this.tohex=function(){var d=this.params;d.tbsresp==null&&(d.tbsresp=new _ResponseData(d)),d.sighex==null&&d.reskey!=null&&this.sign();var v=[];if(v.push(d.tbsresp),v.push(new c({name:d.sigalg})),v.push(new l({hex:"00"+d.sighex})),d.certs!=null&&d.certs.length!=null){for(var x=[],m=0;m<d.certs.length;m++){var E=d.certs[m],y=null;if(ASN1HEX.isASN1HEX(E))y=E;else if(E.match(/-----BEGIN/))y=pemtohex(E);else throw new r("certs["+m+"] not hex or PEM");x.push(new a({tlv:y}))}var C=new o({array:x});v.push(new u({tag:"a0",explicit:!0,obj:C}))}var b=new o({array:v});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.BasicOCSPResponse,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.ResponseData=function(e){KJUR.asn1.ocsp.ResponseData.superclass.constructor.call(this);var r=KJUR.asn1,n=r.DERSequence,a=r.DERGeneralizedTime,o=r.DERTaggedObject,u=r.x509.Extensions,l=r.ocsp,c=l.ResponderID;_SingleResponseList=l.SingleResponseList,this.params=null,this.tohex=function(){var g=this.params;g.respid!=null,g.prodat!=null,g.array!=null;var d=[];if(d.push(new c(g.respid)),d.push(new a(g.prodat)),d.push(new _SingleResponseList(g.array)),g.ext!=null){var v=new u(g.ext);d.push(new o({tag:"a1",explicit:!0,obj:v}))}var x=new n({array:d});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(g){this.params=g},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.ResponseData,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.ResponderID=function(e){KJUR.asn1.ocsp.ResponderID.superclass.constructor.call(this);var r=KJUR,n=r.asn1,a=n.ASN1Util.newObject,o=n.x509.X500Name,u=r.lang.String.isHex,l=Error;this.params=null,this.tohex=function(){var c=this.params;if(c.key!=null){var g=null;if(typeof c.key=="string"){if(u(c.key)&&(g=c.key),c.key.match(/-----BEGIN CERTIFICATE/)){var d=new X509(c.key),v=d.getExtSubjectKeyIdentifier();v!=null&&(g=v.kid.hex)}}else if(c.key instanceof X509){var v=c.key.getExtSubjectKeyIdentifier();v!=null&&(g=v.kid.hex)}if(g==null)throw new l("wrong key member value");var x=a({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:g}}}});return x.tohex()}else if(c.name!=null){var m=null;if(typeof c.name=="string"&&c.name.match(/-----BEGIN CERTIFICATE/)){var d=new X509(c.name);m=d.getSubject()}else c.name instanceof X509?m=c.name.getSubject():typeof c.name=="object"&&(c.name.array!=null||c.name.str!=null)&&(m=c.name);if(m==null)throw new l("wrong name member value");var x=a({tag:{tag:"a1",explicit:!0,obj:new o(m)}});return x.tohex()}throw new l("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(c){this.params=c},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.ResponderID,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.SingleResponseList=function(e){KJUR.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var r=KJUR.asn1,n=r.DERSequence,a=r.ocsp.SingleResponse;this.params=null,this.tohex=function(){var o=this.params;if(typeof o!="object"||o.length==null)throw new Error("params not specified properly");for(var u=[],l=0;l<o.length;l++)u.push(new a(o[l]));var c=new n({array:u});return c.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(o){this.params=o},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.SingleResponseList,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.SingleResponse=function(e){var r=Error,n=KJUR,a=n.asn1,o=a.DERSequence,u=a.DERGeneralizedTime,l=a.DERTaggedObject,c=a.ocsp,g=c.CertID,d=c.CertStatus,v=a.x509,x=v.Extensions;c.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var m=this.params,E=[];if(m.certid==null)throw new r("certid unspecified");if(m.status==null)throw new r("status unspecified");if(m.thisupdate==null)throw new r("thisupdate unspecified");if(E.push(new g(m.certid)),E.push(new d(m.status)),E.push(new u(m.thisupdate)),m.nextupdate!=null){var y=new u(m.nextupdate);E.push(new l({tag:"a0",explicit:!0,obj:y}))}if(m.ext!=null){var C=new x(m.ext);E.push(new l({tag:"a1",explicit:!0,obj:C}))}var b=new o({array:E});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(m){this.params=m},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.SingleResponse,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.CertID=function(e){var r=KJUR,n=r.asn1,a=n.DEROctetString,o=n.DERInteger,u=n.DERSequence,l=n.x509,c=l.AlgorithmIdentifier,g=n.ocsp;g.DEFAULT_HASH;var d=r.crypto,v=d.Util.hashHex,x=X509,m=ASN1HEX,E=m.getVbyList;g.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(y,C,b,$){$==null&&($=this.DEFAULT_HASH),this.params={alg:$,issname:y,isskey:C,sbjsn:b}},this.setByCert=function(y,C,b){b==null&&(b=this.DEFAULT_HASH),this.params={alg:b,issuerCert:y,subjectCert:C}},this.getParamByCerts=function(y,C,b){b==null&&(b=this.DEFAULT_HASH);var $=new x(y),B=new x(C),w=v($.getSubjectHex(),b),F=$.getPublicKeyHex(),U=v(E(F,0,[1],"03",!0),b),_=B.getSerialNumberHex(),T={alg:b,issname:w,isskey:U,sbjsn:_};return T},this.tohex=function(){if(typeof this.params!="object")throw new Error("params not set");var y=this.params,C,b,$,B;if(y.alg==null?B=this.DEFAULT_HASH:B=y.alg,y.issuerCert!=null&&y.subjectCert!=null){var w=this.getParamByCerts(y.issuerCert,y.subjectCert,B);C=w.issname,b=w.isskey,$=w.sbjsn}else if(y.issname!=null&&y.isskey!=null&&y.sbjsn!=null)C=y.issname,b=y.isskey,$=y.sbjsn;else throw new Error("required param members not defined");var F=new c({name:B}),U=new a({hex:C}),_=new a({hex:b}),T=new o({hex:$}),k=new u({array:[F,U,_,T]});return this.hTLV=k.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.CertID,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.CertStatus=function(e){KJUR.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var r=this.params;if(r.status=="good")return"8000";if(r.status=="unknown")return"8200";if(r.status=="revoked"){var n=[{gentime:{str:r.time}}];r.reason!=null&&n.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:r.reason}}}});var a={tag:"a1",explicit:!1,obj:{seq:n}};return KJUR.asn1.ASN1Util.newObject({tag:a}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(r){this.params=r},e!==void 0&&this.setByParam(e)};extendClass(KJUR.asn1.ocsp.CertStatus,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.Request=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.ocsp;if(o.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var l=[];if(this.dReqCert===null)throw"reqCert not set";l.push(this.dReqCert);var c=new a({array:l});return this.hTLV=c.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof e!="undefined"){var u=new o.CertID(e);this.dReqCert=u}};extendClass(KJUR.asn1.ocsp.Request,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.TBSRequest=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.ocsp;o.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(u){for(var l=[],c=0;c<u.length;c++){var g=new o.Request(u[0]);l.push(g)}this.dRequestList=l},this.tohex=function(){var u=[];if(this.version!==0)throw"not supported version: "+this.version;if(this.dRequestorName!==null)throw"requestorName not supported";var l=new a({array:this.dRequestList});if(u.push(l),this.dRequestExt!==null)throw"requestExtensions not supported";var c=new a({array:u});return this.hTLV=c.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&e.reqList!==void 0&&this.setRequestListByParam(e.reqList)};extendClass(KJUR.asn1.ocsp.TBSRequest,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.OCSPRequest=function(e){var r=KJUR,n=r.asn1,a=n.DERSequence,o=n.ocsp;if(o.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var l=[];if(this.dTbsRequest!==null)l.push(this.dTbsRequest);else throw"tbsRequest not set";if(this.dOptionalSignature!==null)throw"optionalSignature not supported";var c=new a({array:l});return this.hTLV=c.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&e.reqList!==void 0){var u=new o.TBSRequest(e);this.dTbsRequest=u}};extendClass(KJUR.asn1.ocsp.OCSPRequest,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.OCSPUtil={};KJUR.asn1.ocsp.OCSPUtil.getRequestHex=function(e,r,n){var a=KJUR,o=a.asn1,u=o.ocsp;n===void 0&&(n=u.DEFAULT_HASH);var l={alg:n,issuerCert:e,subjectCert:r},c=new u.OCSPRequest({reqList:[l]});return c.tohex()};KJUR.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var r=ASN1HEX,n=r.getVbyList,a=r.getVbyListEx,o=r.getIdxbyList;r.getIdxbyListEx;var u=r.getV,l={};try{var c=a(e,0,[0],"0a");l.responseStatus=parseInt(c,16)}catch{}if(l.responseStatus!==0)return l;try{var g=o(e,0,[1,0,1,0,0,2,0,1]);e.substr(g,2)==="80"?l.certStatus="good":e.substr(g,2)==="a1"?(l.certStatus="revoked",l.revocationTime=hextoutf8(n(e,g,[0]))):e.substr(g,2)==="82"&&(l.certStatus="unknown")}catch{}try{var d=o(e,0,[1,0,1,0,0,2,0,2]);l.thisUpdate=hextoutf8(u(e,d))}catch{}try{var v=o(e,0,[1,0,1,0,0,2,0,3]);e.substr(v,2)==="a0"&&(l.nextUpdate=hextoutf8(n(e,v,[0])))}catch{}return l};KJUR.asn1.ocsp.OCSPParser=function(){var e=Error,r=X509,n=new r,a=ASN1HEX,o=a.getV,u=a.getTLV,l=a.getIdxbyList,c=a.getVbyList,g=a.getTLVbyList,d=a.getVbyListEx,v=a.getTLVbyListEx,x=a.getChildIdx;this.getOCSPRequest=function(m){var E=x(m,0);if(E.length!=1&&E.length!=2)throw new e("wrong number elements: "+E.length);var y=this.getTBSRequest(u(m,E[0]));return y},this.getTBSRequest=function(m){var E={},y=v(m,0,[0],"30");E.array=this.getRequestList(y);var C=v(m,0,["[2]",0],"30");return C!=null&&(E.ext=n.getExtParamArray(C)),E},this.getRequestList=function(m){for(var E=[],y=x(m,0),C=0;C<y.length;C++){var m=u(m,y[C]);E.push(this.getRequest(m))}return E},this.getRequest=function(m){var E=x(m,0);if(E.length!=1&&E.length!=2)throw new e("wrong number elements: "+E.length);var y=this.getCertID(u(m,E[0]));if(E.length==2){var C=l(m,0,[1,0]);y.ext=n.getExtParamArray(u(m,C))}return y},this.getCertID=function(m){var E=x(m,0);if(E.length!=4)throw new e("wrong number elements: "+E.length);var y=new r,C={};return C.alg=y.getAlgorithmIdentifierName(u(m,E[0])),C.issname=o(m,E[1]),C.isskey=o(m,E[2]),C.sbjsn=o(m,E[3]),C},this.getOCSPResponse=function(m){var E=x(m,0),y,C=o(m,E[0]),b=parseInt(C);if(E.length==1)return{resstatus:b};var $=g(m,0,[1,0]);return y=this.getResponseBytes($),y.resstatus=b,y},this.getResponseBytes=function(m){var E=x(m,0),y,C=g(m,0,[1,0]);y=this.getBasicOCSPResponse(C);var b=o(m,E[0]);return y.restype=KJUR.asn1.x509.OID.oid2name(hextooid(b)),y},this.getBasicOCSPResponse=function(m){var E=x(m,0),y;y=this.getResponseData(u(m,E[0]));var C=new X509;y.alg=C.getAlgorithmIdentifierName(u(m,E[1]));var b=o(m,E[2]);y.sighex=b.substr(2);var $=d(m,0,["[0]"]);if($!=null){for(var B=x($,0),w=[],F=0;F<B.length;F++){var U=u($,B[F]);w.push(U)}y.certs=w}return y},this.getResponseData=function(m){var E=x(m,0),y=E.length,C={},b=0;m.substr(E[0],2)=="a0"&&b++,C.respid=this.getResponderID(u(m,E[b++]));var $=o(m,E[b++]);if(C.prodat=hextoutf8($),C.array=this.getSingleResponseList(u(m,E[b++])),m.substr(E[y-1],2)=="a1"){var B=g(m,E[y-1],[0]),w=new X509;C.ext=w.getExtParamArray(B)}return C},this.getResponderID=function(m){var E={};if(m.substr(0,2)=="a2"){var y=c(m,0,[0]);E.key=y}if(m.substr(0,2)=="a1"){var C=g(m,0,[0]),b=new X509;E.name=b.getX500Name(C)}return E},this.getSingleResponseList=function(m){for(var E=x(m,0),y=[],C=0;C<E.length;C++){var b=this.getSingleResponse(u(m,E[C]));y.push(b)}return y},this.getSingleResponse=function(m){var E=x(m,0),y={},C=this.getCertID(u(m,E[0]));y.certid=C;var b=this.getCertStatus(u(m,E[1]));if(y.status=b,m.substr(E[2],2)=="18"){var $=o(m,E[2]);y.thisupdate=hextoutf8($)}for(var B=3;B<E.length;B++){if(m.substr(E[B],2)=="a0"){var w=c(m,E[B],[0],"18");y.nextupdate=hextoutf8(w)}if(m.substr(E[B],2)=="a1"){var F=new X509,U=g(m,0,[B,0]);y.ext=F.getExtParamArray(U)}}return y},this.getCertStatus=function(m){var E={};if(m=="8000")return{status:"good"};if(m=="8200")return{status:"unknown"};if(m.substr(0,2)=="a1"){E.status="revoked";var y=c(m,0,[0]),C=hextoutf8(y);E.time=C}return E}};var KJUR;(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.lang=="undefined"||!KJUR.lang)&&(KJUR.lang={});KJUR.lang.String=function(){};function stoBA(e){for(var r=new Array,n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}function BAtohex(e){for(var r="",n=0;n<e.length;n++){var a=e[n].toString(16);a.length==1&&(a="0"+a),r=r+a}return r}function stohex(e){return BAtohex(stoBA(e))}function b64tob64u(e){return e=e.replace(/\=/g,""),e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e}function b64utob64(e){return e.length%4==2?e=e+"==":e.length%4==3&&(e=e+"="),e=e.replace(/-/g,"+"),e=e.replace(/_/g,"/"),e}function hextob64u(e){return e.length%2==1&&(e="0"+e),b64tob64u(hex2b64(e))}function b64utohex(e){return b64tohex(b64utob64(e))}var utf8tob64u,b64utoutf8;typeof Buffer=="function"?(utf8tob64u=function(e){return b64tob64u(Buffer.from(e,"utf8").toString("base64"))},b64utoutf8=function(e){return Buffer.from(b64utob64(e),"base64").toString("utf8")}):(utf8tob64u=function(e){return hextob64u(uricmptohex(encodeURIComponentAll(e)))},b64utoutf8=function(e){return decodeURIComponent(hextouricmp(b64utohex(e)))});function utf8tohex(e){return uricmptohex(encodeURIComponentAll(e)).toLowerCase()}function hextoutf8(e){try{return decodeURIComponent(hextouricmp(e))}catch{return null}}function iso88591hextoutf8(e){return hextoutf8(iso88591hextoutf8hex(e))}function iso88591hextoutf8hex(e){for(var r=e.match(/.{1,2}/g),n=[],a=0;a<r.length;a++){var o=parseInt(r[a],16);161<=o&&o<=191?(n.push("c2"),n.push(r[a])):192<=o&&o<=255?(n.push("c3"),n.push((o-64).toString(16))):n.push(r[a])}return n.join("")}function hextorstr(e){for(var r="",n=0;n<e.length-1;n+=2)r+=String.fromCharCode(parseInt(e.substr(n,2),16));return r}function rstrtohex(e){for(var r="",n=0;n<e.length;n++)r+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return r}function hextob64(e){return hex2b64(e)}function foldnl(e,r){return e=e.replace(new RegExp("(.{"+r+"})","g"),`$1\r
`),e=e.replace(/\s+$/,""),e}function b64nltohex(e){var r=e.replace(/[^0-9A-Za-z\/+=]*/g,""),n=b64tohex(r);return n}function hextopem(e,r){return"-----BEGIN "+r+`-----\r
`+foldnl(hextob64(e),64)+`\r
-----END `+r+`-----\r
`}function pemtohex(e,r){if(e.indexOf("-----BEGIN ")==-1)throw new Error("can't find PEM header");return r!==void 0?(e=e.replace(new RegExp("^[^]*-----BEGIN "+r+"-----"),""),e=e.replace(new RegExp("-----END "+r+"-----[^]*$"),"")):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,""),e=e.replace(/-----END [^-]+-----[^]*$/,"")),b64nltohex(e)}function zulutomsec(e){var r,n,a,o,u,l,c,g,d,v;if(e=timetogen(e),v=e.match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/),v)return r=parseInt(v[1]),n=parseInt(v[2])-1,a=parseInt(v[3]),o=parseInt(v[4]),u=parseInt(v[5]),l=parseInt(v[6]),c=0,g=v[7],g!==""&&(d=(g.substr(1)+"00").substr(0,3),c=parseInt(d)),Date.UTC(r,n,a,o,u,l,c);throw new Error("unsupported zulu format: "+e)}function zulutosec(e){return Math.round(zulutomsec(e)/1e3)}function timetogen(e){return e.match(/^[0-9]{12}Z$/)||e.match(/^[0-9]{12}[.][0-9]*Z$/)?e.match(/^[0-4]/)?"20"+e:"19"+e:e}function uricmptohex(e){return e.replace(/%/g,"")}function hextouricmp(e){return e.replace(/(..)/g,"%$1")}function ipv6tohex(e){var r="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw r;e=e.toLowerCase();var n=e.split(":").length-1;if(n<2)throw r;var a=":".repeat(7-n+2);e=e.replace("::",a);var o=e.split(":");if(o.length!=8)throw r;for(var u=0;u<8;u++)o[u]=("0000"+o[u]).slice(-4);return o.join("")}function hextoipv6(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);e=e.toLowerCase();var r=e.match(/.{1,4}/g);r=r.map(function(o){return o.replace(/^0+/,"")}),r=r.map(function(o){return o==""?"0":o}),e=":"+r.join(":")+":";var n=e.match(/:(0:){2,}/g);if(n==null)return e.slice(1,-1);var a=n.sort().slice(-1)[0];return e=e.replace(a.substr(0,a.length-1),":"),e.substr(0,2)!="::"&&(e=e.substr(1)),e.substr(-2,2)!="::"&&(e=e.substr(0,e.length-1)),e}function hextoip(e){var r=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw r;if(e.length==8){var n;try{return n=parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16),n}catch{throw r}}else if(e.length==16)try{return hextoip(e.substr(0,8))+"/"+ipprefixlen(e.substr(8))}catch{throw r}else{if(e.length==32)return hextoipv6(e);if(e.length==64){try{return hextoipv6(e.substr(0,32))+"/"+ipprefixlen(e.substr(32))}catch{throw r}return}else return e}}function ipprefixlen(e){var r=new Error("malformed mask"),n;try{n=new BigInteger$5(e,16).toString(2)}catch{throw r}if(!n.match(/^1*0*$/))throw r;return n.replace(/0+$/,"").length}function iptohex(e){var r=new Error("malformed IP address");if(e=e.toLowerCase(e),!e.match(/^[0-9a-f.:/]+$/))throw r;if(e.match(/^[0-9.]+$/)){var n=e.split(".");if(n.length!==4)throw r;var a="";try{for(var o=0;o<4;o++){var u=parseInt(n[o]);a+=("0"+u.toString(16)).slice(-2)}return a}catch{throw r}}else if(e.match(/^[0-9.]+\/[0-9]+$/)){var l=e.split("/");return iptohex(l[0])+ipnetmask(parseInt(l[1]),32)}else{if(e.match(/^[0-9a-f:]+$/)&&e.indexOf(":")!==-1)return ipv6tohex(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&e.indexOf(":")!==-1){var l=e.split("/");return ipv6tohex(l[0])+ipnetmask(parseInt(l[1]),128)}else throw r}}function ipnetmask(e,r){if(r==32&&e==0)return"00000000";if(r==128&&e==0)return"00000000000000000000000000000000";var n=Array(e+1).join("1")+Array(r-e+1).join("0");return new BigInteger$5(n,2).toString(16)}function ucs2hextoutf8(e){function r(o){var u=parseInt(o.substr(0,2),16),l=parseInt(o.substr(2),16);if(u==0&l<128)return String.fromCharCode(l);if(u<8){var c=192|(u&7)<<3|(l&192)>>6,g=128|l&63;return hextoutf8(c.toString(16)+g.toString(16))}var c=224|(u&240)>>4,g=128|(u&15)<<2|(l&192)>>6,d=128|l&63;return hextoutf8(c.toString(16)+g.toString(16)+d.toString(16))}var n=e.match(/.{4}/g),a=n.map(r);return a.join("")}function encodeURIComponentAll(e){for(var r=encodeURIComponent(e),n="",a=0;a<r.length;a++)r[a]=="%"?(n=n+r.substr(a,3),a=a+2):n=n+"%"+stohex(r[a]);return n}KJUR.lang.String.isInteger=function(e){return e.match(/^[0-9]+$/)?!0:!!e.match(/^-[0-9]+$/)};KJUR.lang.String.isHex=function(e){return ishex(e)};function ishex(e){return!!(e.length%2==0&&(e.match(/^[0-9a-f]+$/)||e.match(/^[0-9A-F]+$/)))}KJUR.lang.String.isBase64=function(e){return e=e.replace(/\s+/g,""),!!(e.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&e.length%4==0)};KJUR.lang.String.isBase64URL=function(e){return e.match(/[+/=]/)?!1:(e=b64utob64(e),KJUR.lang.String.isBase64(e))};function isBase64URLDot(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}KJUR.lang.String.isIntegerArray=function(e){return e=e.replace(/\s+/g,""),!!e.match(/^\[[0-9,]+\]$/)};KJUR.lang.String.isPrintable=function(e){return e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null};KJUR.lang.String.isIA5=function(e){return e.match(/^[\x20-\x21\x23-\x7f]*$/)!==null};KJUR.lang.String.isMail=function(e){return e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};function hextoposhex(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function oidtohex(e){var r=function(c){var g=c.toString(16);return g.length==1&&(g="0"+g),g},n=function(c){var g="",d=parseInt(c,10),v=d.toString(2),x=7-v.length%7;x==7&&(x=0);for(var m="",E=0;E<x;E++)m+="0";v=m+v;for(var E=0;E<v.length-1;E+=7){var y=v.substr(E,7);E!=v.length-7&&(y="1"+y),g+=r(parseInt(y,2))}return g};try{if(!e.match(/^[0-9.]+$/))return null;var a="",o=e.split("."),u=parseInt(o[0],10)*40+parseInt(o[1],10);a+=r(u),o.splice(0,2);for(var l=0;l<o.length;l++)a+=n(o[l]);return a}catch{return null}}function hextooid(e){if(!ishex(e))return null;try{var r=[],n=e.substr(0,2),a=parseInt(n,16);r[0]=new String(Math.floor(a/40)),r[1]=new String(a%40);for(var o=e.substr(2),u=[],l=0;l<o.length/2;l++)u.push(parseInt(o.substr(l*2,2),16));for(var c=[],g="",l=0;l<u.length;l++)u[l]&128?g=g+strpad((u[l]&127).toString(2),7):(g=g+strpad((u[l]&127).toString(2),7),c.push(new String(parseInt(g,2))),g="");var d=r.join(".");return c.length>0&&(d=d+"."+c.join(".")),d}catch{return null}}function inttohex(e){var r=new BigInteger$5(String(e),10);return twoscompl(r)}function twoscompl(e){var r=e.toString(16);if(r.substr(0,1)!="-")return r.length%2==1?r="0"+r:r.match(/^[0-7]/)||(r="00"+r),r;var n=r.substr(1),a=n.length;a%2==1?a+=1:r.match(/^[0-7]/)||(a+=2);for(var o="",u=0;u<a;u++)o+="f";var l=new BigInteger$5(o,16),c=l.xor(e).add(BigInteger$5.ONE);return r=c.toString(16).replace(/^-/,""),r}var strpad=function(e,r,n){return n==null&&(n="0"),e.length>=r?e:new Array(r-e.length+1).join(n)+e};function bitstrtoint(e){if(e.length%2!=0||(e=e.toLowerCase(),e.match(/^[0-9a-f]+$/)==null))return-1;try{var r=e.substr(0,2);if(r=="00")return parseInt(e.substr(2),16);var n=parseInt(r,16);if(n>7)return-1;var a=e.substr(2),o=parseInt(a,16).toString(2);o=="0"&&(o="00000000"),o=o.slice(0,0-n);var u=parseInt(o,2);return u==NaN?-1:u}catch{return-1}}function bitstrtobinstr(e){if(typeof e!="string"||e.length%2!=0||!e.match(/^[0-9a-f]+$/))return null;try{var r=parseInt(e.substr(0,2),16);if(r<0||7<r)return null;for(var n=e.substr(2),a="",o=0;o<n.length;o+=2){var u=n.substr(o,2),l=parseInt(u,16).toString(2);l=("0000000"+l).slice(-8),a+=l}return a.substr(0,a.length-r)}catch{return null}}function namearraytobinstr(e,r){for(var n=0,a=0;a<e.length;a++)n|=1<<r[e[a]];for(var o=n.toString(2),u="",a=o.length-1;a>=0;a--)u+=o[a];return u}function aryval(e,a,n){if(typeof e=="object"){for(var a=String(a).split("."),o=0;o<a.length&&e;o++){var u=a[o];u.match(/^[0-9]+$/)&&(u=parseInt(u)),e=e[u]}return e||e===!1?e:n}}function extendClass(e,r){var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r)}(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.crypto=="undefined"||!KJUR.crypto)&&(KJUR.crypto={});KJUR.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:CryptoJS$1.algo.MD5,sha1:CryptoJS$1.algo.SHA1,sha224:CryptoJS$1.algo.SHA224,sha256:CryptoJS$1.algo.SHA256,sha384:CryptoJS$1.algo.SHA384,sha512:CryptoJS$1.algo.SHA512,ripemd160:CryptoJS$1.algo.RIPEMD160},this.getDigestInfoHex=function(e,r){if(typeof this.DIGESTINFOHEAD[r]=="undefined")throw"alg not supported in Util.DIGESTINFOHEAD: "+r;return this.DIGESTINFOHEAD[r]+e},this.getPaddedDigestInfoHex=function(e,r,n){var a=this.getDigestInfoHex(e,r),o=n/4;if(a.length+22>o)throw"key is too short for SigAlg: keylen="+n+","+r;for(var u="0001",l="00"+a,c="",g=o-u.length-l.length,d=0;d<g;d+=2)c+="ff";var v=u+c+l;return v},this.hashString=function(e,r){var n=new KJUR.crypto.MessageDigest({alg:r});return n.digestString(e)},this.hashHex=function(e,r){var n=new KJUR.crypto.MessageDigest({alg:r});return n.digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof RSAKey||e instanceof KJUR.crypto.DSA||e instanceof KJUR.crypto.ECDSA}};KJUR.crypto.Util.md5=function(e){var r=new KJUR.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return r.digestString(e)};KJUR.crypto.Util.ripemd160=function(e){var r=new KJUR.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return r.digestString(e)};KJUR.crypto.Util.SECURERANDOMGEN=new SecureRandom;KJUR.crypto.Util.getRandomHexOfNbytes=function(e){var r=new Array(e);return KJUR.crypto.Util.SECURERANDOMGEN.nextBytes(r),BAtohex(r)};KJUR.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new BigInteger$5(KJUR.crypto.Util.getRandomHexOfNbytes(e),16)};KJUR.crypto.Util.getRandomHexOfNbits=function(e){var r=e%8,n=(e-r)/8,a=new Array(n+1);return KJUR.crypto.Util.SECURERANDOMGEN.nextBytes(a),a[0]=(255<<r&255^255)&a[0],BAtohex(a)};KJUR.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new BigInteger$5(KJUR.crypto.Util.getRandomHexOfNbits(e),16)};KJUR.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var r=e.bitLength();;){var n=KJUR.crypto.Util.getRandomBigIntegerOfNbits(r);if(e.compareTo(n)!=-1)return n}};KJUR.crypto.Util.getRandomBigIntegerMinToMax=function(e,r){var n=e.compareTo(r);if(n==1)throw"biMin is greater than biMax";if(n==0)return e;var a=r.subtract(e),o=KJUR.crypto.Util.getRandomBigIntegerZeroToMax(a);return o.add(e)};KJUR.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(r,n){if(r=KJUR.crypto.MessageDigest.getCanonicalAlgName(r),r!==null&&n===void 0&&(n=KJUR.crypto.Util.DEFAULTPROVIDER[r]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)!=-1&&n=="cryptojs"){try{this.md=KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r].create()}catch(a){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+a}this.updateString=function(a){this.md.update(a)},this.updateHex=function(a){var o=CryptoJS$1.enc.Hex.parse(a);this.md.update(o)},this.digest=function(){var a=this.md.finalize();return a.toString(CryptoJS$1.enc.Hex)},this.digestString=function(a){return this.updateString(a),this.digest()},this.digestHex=function(a){return this.updateHex(a),this.digest()}}if(":sha256:".indexOf(r)!=-1&&n=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(a){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+a}this.updateString=function(a){this.md.update(a)},this.updateHex=function(a){var o=sjcl.codec.hex.toBits(a);this.md.update(o)},this.digest=function(){var a=this.md.finalize();return sjcl.codec.hex.fromBits(a)},this.digestString=function(a){return this.updateString(a),this.digest()},this.digestHex=function(a){return this.updateHex(a),this.digest()}}},this.updateString=function(r){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(r){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(r){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},e!==void 0&&e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))};KJUR.crypto.MessageDigest.getCanonicalAlgName=function(e){return typeof e=="string"&&(e=e.toLowerCase(),e=e.replace(/-/,"")),e};KJUR.crypto.MessageDigest.getHashLength=function(e){var r=KJUR.crypto.MessageDigest,n=r.getCanonicalAlgName(e);if(r.HASHLENGTH[n]===void 0)throw"not supported algorithm: "+e;return r.HASHLENGTH[n]};KJUR.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};KJUR.crypto.Mac=function(e){this.setAlgAndProvider=function(r,n){if(r=r.toLowerCase(),r==null&&(r="hmacsha1"),r=r.toLowerCase(),r.substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+r;n===void 0&&(n=KJUR.crypto.Util.DEFAULTPROVIDER[r]),this.algProv=r+"/"+n;var a=r.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(a)!=-1&&n=="cryptojs"){try{var o=KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[a];this.mac=CryptoJS$1.algo.HMAC.create(o,this.pass)}catch(u){throw"setAlgAndProvider hash alg set fail hashAlg="+a+"/"+u}this.updateString=function(u){this.mac.update(u)},this.updateHex=function(u){var l=CryptoJS$1.enc.Hex.parse(u);this.mac.update(l)},this.doFinal=function(){var u=this.mac.finalize();return u.toString(CryptoJS$1.enc.Hex)},this.doFinalString=function(u){return this.updateString(u),this.doFinal()},this.doFinalHex=function(u){return this.updateHex(u),this.doFinal()}}},this.updateString=function(r){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(r){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(r){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(r){if(typeof r=="string"){var n=r;(r.length%2==1||!r.match(/^[0-9A-Fa-f]+$/))&&(n=rstrtohex(r)),this.pass=CryptoJS$1.enc.Hex.parse(n);return}if(typeof r!="object")throw"KJUR.crypto.Mac unsupported password type: "+r;var n=null;if(r.hex!==void 0){if(r.hex.length%2!=0||!r.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+r.hex;n=r.hex}if(r.utf8!==void 0&&(n=utf8tohex(r.utf8)),r.rstr!==void 0&&(n=rstrtohex(r.rstr)),r.b64!==void 0&&(n=b64tohex(r.b64)),r.b64u!==void 0&&(n=b64utohex(r.b64u)),n==null)throw"KJUR.crypto.Mac unsupported password type: "+r;this.pass=CryptoJS$1.enc.Hex.parse(n)},e!==void 0&&(e.pass!==void 0&&this.setPassword(e.pass),e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))};KJUR.crypto.Signature=function(e){var r=null;if(this._setAlgNames=function(){var n=this.algName.match(/^(.+)with(.+)$/);n&&(this.mdAlgName=n[1].toLowerCase(),this.pubkeyAlgName=n[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(n,a){for(var o="",u=a/4-n.length,l=0;l<u;l++)o=o+"0";return o+n},this.setAlgAndProvider=function(n,a){if(this._setAlgNames(),a!="cryptojs/jsrsa")throw new Error("provider not supported: "+a);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new KJUR.crypto.MessageDigest({alg:this.mdAlgName})}catch(o){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+o)}this.init=function(o,u){var l=null;try{u===void 0?l=KEYUTIL.getKey(o):l=KEYUTIL.getKey(o,u)}catch(c){throw"init failed:"+c}if(l.isPrivate===!0)this.prvKey=l,this.state="SIGN";else if(l.isPublic===!0)this.pubKey=l,this.state="VERIFY";else throw"init failed.:"+l},this.updateString=function(o){this.md.updateString(o)},this.updateHex=function(o){this.md.updateHex(o)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&KJUR.crypto.ECDSA!==void 0&&(this.prvKey=new KJUR.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof RSAKey&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof KJUR.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else if(this.prvKey instanceof KJUR.crypto.DSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;return this.hSign},this.signString=function(o){return this.updateString(o),this.sign()},this.signHex=function(o){return this.updateHex(o),this.sign()},this.verify=function(o){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&KJUR.crypto.ECDSA!==void 0&&(this.pubKey=new KJUR.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof RSAKey&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,o,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,o);if(KJUR.crypto.ECDSA!==void 0&&this.pubKey instanceof KJUR.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,o);if(KJUR.crypto.DSA!==void 0&&this.pubKey instanceof KJUR.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,o);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(n,a){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(n){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(n){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(n){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(n){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(n){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,e!==void 0&&(e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0?this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),e.psssaltlen!==void 0&&(this.pssSaltLen=e.psssaltlen),e.prvkeypem!==void 0)){if(e.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{var r=KEYUTIL.getKey(e.prvkeypem);this.init(r)}catch(n){throw"fatal error to load pem private key: "+n}}};KJUR.crypto.Cipher=function(e){};KJUR.crypto.Cipher.encrypt=function(e,r,n,a){if(aryval(a,"enclag")!=null&&(n=a.encalg),typeof n=="string"&&n.substr(-4)=="-CBC"){var o=r,u=e;aryval(a,"key")!=null&&(o=a.key),aryval(a,"enc")!=null&&(hEnc=a.enc);var l=CryptoJS$1.enc.Hex.parse(o),c=CryptoJS$1.enc.Hex.parse(u),g=CryptoJS$1.enc.Hex.parse(a.iv),d;if(n=="des-EDE3-CBC")d=CryptoJS$1.TripleDES.encrypt(c,l,{iv:g});else if(n=="aes128-CBC"||n=="aes256-CBC")d=CryptoJS$1.AES.encrypt(c,l,{iv:g});else throw new Error("unsupported algorithm: "+n);return d+""}else if(r instanceof RSAKey&&r.isPublic){var v=KJUR.crypto.Cipher.getAlgByKeyAndName(r,n);if(v==="RSA")return r.encrypt(e);if(v==="RSAOAEP")return r.encryptOAEP(e,"sha1");var x=v.match(/^RSAOAEP(\d+)$/);if(x!==null)return r.encryptOAEP(e,"sha"+x[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}else throw"Cipher.encrypt: unsupported key or algorithm"};KJUR.crypto.Cipher.decrypt=function(e,r,n,a){if(aryval(a,"enclag")!=null&&(n=a.encalg),typeof n=="string"&&n.substr(-4)=="-CBC"){var o=r,u=e;aryval(a,"key")!=null&&(o=a.key),aryval(a,"enc")!=null&&(u=a.enc);var l=CryptoJS$1.enc.Hex.parse(o),c=CryptoJS$1.enc.Hex.parse(u),g=CryptoJS$1.enc.Hex.parse(a.iv),d;if(n=="des-EDE3-CBC")d=CryptoJS$1.TripleDES.decrypt({ciphertext:c},l,{iv:g});else if(n=="aes128-CBC"||n=="aes256-CBC")d=CryptoJS$1.AES.decrypt({ciphertext:c},l,{iv:g});else throw new Error("unsupported algorithm: "+n);return CryptoJS$1.enc.Hex.stringify(d)}else if(r instanceof RSAKey&&r.isPrivate){var v=KJUR.crypto.Cipher.getAlgByKeyAndName(r,n);if(v==="RSA")return r.decrypt(e);if(v==="RSAOAEP")return r.decryptOAEP(e,"sha1");var x=v.match(/^RSAOAEP(\d+)$/);if(x!==null)return r.decryptOAEP(e,"sha"+x[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}else throw"Cipher.decrypt: unsupported key or algorithm"};KJUR.crypto.Cipher.getAlgByKeyAndName=function(e,r){if(e instanceof RSAKey){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(r)!=-1)return r;if(r==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+r}throw"getAlgByKeyAndName: not supported algorithm name: "+r};KJUR.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.crypto=="undefined"||!KJUR.crypto)&&(KJUR.crypto={});KJUR.crypto.ECDSA=function(e){var r="secp256r1",n=Error,a=BigInteger$5,o=ECPointFp,u=KJUR.crypto.ECDSA,l=KJUR.crypto.ECParameterDB,c=u.getName,g=ASN1HEX,d=g.getVbyListEx,v=g.isASN1HEX,x=new SecureRandom;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(m){return new a(m.bitLength(),x).mod(m.subtract(a.ONE)).add(a.ONE)},this.setNamedCurve=function(m){this.ecparams=l.getByName(m),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=m},this.setPrivateKeyHex=function(m){this.isPrivate=!0,this.prvKeyHex=m},this.setPublicKeyHex=function(m){this.isPublic=!0,this.pubKeyHex=m},this.getPublicKeyXYHex=function(){var m=this.pubKeyHex;if(m.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var E=this.ecparams.keycharlen;if(m.length!==2+E*2)throw"malformed public key hex length";var y={};return y.x=m.substr(2,E),y.y=m.substr(2+E),y},this.getShortNISTPCurveName=function(){var m=this.curveName;return m==="secp256r1"||m==="NIST P-256"||m==="P-256"||m==="prime256v1"?"P-256":m==="secp384r1"||m==="NIST P-384"||m==="P-384"?"P-384":m==="secp521r1"||m==="NIST P-521"||m==="P-521"?"P-521":null},this.generateKeyPairHex=function(){var m=this.ecparams.n,E=this.getBigRandom(m),y=this.ecparams.keycharlen,C=("0000000000"+E.toString(16)).slice(-y);this.setPrivateKeyHex(C);var b=this.generatePublicKeyHex();return{ecprvhex:C,ecpubhex:b}},this.generatePublicKeyHex=function(){var m=new a(this.prvKeyHex,16),E=this.ecparams.G.multiply(m),y=E.getX().toBigInteger(),C=E.getY().toBigInteger(),b=this.ecparams.keycharlen,$=("0000000000"+y.toString(16)).slice(-b),B=("0000000000"+C.toString(16)).slice(-b),w="04"+$+B;return this.setPublicKeyHex(w),w},this.signWithMessageHash=function(m){return this.signHex(m,this.prvKeyHex)},this.signHex=function(m,E){var y=new a(E,16),C=this.ecparams.n,b=new a(m.substring(0,this.ecparams.keycharlen),16);do var $=this.getBigRandom(C),B=this.ecparams.G,w=B.multiply($),F=w.getX().toBigInteger().mod(C);while(F.compareTo(a.ZERO)<=0);var U=$.modInverse(C).multiply(b.add(y.multiply(F))).mod(C);return u.biRSSigToASN1Sig(F,U)},this.sign=function(m,E){var y=E,C=this.ecparams.n,b=a.fromByteArrayUnsigned(m);do var $=this.getBigRandom(C),B=this.ecparams.G,w=B.multiply($),F=w.getX().toBigInteger().mod(C);while(F.compareTo(BigInteger$5.ZERO)<=0);var U=$.modInverse(C).multiply(b.add(y.multiply(F))).mod(C);return this.serializeSig(F,U)},this.verifyWithMessageHash=function(m,E){return this.verifyHex(m,E,this.pubKeyHex)},this.verifyHex=function(m,E,y){try{var C,b,$=u.parseSigHex(E);C=$.r,b=$.s;var B=o.decodeFromHex(this.ecparams.curve,y),w=new a(m.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(w,C,b,B)}catch{return!1}},this.verify=function(m,E,y){var C,b;if(Bitcoin.Util.isArray(E)){var $=this.parseSig(E);C=$.r,b=$.s}else if(typeof E=="object"&&E.r&&E.s)C=E.r,b=E.s;else throw"Invalid value for signature";var B;if(y instanceof ECPointFp)B=y;else if(Bitcoin.Util.isArray(y))B=o.decodeFrom(this.ecparams.curve,y);else throw"Invalid format for pubkey value, must be byte array or ECPointFp";var w=a.fromByteArrayUnsigned(m);return this.verifyRaw(w,C,b,B)},this.verifyRaw=function(m,E,y,C){var b=this.ecparams.n,$=this.ecparams.G;if(E.compareTo(a.ONE)<0||E.compareTo(b)>=0||y.compareTo(a.ONE)<0||y.compareTo(b)>=0)return!1;var B=y.modInverse(b),w=m.multiply(B).mod(b),F=E.multiply(B).mod(b),U=$.multiply(w).add(C.multiply(F)),_=U.getX().toBigInteger().mod(b);return _.equals(E)},this.serializeSig=function(m,E){var y=m.toByteArraySigned(),C=E.toByteArraySigned(),b=[];return b.push(2),b.push(y.length),b=b.concat(y),b.push(2),b.push(C.length),b=b.concat(C),b.unshift(b.length),b.unshift(48),b},this.parseSig=function(m){var E;if(m[0]!=48)throw new Error("Signature not a valid DERSequence");if(E=2,m[E]!=2)throw new Error("First element in signature must be a DERInteger");var y=m.slice(E+2,E+2+m[E+1]);if(E+=2+m[E+1],m[E]!=2)throw new Error("Second element in signature must be a DERInteger");var C=m.slice(E+2,E+2+m[E+1]);E+=2+m[E+1];var b=a.fromByteArrayUnsigned(y),$=a.fromByteArrayUnsigned(C);return{r:b,s:$}},this.parseSigCompact=function(m){if(m.length!==65)throw"Signature has the wrong length";var E=m[0]-27;if(E<0||E>7)throw"Invalid signature type";var y=this.ecparams.n,C=a.fromByteArrayUnsigned(m.slice(1,33)).mod(y),b=a.fromByteArrayUnsigned(m.slice(33,65)).mod(y);return{r:C,s:b,i:E}},this.readPKCS5PrvKeyHex=function(m){if(v(m)===!1)throw new Error("not ASN.1 hex string");var E,y,C;try{E=d(m,0,["[0]",0],"06"),y=d(m,0,[1],"04");try{C=d(m,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=c(E),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(C),this.setPrivateKeyHex(y),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(m){if(v(m)===!1)throw new n("not ASN.1 hex string");var E,y,C,b;try{E=d(m,0,[1,0],"06"),y=d(m,0,[1,1],"06"),C=d(m,0,[2,0,1],"04");try{b=d(m,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new n("malformed PKCS#8 plain ECC private key")}if(this.curveName=c(y),this.curveName===void 0)throw new n("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(b),this.setPrivateKeyHex(C),this.isPublic=!1},this.readPKCS8PubKeyHex=function(m){if(v(m)===!1)throw new n("not ASN.1 hex string");var E,y,C;try{E=d(m,0,[0,0],"06"),y=d(m,0,[0,1],"06"),C=d(m,0,[1],"03")}catch{throw new n("malformed PKCS#8 ECC public key")}if(this.curveName=c(y),this.curveName===null)throw new n("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(C)},this.readCertPubKeyHex=function(m,E){if(v(m)===!1)throw new n("not ASN.1 hex string");var y,C;try{y=d(m,0,[0,5,0,1],"06"),C=d(m,0,[0,5,1],"03")}catch{throw new n("malformed X.509 certificate ECC public key")}if(this.curveName=c(y),this.curveName===null)throw new n("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(C)},e!==void 0&&e.curve!==void 0&&(this.curveName=e.curve),this.curveName===void 0&&(this.curveName=r),this.setNamedCurve(this.curveName),e!==void 0&&(e.prv!==void 0&&this.setPrivateKeyHex(e.prv),e.pub!==void 0&&this.setPublicKeyHex(e.pub))};KJUR.crypto.ECDSA.parseSigHex=function(e){var r=KJUR.crypto.ECDSA.parseSigHexInHexRS(e),n=new BigInteger$5(r.r,16),a=new BigInteger$5(r.s,16);return{r:n,s:a}};KJUR.crypto.ECDSA.parseSigHexInHexRS=function(e){var r=ASN1HEX,n=r.getChildIdx,a=r.getV;if(r.checkStrictDER(e,0),e.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var o=n(e,0);if(o.length!=2)throw new Error("signature shall have two elements");var u=o[0],l=o[1];if(e.substr(u,2)!="02")throw new Error("1st item not ASN.1 integer");if(e.substr(l,2)!="02")throw new Error("2nd item not ASN.1 integer");var c=a(e,u),g=a(e,l);return{r:c,s:g}};KJUR.crypto.ECDSA.asn1SigToConcatSig=function(e){var r=KJUR.crypto.ECDSA.parseSigHexInHexRS(e),n=r.r,a=r.s;if(n.length>=130&&n.length<=134){if(n.length%2!=0)throw Error("unknown ECDSA sig r length error");if(a.length%2!=0)throw Error("unknown ECDSA sig s length error");n.substr(0,2)=="00"&&(n=n.substr(2)),a.substr(0,2)=="00"&&(a=a.substr(2));var o=Math.max(n.length,a.length);return n=("000000"+n).slice(-o),a=("000000"+a).slice(-o),n+a}if(n.substr(0,2)=="00"&&n.length%32==2&&(n=n.substr(2)),a.substr(0,2)=="00"&&a.length%32==2&&(a=a.substr(2)),n.length%32==30&&(n="00"+n),a.length%32==30&&(a="00"+a),n.length%32!=0)throw Error("unknown ECDSA sig r length error");if(a.length%32!=0)throw Error("unknown ECDSA sig s length error");return n+a};KJUR.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var r=e.substr(0,e.length/2),n=e.substr(e.length/2);return KJUR.crypto.ECDSA.hexRSSigToASN1Sig(r,n)};KJUR.crypto.ECDSA.hexRSSigToASN1Sig=function(e,r){var n=new BigInteger$5(e,16),a=new BigInteger$5(r,16);return KJUR.crypto.ECDSA.biRSSigToASN1Sig(n,a)};KJUR.crypto.ECDSA.biRSSigToASN1Sig=function(e,r){var n=KJUR.asn1,a=new n.DERInteger({bigint:e}),o=new n.DERInteger({bigint:r}),u=new n.DERSequence({array:[a,o]});return u.tohex()};KJUR.crypto.ECDSA.getName=function(e){return e==="2b8104001f"?"secp192k1":e==="2a8648ce3d030107"?"secp256r1":e==="2b8104000a"?"secp256k1":e==="2b81040021"?"secp224r1":e==="2b81040022"?"secp384r1":e==="2b81040023"?"secp521r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)!==-1?"secp256r1":"|secp256k1|".indexOf(e)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(e)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(e)!==-1?"secp384r1":"|secp521r1|NIST P-521|P-521|".indexOf(e)!==-1?"secp521r1":null};(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.crypto=="undefined"||!KJUR.crypto)&&(KJUR.crypto={});KJUR.crypto.ECParameterDB=new function(){var e={},r={};function n(a){return new BigInteger$5(a,16)}this.getByName=function(a){var o=a;if(typeof r[o]!="undefined"&&(o=r[a]),typeof e[o]!="undefined")return e[o];throw"unregistered EC curve name: "+o},this.regist=function(a,o,u,l,c,g,d,v,x,m,E,y){e[a]={};var C=n(u),b=n(l),$=n(c),B=n(g),w=n(d),F=new ECCurveFp(C,b,$),U=F.decodePointHex("04"+v+x);e[a].name=a,e[a].keylen=o,e[a].keycharlen=Math.ceil(o/8)*2,e[a].curve=F,e[a].G=U,e[a].n=B,e[a].h=w,e[a].oid=E,e[a].info=y;for(var _=0;_<m.length;_++)r[m[_]]=a}};KJUR.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");KJUR.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");KJUR.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");KJUR.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);KJUR.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);KJUR.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);KJUR.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);KJUR.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);KJUR.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);KJUR.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.crypto=="undefined"||!KJUR.crypto)&&(KJUR.crypto={});KJUR.crypto.DSA=function(){var e=ASN1HEX;e.getVbyList;var r=e.getVbyListEx,n=e.isASN1HEX,a=BigInteger$5;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(o,u,l,c,g){this.isPrivate=!0,this.p=o,this.q=u,this.g=l,this.y=c,this.x=g},this.setPrivateHex=function(o,u,l,c,g){var d,v,x,m,E;d=new BigInteger$5(o,16),v=new BigInteger$5(u,16),x=new BigInteger$5(l,16),typeof c=="string"&&c.length>1?m=new BigInteger$5(c,16):m=null,E=new BigInteger$5(g,16),this.setPrivate(d,v,x,m,E)},this.setPublic=function(o,u,l,c){this.isPublic=!0,this.p=o,this.q=u,this.g=l,this.y=c,this.x=null},this.setPublicHex=function(o,u,l,c){var g,d,v,x;g=new BigInteger$5(o,16),d=new BigInteger$5(u,16),v=new BigInteger$5(l,16),x=new BigInteger$5(c,16),this.setPublic(g,d,v,x)},this.signWithMessageHash=function(o){var u=this.p,l=this.q,c=this.g;this.y;var g=this.x,d=KJUR.crypto.Util.getRandomBigIntegerMinToMax(BigInteger$5.ONE.add(BigInteger$5.ONE),l.subtract(BigInteger$5.ONE)),v=o.substr(0,l.bitLength()/4),x=new BigInteger$5(v,16),m=c.modPow(d,u).mod(l),E=d.modInverse(l).multiply(x.add(g.multiply(m))).mod(l),y=KJUR.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:m}},{int:{bigint:E}}]});return y},this.verifyWithMessageHash=function(o,u){var l=this.p,c=this.q,g=this.g,d=this.y,v=this.parseASN1Signature(u),x=v[0],m=v[1],E=o.substr(0,c.bitLength()/4),y=new BigInteger$5(E,16);if(BigInteger$5.ZERO.compareTo(x)>0||x.compareTo(c)>0||BigInteger$5.ZERO.compareTo(m)>=0||m.compareTo(c)>0)throw"invalid DSA signature";var C=m.modInverse(c),b=y.multiply(C).mod(c),$=x.multiply(C).mod(c),B=g.modPow(b,l).multiply(d.modPow($,l)).mod(l).mod(c);return B.compareTo(x)==0},this.parseASN1Signature=function(o){try{var u=new a(r(o,0,[0],"02"),16),l=new a(r(o,0,[1],"02"),16);return[u,l]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(o){var u,l,c,g,d;if(n(o)===!1)throw new Error("not ASN.1 hex string");try{u=r(o,0,[1],"02"),l=r(o,0,[2],"02"),c=r(o,0,[3],"02"),g=r(o,0,[4],"02"),d=r(o,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(u,l,c,g,d)},this.readPKCS8PrvKeyHex=function(o){var u,l,c,g;if(n(o)===!1)throw new Error("not ASN.1 hex string");try{u=r(o,0,[1,1,0],"02"),l=r(o,0,[1,1,1],"02"),c=r(o,0,[1,1,2],"02"),g=r(o,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(u,l,c,null,g)},this.readPKCS8PubKeyHex=function(o){var u,l,c,g;if(n(o)===!1)throw new Error("not ASN.1 hex string");try{u=r(o,0,[0,1,0],"02"),l=r(o,0,[0,1,1],"02"),c=r(o,0,[0,1,2],"02"),g=r(o,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(u,l,c,g)},this.readCertPubKeyHex=function(o,u){var l,c,g,d;if(n(o)===!1)throw new Error("not ASN.1 hex string");try{l=r(o,0,[0,5,0,1,0],"02"),c=r(o,0,[0,5,0,1,1],"02"),g=r(o,0,[0,5,0,1,2],"02"),d=r(o,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(l,c,g,d)}};var KEYUTIL=function(){var e=function(y,C,b){return a(CryptoJS$1.AES,y,C,b)},r=function(y,C,b){return a(CryptoJS$1.TripleDES,y,C,b)},n=function(y,C,b){return a(CryptoJS$1.DES,y,C,b)},a=function(y,C,b,$){var B=CryptoJS$1.enc.Hex.parse(C),w=CryptoJS$1.enc.Hex.parse(b),F=CryptoJS$1.enc.Hex.parse($),U={};U.key=w,U.iv=F,U.ciphertext=B;var _=y.decrypt(U,w,{iv:F});return CryptoJS$1.enc.Hex.stringify(_)},o=function(y,C,b){return c(CryptoJS$1.AES,y,C,b)},u=function(y,C,b){return c(CryptoJS$1.TripleDES,y,C,b)},l=function(y,C,b){return c(CryptoJS$1.DES,y,C,b)},c=function(y,C,b,$){var B=CryptoJS$1.enc.Hex.parse(C),w=CryptoJS$1.enc.Hex.parse(b),F=CryptoJS$1.enc.Hex.parse($),U=y.encrypt(B,w,{iv:F}),_=CryptoJS$1.enc.Hex.parse(U.toString()),T=CryptoJS$1.enc.Base64.stringify(_);return T},g={"AES-256-CBC":{proc:e,eproc:o,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:o,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:o,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:r,eproc:u,keylen:24,ivlen:8},"DES-CBC":{proc:n,eproc:l,keylen:8,ivlen:8}},d=function(y){var C=CryptoJS$1.lib.WordArray.random(y),b=CryptoJS$1.enc.Hex.stringify(C);return b},v=function(y){var C={},b=y.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));b&&(C.cipher=b[1],C.ivsalt=b[2]);var $=y.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));$&&(C.type=$[1]);var B=-1,w=0;y.indexOf(`\r
\r
`)!=-1&&(B=y.indexOf(`\r
\r
`),w=2),y.indexOf(`

`)!=-1&&(B=y.indexOf(`

`),w=1);var F=y.indexOf("-----END");if(B!=-1&&F!=-1){var U=y.substring(B+w*2,F-w);U=U.replace(/\s+/g,""),C.data=U}return C},x=function(y,C,b){for(var $=b.substring(0,16),B=CryptoJS$1.enc.Hex.parse($),w=CryptoJS$1.enc.Utf8.parse(C),F=g[y].keylen+g[y].ivlen,U="",_=null;;){var T=CryptoJS$1.algo.MD5.create();if(_!=null&&T.update(_),T.update(w),T.update(B),_=T.finalize(),U=U+CryptoJS$1.enc.Hex.stringify(_),U.length>=F*2)break}var k={};return k.keyhex=U.substr(0,g[y].keylen*2),k.ivhex=U.substr(g[y].keylen*2,g[y].ivlen*2),k},m=function(y,C,b,$){var B=CryptoJS$1.enc.Base64.parse(y),w=CryptoJS$1.enc.Hex.stringify(B),F=g[C].proc,U=F(w,b,$);return U},E=function(y,C,b,$){var B=g[C].eproc,w=B(y,b,$);return w};return{version:"1.0.0",parsePKCS5PEM:function(y){return v(y)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(y,C,b){return x(y,C,b)},decryptKeyB64:function(y,C,b,$){return m(y,C,b,$)},getDecryptedKeyHex:function(y,C){var b=v(y),$=b.cipher,B=b.ivsalt,w=b.data,F=x($,C,B),U=F.keyhex,_=m(w,$,U,B);return _},getEncryptedPKCS5PEMFromPrvKeyHex:function(y,C,b,$,B){var N="";if((typeof $=="undefined"||$==null)&&($="AES-256-CBC"),typeof g[$]=="undefined")throw new Error("KEYUTIL unsupported algorithm: "+$);if(typeof B=="undefined"||B==null){var w=g[$].ivlen,F=d(w);B=F.toUpperCase()}var U=x($,b,B),_=U.keyhex,T=E(C,$,_,B),k=T.replace(/(.{64})/g,`$1\r
`),N="-----BEGIN "+y+` PRIVATE KEY-----\r
`;return N+=`Proc-Type: 4,ENCRYPTED\r
`,N+="DEK-Info: "+$+","+B+`\r
`,N+=`\r
`,N+=k,N+=`\r
-----END `+y+` PRIVATE KEY-----\r
`,N},getEncryptedPKCS8PEM:function(y,C,b){var $=this.getEncryptedPKCS8Hex(y,C,b);return hextopem($,"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(y,C,b){var $;b==null||b==null?$={}:$=JSON.parse(JSON.stringify(b)),$.plain=y,this.initPBES2Param($),this.encryptPBES2Param($,C);var B=this.generatePBES2ASN1Param($);return KJUR.asn1.ASN1Util.newObject(B).tohex()},initPBES2Param:function(y){if(aryval(y,"encalg")==null&&(y.encalg="aes256-CBC"),aryval(y,"iter")==null&&(y.iter=2048),aryval(y,"prf")==null&&(y.prf="hmacWithSHA256"),aryval(y,"salt")==null&&(y.salt=CryptoJS$1.enc.Hex.stringify(CryptoJS$1.lib.WordArray.random(8))),aryval(y,"enciv")==null){var C;y.encalg=="des-EDE3-CBC"&&(C=8),y.encalg=="aes128-CBC"&&(C=16),y.encalg=="aes256-CBC"&&(C=16),y.enciv=CryptoJS$1.enc.Hex.stringify(CryptoJS$1.lib.WordArray.random(C))}},encryptPBES2Param:function(y,C){var b=KEYUTIL.getDKFromPBES2Param(y,C);try{var $=KJUR.crypto.Cipher.encrypt(y.plain,b,y.encalg,{iv:y.enciv})}catch{throw new Error("encrypt error: "+y.plain+" "+b+" "+y.encalg+" "+y.enciv)}y.enc=$},generatePBES2ASN1Param:function(y){var C={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:y.salt}},{int:{hex:inttohex(y.iter)}}]}]},{seq:[{oid:y.encalg},{octstr:{hex:y.enciv}}]}]}]},{octstr:{hex:y.enc}}]};return y.prf!="hmacWithSHA1"&&C.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:y.prf},{null:""}]}),C},parseHexOfEncryptedPKCS8:function(y){var C=ASN1HEX,b=C.getChildIdx,$=C.getV,B={},w=b(y,0);if(w.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+w.length);B.ciphertext=$(y,w[1]);var F=b(y,w[0]);if(F.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+F.length);if($(y,F[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var U=b(y,F[1]);if(F.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+U.length);var _=b(y,U[1]);if(_.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+_.length);if($(y,_[0])!="2a864886f70d0307")throw"this only supports TripleDES";B.encryptionSchemeAlg="TripleDES",B.encryptionSchemeIV=$(y,_[1]);var T=b(y,U[0]);if(T.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+T.length);if($(y,T[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var k=b(y,T[1]);if(k.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+k.length);B.pbkdf2Salt=$(y,k[0]);var N=$(y,k[1]);try{B.pbkdf2Iter=parseInt(N,16)}catch{throw new Error("malformed format pbkdf2Iter: "+N)}return B},getPBKDF2KeyHexFromParam:function(y,C){var b=CryptoJS$1.enc.Hex.parse(y.pbkdf2Salt),$=y.pbkdf2Iter,B=CryptoJS$1.PBKDF2(C,b,{keySize:192/32,iterations:$}),w=CryptoJS$1.enc.Hex.stringify(B);return w},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(y,C){var b=pemtohex(y,"ENCRYPTED PRIVATE KEY"),$=this.parseHexOfEncryptedPKCS8(b),B=KEYUTIL.getPBKDF2KeyHexFromParam($,C),w={};w.ciphertext=CryptoJS$1.enc.Hex.parse($.ciphertext);var F=CryptoJS$1.enc.Hex.parse(B),U=CryptoJS$1.enc.Hex.parse($.encryptionSchemeIV),_=CryptoJS$1.TripleDES.decrypt(w,F,{iv:U}),T=CryptoJS$1.enc.Hex.stringify(_);return T},parsePBES2:function(y){var C=ASN1HEX.parse(y);if(aryval(C,"seq.0.seq.0.oid")!="pkcs5PBES2"||aryval(C,"seq.0.seq.1.seq.0.seq.0.oid")!="pkcs5PBKDF2")throw new Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var b=aryval(C,"seq.0.seq.1.seq.0.seq.1.seq");if(b==null)throw new Error("PBKDF2 parameter not found");var $=aryval(b,"0.octstr.hex"),B=aryval(b,"1.int.hex"),w=aryval(b,"2.seq.0.oid","hmacWithSHA1"),F=-1;try{F=parseInt(B,16)}catch{throw new Error("iter not proper value")}var U=aryval(C,"seq.0.seq.1.seq.1.seq.0.oid"),_=aryval(C,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),T=aryval(C,"seq.1.octstr.hex");if(U==null||_==null||T==null)throw new Error("encalg, enciv or enc is undefined");var k={salt:$,iter:F,prf:w,encalg:U,enciv:_,enc:T};return k},getDKFromPBES2Param:function(y,C){var b={hmacWithSHA1:CryptoJS$1.algo.SHA1,hmacWithSHA224:CryptoJS$1.algo.SHA224,hmacWithSHA256:CryptoJS$1.algo.SHA256,hmacWithSHA384:CryptoJS$1.algo.SHA384,hmacWithSHA512:CryptoJS$1.algo.SHA512},$={"des-EDE3-CBC":192/32,"aes128-CBC":128/32,"aes256-CBC":256/32},B=b[y.prf];if(B==null)throw new Error("unsupported prf");var w=$[y.encalg];if(w==null)throw new Error("unsupported encalg");var F=CryptoJS$1.enc.Hex.parse(y.salt),U=y.iter;try{var _=CryptoJS$1.PBKDF2(C,F,{keySize:w,iterations:U,hasher:B});return CryptoJS$1.enc.Hex.stringify(_)}catch(T){throw new Error("PBKDF2 error: "+T+" "+JSON.stringify(y)+" "+C)}},getPlainHexFromEncryptedPKCS8PEM:function(y,C){if(y.indexOf("BEGIN ENCRYPTED PRIVATE KEY")==-1)throw new Error("not Encrypted PKCS#8 PEM string");var b=pemtohex(y),$;try{$=KEYUTIL.parsePBES2(b)}catch(w){throw new Error("malformed PBES2 format: "+w.message)}var B=KEYUTIL.getDKFromPBES2Param($,C);return KJUR.crypto.Cipher.decrypt($.enc,B,$.encalg,{iv:$.enciv})},getKeyFromEncryptedPKCS8PEM:function(y,C){var b=this.getPlainHexFromEncryptedPKCS8PEM(y,C),$=this.getKeyFromPlainPrivatePKCS8Hex(b);return $},parsePlainPrivatePKCS8Hex:function(y){var C=ASN1HEX,b=C.getChildIdx,$=C.getV,B={};if(B.algparam=null,y.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var w=b(y,0);if(w.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(y.substr(w[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var F=b(y,w[1]);if(F.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(y.substr(F[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(B.algoid=$(y,F[0]),y.substr(F[1],2)=="06"&&(B.algparam=$(y,F[1])),y.substr(w[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return B.keyidx=C.getVidx(y,w[2]),B},getKeyFromPlainPrivatePKCS8PEM:function(y){var C=pemtohex(y,"PRIVATE KEY"),b=this.getKeyFromPlainPrivatePKCS8Hex(C);return b},getKeyFromPlainPrivatePKCS8Hex:function(y){var C=this.parsePlainPrivatePKCS8Hex(y),b;if(C.algoid=="2a864886f70d010101")b=new RSAKey;else if(C.algoid=="2a8648ce380401")b=new KJUR.crypto.DSA;else if(C.algoid=="2a8648ce3d0201")b=new KJUR.crypto.ECDSA;else throw new Error("unsupported private key algorithm");return b.readPKCS8PrvKeyHex(y),b},_getKeyFromPublicPKCS8Hex:function(y){var C,b=ASN1HEX.getVbyList(y,0,[0,0],"06");if(b==="2a864886f70d010101")C=new RSAKey;else if(b==="2a8648ce380401")C=new KJUR.crypto.DSA;else if(b==="2a8648ce3d0201")C=new KJUR.crypto.ECDSA;else throw new Error("unsupported PKCS#8 public key hex");return C.readPKCS8PubKeyHex(y),C},parsePublicRawRSAKeyHex:function(y){var C=ASN1HEX,b=C.getChildIdx,$=C.getV,B={};if(y.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var w=b(y,0);if(w.length!=2)throw new Error("malformed RSA key(code:002)");if(y.substr(w[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(B.n=$(y,w[0]),y.substr(w[1],2)!="02")throw new Error("malformed RSA key(code:004)");return B.e=$(y,w[1]),B},parsePublicPKCS8Hex:function(y){var C=ASN1HEX,b=C.getChildIdx,$=C.getV,B={};B.algparam=null;var w=b(y,0);if(w.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+w.length);var F=w[0];if(y.substr(F,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var U=b(y,F);if(U.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(y.substr(U[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(B.algoid=$(y,U[0]),y.substr(U[1],2)=="06"?B.algparam=$(y,U[1]):y.substr(U[1],2)=="30"&&(B.algparam={},B.algparam.p=C.getVbyList(y,U[1],[0],"02"),B.algparam.q=C.getVbyList(y,U[1],[1],"02"),B.algparam.g=C.getVbyList(y,U[1],[2],"02")),y.substr(w[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return B.key=$(y,w[1]).substr(2),B}}}();KEYUTIL.getKey=function(e,r,n){var a=ASN1HEX,o=a.getChildIdx;a.getV;var u=a.getVbyList,l=KJUR.crypto,c=l.ECDSA,g=l.DSA,d=RSAKey,v=pemtohex,x=KEYUTIL;if(typeof d!="undefined"&&e instanceof d||typeof c!="undefined"&&e instanceof c||typeof g!="undefined"&&e instanceof g)return e;if(e.curve!==void 0&&e.xy!==void 0&&e.d===void 0)return new c({pub:e.xy,curve:e.curve});if(e.curve!==void 0&&e.d!==void 0)return new c({prv:e.d,curve:e.curve});if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d===void 0){var m=new d;return m.setPublic(e.n,e.e),m}if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.co!==void 0&&e.qi===void 0){var m=new d;return m.setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),m}if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p===void 0){var m=new d;return m.setPrivate(e.n,e.e,e.d),m}if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x===void 0){var m=new g;return m.setPublic(e.p,e.q,e.g,e.y),m}if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x!==void 0){var m=new g;return m.setPrivate(e.p,e.q,e.g,e.y,e.x),m}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d===void 0){var m=new d;return m.setPublic(b64utohex(e.n),b64utohex(e.e)),m}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.qi!==void 0){var m=new d;return m.setPrivateEx(b64utohex(e.n),b64utohex(e.e),b64utohex(e.d),b64utohex(e.p),b64utohex(e.q),b64utohex(e.dp),b64utohex(e.dq),b64utohex(e.qi)),m}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0){var m=new d;return m.setPrivate(b64utohex(e.n),b64utohex(e.e),b64utohex(e.d)),m}if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d===void 0){var E=new c({curve:e.crv}),y=E.ecparams.keycharlen,C=("0000000000"+b64utohex(e.x)).slice(-y),b=("0000000000"+b64utohex(e.y)).slice(-y),$="04"+C+b;return E.setPublicKeyHex($),E}if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d!==void 0){var E=new c({curve:e.crv}),y=E.ecparams.keycharlen,C=("0000000000"+b64utohex(e.x)).slice(-y),b=("0000000000"+b64utohex(e.y)).slice(-y),$="04"+C+b,B=("0000000000"+b64utohex(e.d)).slice(-y);return E.setPublicKeyHex($),E.setPrivateKeyHex(B),E}if(n==="pkcs5prv"){var w=e,a=ASN1HEX,F,m;if(F=o(w,0),F.length===9)m=new d,m.readPKCS5PrvKeyHex(w);else if(F.length===6)m=new g,m.readPKCS5PrvKeyHex(w);else if(F.length>2&&w.substr(F[1],2)==="04")m=new c,m.readPKCS5PrvKeyHex(w);else throw new Error("unsupported PKCS#1/5 hexadecimal key");return m}if(n==="pkcs8prv"){var m=x.getKeyFromPlainPrivatePKCS8Hex(e);return m}if(n==="pkcs8pub")return x._getKeyFromPublicPKCS8Hex(e);if(n==="x509pub")return X509.getPublicKeyFromCertHex(e);if(e.indexOf("-END CERTIFICATE-",0)!=-1||e.indexOf("-END X509 CERTIFICATE-",0)!=-1||e.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return X509.getPublicKeyFromCertPEM(e);if(e.indexOf("-END PUBLIC KEY-")!=-1){var U=pemtohex(e,"PUBLIC KEY");return x._getKeyFromPublicPKCS8Hex(U)}if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var _=v(e,"RSA PRIVATE KEY");return x.getKey(_,null,"pkcs5prv")}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var T=v(e,"DSA PRIVATE KEY"),k=u(T,0,[1],"02"),N=u(T,0,[2],"02"),K=u(T,0,[3],"02"),O=u(T,0,[4],"02"),V=u(T,0,[5],"02"),m=new g;return m.setPrivate(new BigInteger$5(k,16),new BigInteger$5(N,16),new BigInteger$5(K,16),new BigInteger$5(O,16),new BigInteger$5(V,16)),m}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var _=v(e,"EC PRIVATE KEY");return x.getKey(_,null,"pkcs5prv")}if(e.indexOf("-END PRIVATE KEY-")!=-1)return x.getKeyFromPlainPrivatePKCS8PEM(e);if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var J=x.getDecryptedKeyHex(e,r),H=new RSAKey;return H.readPKCS5PrvKeyHex(J),H}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var T=x.getDecryptedKeyHex(e,r),m=u(T,0,[1],"04"),G=u(T,0,[2,0],"06"),te=u(T,0,[3,0],"03").substr(2),Q="";if(KJUR.crypto.OID.oidhex2name[G]!==void 0)Q=KJUR.crypto.OID.oidhex2name[G];else throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+G);var E=new c({curve:Q});return E.setPublicKeyHex(te),E.setPrivateKeyHex(m),E.isPublic=!1,E}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var T=x.getDecryptedKeyHex(e,r),k=u(T,0,[1],"02"),N=u(T,0,[2],"02"),K=u(T,0,[3],"02"),O=u(T,0,[4],"02"),V=u(T,0,[5],"02"),m=new g;return m.setPrivate(new BigInteger$5(k,16),new BigInteger$5(N,16),new BigInteger$5(K,16),new BigInteger$5(O,16),new BigInteger$5(V,16)),m}if(e.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return x.getKeyFromEncryptedPKCS8PEM(e,r);throw new Error("not supported argument")};KEYUTIL.generateKeypair=function(e,r){if(e=="RSA"){var n=r,a=new RSAKey;a.generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var o=new RSAKey,u=a.n.toString(16),l=a.e.toString(16);o.setPublic(u,l),o.isPrivate=!1,o.isPublic=!0;var c={};return c.prvKeyObj=a,c.pubKeyObj=o,c}else if(e=="EC"){var g=r,d=new KJUR.crypto.ECDSA({curve:g}),v=d.generateKeyPairHex(),a=new KJUR.crypto.ECDSA({curve:g});a.setPublicKeyHex(v.ecpubhex),a.setPrivateKeyHex(v.ecprvhex),a.isPrivate=!0,a.isPublic=!1;var o=new KJUR.crypto.ECDSA({curve:g});o.setPublicKeyHex(v.ecpubhex),o.isPrivate=!1,o.isPublic=!0;var c={};return c.prvKeyObj=a,c.pubKeyObj=o,c}else throw new Error("unknown algorithm: "+e)};KEYUTIL.getPEM=function(e,r,n,a,o,u){var l=KJUR,c=l.asn1,g=c.DERObjectIdentifier,d=c.DERInteger,v=c.ASN1Util.newObject,x=c.x509,m=x.SubjectPublicKeyInfo,E=l.crypto,y=E.DSA,C=E.ECDSA,b=RSAKey;function $(G){var te=v({seq:[{int:0},{int:{bigint:G.n}},{int:G.e},{int:{bigint:G.d}},{int:{bigint:G.p}},{int:{bigint:G.q}},{int:{bigint:G.dmp1}},{int:{bigint:G.dmq1}},{int:{bigint:G.coeff}}]});return te}function B(G){var te=v({seq:[{int:1},{octstr:{hex:G.prvKeyHex}},{tag:["a0",!0,{oid:{name:G.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+G.pubKeyHex}}]}]});return te}function w(G){var te=v({seq:[{int:0},{int:{bigint:G.p}},{int:{bigint:G.q}},{int:{bigint:G.g}},{int:{bigint:G.y}},{int:{bigint:G.x}}]});return te}if((b!==void 0&&e instanceof b||y!==void 0&&e instanceof y||C!==void 0&&e instanceof C)&&e.isPublic==!0&&(r===void 0||r=="PKCS8PUB")){var F=new m(e),U=F.tohex();return hextopem(U,"PUBLIC KEY")}if(r=="PKCS1PRV"&&b!==void 0&&e instanceof b&&(n===void 0||n==null)&&e.isPrivate==!0){var F=$(e),U=F.tohex();return hextopem(U,"RSA PRIVATE KEY")}if(r=="PKCS1PRV"&&C!==void 0&&e instanceof C&&(n===void 0||n==null)&&e.isPrivate==!0){var _=new g({name:e.curveName}),T=_.tohex(),k=B(e),N=k.tohex(),K="";return K+=hextopem(T,"EC PARAMETERS"),K+=hextopem(N,"EC PRIVATE KEY"),K}if(r=="PKCS1PRV"&&y!==void 0&&e instanceof y&&(n===void 0||n==null)&&e.isPrivate==!0){var F=w(e),U=F.tohex();return hextopem(U,"DSA PRIVATE KEY")}if(r=="PKCS5PRV"&&b!==void 0&&e instanceof b&&n!==void 0&&n!=null&&e.isPrivate==!0){var F=$(e),U=F.tohex();return a===void 0&&(a="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",U,n,a,u)}if(r=="PKCS5PRV"&&C!==void 0&&e instanceof C&&n!==void 0&&n!=null&&e.isPrivate==!0){var F=B(e),U=F.tohex();return a===void 0&&(a="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",U,n,a,u)}if(r=="PKCS5PRV"&&y!==void 0&&e instanceof y&&n!==void 0&&n!=null&&e.isPrivate==!0){var F=w(e),U=F.tohex();return a===void 0&&(a="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",U,n,a,u)}var O=function(G,te){if(typeof te=="string")return KEYUTIL.getEncryptedPKCS8PEM(G,te);if(typeof te=="object"&&aryval(te,"passcode")!=null){var Q=JSON.parse(JSON.stringify(te)),xe=Q.passcode;return delete Q.passcode,KEYUTIL.getEncryptedPKCS8PEM(G,xe,Q)}};if(r=="PKCS8PRV"&&b!=null&&e instanceof b&&e.isPrivate==!0){var V=$(e),J=V.tohex(),F=v({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:J}}]}),U=F.tohex();return n===void 0||n==null?hextopem(U,"PRIVATE KEY"):O(U,n)}if(r=="PKCS8PRV"&&C!==void 0&&e instanceof C&&e.isPrivate==!0){var H={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};typeof e.pubKeyHex=="string"&&H.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]});var V=new v(H),J=V.tohex(),F=v({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:J}}]}),U=F.tohex();return n===void 0||n==null?hextopem(U,"PRIVATE KEY"):O(U,n)}if(r=="PKCS8PRV"&&y!==void 0&&e instanceof y&&e.isPrivate==!0){var V=new d({bigint:e.x}),J=V.tohex(),F=v({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:J}}]}),U=F.tohex();return n===void 0||n==null?hextopem(U,"PRIVATE KEY"):O(U,n)}throw new Error("unsupported object nor format")};KEYUTIL.getKeyFromCSRPEM=function(e){var r=pemtohex(e,"CERTIFICATE REQUEST"),n=KEYUTIL.getKeyFromCSRHex(r);return n};KEYUTIL.getKeyFromCSRHex=function(e){var r=KEYUTIL.parseCSRHex(e),n=KEYUTIL.getKey(r.p8pubkeyhex,null,"pkcs8pub");return n};KEYUTIL.parseCSRHex=function(e){var r=ASN1HEX,n=r.getChildIdx,a=r.getTLV,o={},u=e;if(u.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var l=n(u,0);if(l.length<1)throw new Error("malformed CSR(code:002)");if(u.substr(l[0],2)!="30")throw new Error("malformed CSR(code:003)");var c=n(u,l[0]);if(c.length<3)throw new Error("malformed CSR(code:004)");return o.p8pubkeyhex=a(u,c[2]),o};KEYUTIL.getKeyID=function(e){var r=KEYUTIL,n=ASN1HEX;typeof e=="string"&&e.indexOf("BEGIN ")!=-1&&(e=r.getKey(e));var a=pemtohex(r.getPEM(e)),o=n.getIdxbyList(a,0,[1]),u=n.getV(a,o).substring(2);return KJUR.crypto.Util.hashHex(u,"sha1")};KEYUTIL.getJWK=function(e,r,n,a,o){var u,l={},c,g=KJUR.crypto.Util.hashHex;if(typeof e=="string")u=KEYUTIL.getKey(e),e.indexOf("CERTIFICATE")!=-1&&(c=pemtohex(e));else if(typeof e=="object")e instanceof X509?(u=e.getPublicKey(),c=e.hex):u=e;else throw new Error("unsupported keyinfo type");if(u instanceof RSAKey&&u.isPrivate)l.kty="RSA",l.n=hextob64u(u.n.toString(16)),l.e=hextob64u(u.e.toString(16)),l.d=hextob64u(u.d.toString(16)),l.p=hextob64u(u.p.toString(16)),l.q=hextob64u(u.q.toString(16)),l.dp=hextob64u(u.dmp1.toString(16)),l.dq=hextob64u(u.dmq1.toString(16)),l.qi=hextob64u(u.coeff.toString(16));else if(u instanceof RSAKey&&u.isPublic)l.kty="RSA",l.n=hextob64u(u.n.toString(16)),l.e=hextob64u(u.e.toString(16));else if(u instanceof KJUR.crypto.ECDSA&&u.isPrivate){var d=u.getShortNISTPCurveName();if(d!=="P-256"&&d!=="P-384"&&d!=="P-521")throw new Error("unsupported curve name for JWT: "+d);var v=u.getPublicKeyXYHex();l.kty="EC",l.crv=d,l.x=hextob64u(v.x),l.y=hextob64u(v.y),l.d=hextob64u(u.prvKeyHex)}else if(u instanceof KJUR.crypto.ECDSA&&u.isPublic){var d=u.getShortNISTPCurveName();if(d!=="P-256"&&d!=="P-384"&&d!=="P-521")throw new Error("unsupported curve name for JWT: "+d);var v=u.getPublicKeyXYHex();l.kty="EC",l.crv=d,l.x=hextob64u(v.x),l.y=hextob64u(v.y)}if(l.kty==null)throw new Error("unsupported keyinfo");return!u.isPrivate&&r!=!0&&(l.kid=KJUR.jws.JWS.getJWKthumbprint(l)),c!=null&&n!=!0&&(l.x5c=[hex2b64(c)]),c!=null&&a!=!0&&(l.x5t=b64tob64u(hex2b64(g(c,"sha1")))),c!=null&&o!=!0&&(l["x5t#S256"]=b64tob64u(hex2b64(g(c,"sha256")))),l};KEYUTIL.getJWKFromKey=function(e){return KEYUTIL.getJWK(e,!0,!0,!0,!0)};RSAKey.getPosArrayOfChildrenFromHex=function(e){return ASN1HEX.getChildIdx(e,0)};RSAKey.getHexValueArrayOfChildrenFromHex=function(e){var r=ASN1HEX,n=r.getV,m=RSAKey.getPosArrayOfChildrenFromHex(e),a=n(e,m[0]),o=n(e,m[1]),u=n(e,m[2]),l=n(e,m[3]),c=n(e,m[4]),g=n(e,m[5]),d=n(e,m[6]),v=n(e,m[7]),x=n(e,m[8]),m=new Array;return m.push(a,o,u,l,c,g,d,v,x),m};RSAKey.prototype.readPrivateKeyFromPEMString=function(e){var r=pemtohex(e),n=RSAKey.getHexValueArrayOfChildrenFromHex(r);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])};RSAKey.prototype.readPKCS5PrvKeyHex=function(e){var r=RSAKey.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])};RSAKey.prototype.readPKCS8PrvKeyHex=function(e){var r,n,a,o,u,l,c,g,d=ASN1HEX,v=d.getVbyListEx;if(d.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");try{r=v(e,0,[2,0,1],"02"),n=v(e,0,[2,0,2],"02"),a=v(e,0,[2,0,3],"02"),o=v(e,0,[2,0,4],"02"),u=v(e,0,[2,0,5],"02"),l=v(e,0,[2,0,6],"02"),c=v(e,0,[2,0,7],"02"),g=v(e,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(r,n,a,o,u,l,c,g)};RSAKey.prototype.readPKCS5PubKeyHex=function(e){var r=ASN1HEX,n=r.getV;if(r.isASN1HEX(e)===!1)throw new Error("keyHex is not ASN.1 hex string");var a=r.getChildIdx(e,0);if(a.length!==2||e.substr(a[0],2)!=="02"||e.substr(a[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var o=n(e,a[0]),u=n(e,a[1]);this.setPublic(o,u)};RSAKey.prototype.readPKCS8PubKeyHex=function(e){var r=ASN1HEX;if(r.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");if(r.getTLVbyListEx(e,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var n=r.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)};RSAKey.prototype.readCertPubKeyHex=function(e,r){var n,a;n=new X509,n.readCertHex(e),a=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(a)};function _zeroPaddingOfSignature(e,r){for(var n="",a=r/4-e.length,o=0;o<a;o++)n=n+"0";return n+e}RSAKey.prototype.sign=function(e,r){var n=function(o){return KJUR.crypto.Util.hashString(o,r)},a=n(e);return this.signWithMessageHash(a,r)};RSAKey.prototype.signWithMessageHash=function(e,r){var n=KJUR.crypto.Util.getPaddedDigestInfoHex(e,r,this.n.bitLength()),a=parseBigInt(n,16),o=this.doPrivate(a),u=o.toString(16);return _zeroPaddingOfSignature(u,this.n.bitLength())};function pss_mgf1_str(e,r,n){for(var a="",o=0;a.length<r;)a+=hextorstr(n(rstrtohex(e+String.fromCharCode.apply(String,[(o&4278190080)>>24,(o&16711680)>>16,(o&65280)>>8,o&255])))),o+=1;return a}RSAKey.prototype.signPSS=function(e,r,n){var a=function(u){return KJUR.crypto.Util.hashHex(u,r)},o=a(rstrtohex(e));return n===void 0&&(n=-1),this.signWithMessageHashPSS(o,r,n)};RSAKey.prototype.signWithMessageHashPSS=function(e,r,n){var a=hextorstr(e),o=a.length,u=this.n.bitLength()-1,l=Math.ceil(u/8),c,g=function(b){return KJUR.crypto.Util.hashHex(b,r)};if(n===-1||n===void 0)n=o;else if(n===-2)n=l-o-2;else if(n<-2)throw new Error("invalid salt length");if(l<o+n+2)throw new Error("data too long");var d="";n>0&&(d=new Array(n),new SecureRandom().nextBytes(d),d=String.fromCharCode.apply(String,d));var v=hextorstr(g(rstrtohex("\0\0\0\0\0\0\0\0"+a+d))),x=[];for(c=0;c<l-n-o-2;c+=1)x[c]=0;var m=String.fromCharCode.apply(String,x)+""+d,E=pss_mgf1_str(v,m.length,g),y=[];for(c=0;c<m.length;c+=1)y[c]=m.charCodeAt(c)^E.charCodeAt(c);var C=65280>>8*l-u&255;for(y[0]&=~C,c=0;c<o;c++)y.push(v.charCodeAt(c));return y.push(188),_zeroPaddingOfSignature(this.doPrivate(new BigInteger$5(y)).toString(16),this.n.bitLength())};function _rsasign_getAlgNameAndHashFromHexDisgestInfo(e){for(var r in KJUR.crypto.Util.DIGESTINFOHEAD){var n=KJUR.crypto.Util.DIGESTINFOHEAD[r],a=n.length;if(e.substring(0,a)==n){var o=[r,e.substring(a)];return o}}return[]}RSAKey.prototype.verify=function(e,r){if(r=r.toLowerCase(),r.match(/^[0-9a-f]+$/)==null)return!1;var n=parseBigInt(r,16),a=this.n.bitLength();if(n.bitLength()>a)return!1;var o=this.doPublic(n),u=o.toString(16);if(u.length+3!=a/4)return!1;var l=u.replace(/^1f+00/,""),c=_rsasign_getAlgNameAndHashFromHexDisgestInfo(l);if(c.length==0)return!1;var g=c[0],d=c[1],v=function(m){return KJUR.crypto.Util.hashString(m,g)},x=v(e);return d==x};RSAKey.prototype.verifyWithMessageHash=function(e,r){if(r.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=parseBigInt(r,16);if(n.bitLength()>this.n.bitLength())return 0;var a=this.doPublic(n),o=a.toString(16).replace(/^1f+00/,""),u=_rsasign_getAlgNameAndHashFromHexDisgestInfo(o);if(u.length==0)return!1;u[0];var l=u[1];return l==e};RSAKey.prototype.verifyPSS=function(e,r,n,a){var o=function(l){return KJUR.crypto.Util.hashHex(l,n)},u=o(rstrtohex(e));return a===void 0&&(a=-1),this.verifyWithMessageHashPSS(u,r,n,a)};RSAKey.prototype.verifyWithMessageHashPSS=function(e,r,n,a){if(r.length!=Math.ceil(this.n.bitLength()/4))return!1;var o=new BigInteger$5(r,16),u=function(B){return KJUR.crypto.Util.hashHex(B,n)},l=hextorstr(e),c=l.length,g=this.n.bitLength()-1,d=Math.ceil(g/8),v;if(a===-1||a===void 0)a=c;else if(a===-2)a=d-c-2;else if(a<-2)throw new Error("invalid salt length");if(d<c+a+2)throw new Error("data too long");var x=this.doPublic(o).toByteArray();for(v=0;v<x.length;v+=1)x[v]&=255;for(;x.length<d;)x.unshift(0);if(x[d-1]!==188)throw new Error("encoded message does not end in 0xbc");x=String.fromCharCode.apply(String,x);var m=x.substr(0,d-c-1),E=x.substr(m.length,c),y=65280>>8*d-g&255;if((m.charCodeAt(0)&y)!==0)throw new Error("bits beyond keysize not zero");var C=pss_mgf1_str(E,m.length,u),b=[];for(v=0;v<m.length;v+=1)b[v]=m.charCodeAt(v)^C.charCodeAt(v);b[0]&=~y;var $=d-c-a-2;for(v=0;v<$;v+=1)if(b[v]!==0)throw new Error("leftmost octets not zero");if(b[$]!==1)throw new Error("0x01 marker not found");return E===hextorstr(u(rstrtohex("\0\0\0\0\0\0\0\0"+l+String.fromCharCode.apply(String,b.slice(-a)))))};RSAKey.SALT_LEN_HLEN=-1;RSAKey.SALT_LEN_MAX=-2;RSAKey.SALT_LEN_RECOVER=-2;function X509(e){var r=ASN1HEX,n=r.getChildIdx,a=r.getV;r.dump;var o=r.parse,u=r.getTLV,l=r.getVbyList,c=r.getVbyListEx,g=r.getTLVbyList,d=r.getTLVbyListEx,v=r.getIdxbyList,x=r.getIdxbyListEx,m=r.getVidx,E=r.getInt,y=r.oidname,C=r.hextooidstr,b=pemtohex,$,B=Error;try{$=KJUR.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8","13":"prn","16":"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var _=g(this.hex,0,[0,0]);if(_.substr(0,2)=="a0"){var T=g(_,0,[0]),k=E(T,0);if(k<0||2<k)throw new Error("malformed version field");return this.version=k+1,this.version}else return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return c(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var _=d(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(_)},this.getAlgorithmIdentifierName=function(_){for(var T in $)if(_===$[T])return T;return y(c(_,0,[0],"06"))},this.getIssuer=function(_,T){return this.getX500Name(this.getIssuerHex(),_,T)},this.getIssuerHex=function(){return g(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){var _=this.getIssuer();return _.str},this.getSubject=function(_,T){return this.getX500Name(this.getSubjectHex(),_,T)},this.getSubjectHex=function(){return g(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){var _=this.getSubject();return _.str},this.getNotBefore=function(){var _=l(this.hex,0,[0,4+this.foffset,0]);return _=_.replace(/(..)/g,"%$1"),_=decodeURIComponent(_),_},this.getNotAfter=function(){var _=l(this.hex,0,[0,4+this.foffset,1]);return _=_.replace(/(..)/g,"%$1"),_=decodeURIComponent(_),_},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return g(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var _=this.getSPKI();return _==null?null:l(_,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return v(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var _=this.getPublicKeyIdx();return v(this.hex,_,[1,0],"30")},this.getPublicKey=function(){return KEYUTIL.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var _=g(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(_)},this.getSignatureValueHex=function(){return l(this.hex,0,[2],"03",!0)},this.verifySignature=function(_){var T=this.getSignatureAlgorithmField(),k=this.getSignatureValueHex(),N=g(this.hex,0,[0],"30"),K=new KJUR.crypto.Signature({alg:T});return K.init(_),K.updateHex(N),K.verify(k)},this.parseExt=function(_){var T,k,N;if(_===void 0){if(N=this.hex,this.version!==3)return-1;T=v(N,0,[0,7,0],"30"),k=n(N,T)}else{N=pemtohex(_);var K=v(N,0,[0,3,0,0],"06");if(a(N,K)!="2a864886f70d01090e"){this.aExtInfo=new Array;return}T=v(N,0,[0,3,0,1,0],"30"),k=n(N,T),this.hex=N}this.aExtInfo=new Array;for(var O=0;O<k.length;O++){var V={};V.critical=!1;var J=n(N,k[O]),H=0;J.length===3&&(V.critical=!0,H=1),V.oid=r.hextooidstr(l(N,k[O],[0],"06"));var G=v(N,k[O],[1+H]);V.vidx=m(N,G),this.aExtInfo.push(V)}},this.getExtInfo=function(_){var T=this.aExtInfo,k=_;if(_.match(/^[0-9.]+$/)||(k=KJUR.asn1.x509.OID.name2oid(_)),k!==""){for(var N=0;N<T.length;N++)if(T[N].oid===k)return T[N]}},this.getCriticalExtV=function(_,T,k){if(T!=null)return[T,k];var N=this.getExtInfo(_);return N==null?[null,null]:[u(this.hex,N.vidx),N.critical]},this.getExtBasicConstraints=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("basicConstraints");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"basicConstraints"};if(T&&(N.critical=!0),_==="3000")return N;if(_==="30030101ff")return N.cA=!0,N;if(_.substr(0,12)==="30060101ff02"){var K=a(_,10),O=parseInt(K,16);return N.cA=!0,N.pathLen=O,N}throw new Error("hExtV parse error: "+_)},this.getExtNameConstraints=function(_,T){var k=this.getCriticalExtV("nameConstraints",_,T);if(_=k[0],T=k[1],_!=null){var N={extname:"nameConstraints"};T&&(N.critical=!0);for(var K=n(_,0),O=0;O<K.length;O++){for(var V=[],J=n(_,K[O]),H=0;H<J.length;H++){var G=u(_,J[H]),te=this.getGeneralSubtree(G);V.push(te)}var Q=_.substr(K[O],2);Q=="a0"?N.permit=V:Q=="a1"&&(N.exclude=V)}return N}},this.getGeneralSubtree=function(_){var T=n(_,0),k=T.length;if(k<1||2<k)throw new Error("wrong num elements");for(var N=this.getGeneralName(u(_,T[0])),K=1;K<k;K++){var O=_.substr(T[K],2),V=a(_,T[K]),J=parseInt(V,16);O=="80"&&(N.min=J),O=="81"&&(N.max=J)}return N},this.getExtKeyUsage=function(_,T){var k=this.getCriticalExtV("keyUsage",_,T);if(_=k[0],T=k[1],_!=null){var N={extname:"keyUsage"};return T&&(N.critical=!0),N.names=this.getExtKeyUsageString(_).split(","),N}},this.getExtKeyUsageBin=function(_){if(_===void 0){var T=this.getExtInfo("keyUsage");if(T===void 0)return"";_=u(this.hex,T.vidx)}if(_.length!=8&&_.length!=10)throw new Error("malformed key usage value: "+_);var k="000000000000000"+parseInt(_.substr(6),16).toString(2);return _.length==8&&(k=k.slice(-8)),_.length==10&&(k=k.slice(-16)),k=k.replace(/0+$/,""),k==""&&(k="0"),k},this.getExtKeyUsageString=function(_){for(var T=this.getExtKeyUsageBin(_),k=new Array,N=0;N<T.length;N++)T.substr(N,1)=="1"&&k.push(X509.KEYUSAGE_NAME[N]);return k.join(",")},this.getExtSubjectKeyIdentifier=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("subjectKeyIdentifier");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"subjectKeyIdentifier"};T&&(N.critical=!0);var K=a(_,0);return N.kid={hex:K},N},this.getExtAuthorityKeyIdentifier=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("authorityKeyIdentifier");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"authorityKeyIdentifier"};T&&(N.critical=!0);for(var K=n(_,0),O=0;O<K.length;O++){var V=_.substr(K[O],2);if(V==="80"&&(N.kid={hex:a(_,K[O])}),V==="a1"){var J=u(_,K[O]),H=this.getGeneralNames(J);N.issuer=H[0].dn}V==="82"&&(N.sn={hex:a(_,K[O])})}return N},this.getExtExtKeyUsage=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("extKeyUsage");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"extKeyUsage",array:[]};T&&(N.critical=!0);for(var K=n(_,0),O=0;O<K.length;O++)N.array.push(y(a(_,K[O])));return N},this.getExtExtKeyUsageName=function(){var _=this.getExtInfo("extKeyUsage");if(_===void 0)return _;var T=new Array,k=u(this.hex,_.vidx);if(k==="")return T;for(var N=n(k,0),K=0;K<N.length;K++)T.push(y(a(k,N[K])));return T},this.getExtSubjectAltName=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("subjectAltName");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"subjectAltName",array:[]};return T&&(N.critical=!0),N.array=this.getGeneralNames(_),N},this.getExtIssuerAltName=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("issuerAltName");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"issuerAltName",array:[]};return T&&(N.critical=!0),N.array=this.getGeneralNames(_),N},this.getGeneralNames=function(_){for(var T=n(_,0),k=[],N=0;N<T.length;N++){var K=this.getGeneralName(u(_,T[N]));K!==void 0&&k.push(K)}return k},this.getGeneralName=function(_){var T=_.substr(0,2),k=a(_,0),N=hextorstr(k);if(T=="81")return{rfc822:N};if(T=="82")return{dns:N};if(T=="86")return{uri:N};if(T=="87")return{ip:hextoip(k)};if(T=="a4")return{dn:this.getX500Name(k)};if(T=="a0")return{other:this.getOtherName(_)}},this.getExtSubjectAltName2=function(){var _,T,k,N=this.getExtInfo("subjectAltName");if(N===void 0)return N;for(var K=new Array,O=u(this.hex,N.vidx),V=n(O,0),J=0;J<V.length;J++)k=O.substr(V[J],2),_=a(O,V[J]),k==="81"&&(T=hextoutf8(_),K.push(["MAIL",T])),k==="82"&&(T=hextoutf8(_),K.push(["DNS",T])),k==="84"&&(T=X509.hex2dn(_,0),K.push(["DN",T])),k==="86"&&(T=hextoutf8(_),K.push(["URI",T])),k==="87"&&(T=hextoip(_),K.push(["IP",T]));return K},this.getExtCRLDistributionPoints=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("cRLDistributionPoints");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"cRLDistributionPoints",array:[]};T&&(N.critical=!0);for(var K=n(_,0),O=0;O<K.length;O++){var V=u(_,K[O]);N.array.push(this.getDistributionPoint(V))}return N},this.getDistributionPoint=function(_){for(var T={},k=n(_,0),N=0;N<k.length;N++){var K=_.substr(k[N],2),O=u(_,k[N]);K=="a0"&&(T.dpname=this.getDistributionPointName(O))}return T},this.getDistributionPointName=function(_){for(var T={},k=n(_,0),N=0;N<k.length;N++){var K=_.substr(k[N],2),O=u(_,k[N]);K=="a0"&&(T.full=this.getGeneralNames(O))}return T},this.getExtCRLDistributionPointsURI=function(){var _=this.getExtCRLDistributionPoints();if(_==null)return _;for(var T=_.array,k=[],N=0;N<T.length;N++)try{T[N].dpname.full[0].uri!=null&&k.push(T[N].dpname.full[0].uri)}catch{}return k},this.getExtAIAInfo=function(){var _=this.getExtInfo("authorityInfoAccess");if(_===void 0)return _;for(var T={ocsp:[],caissuer:[]},k=n(this.hex,_.vidx),N=0;N<k.length;N++){var K=l(this.hex,k[N],[0],"06"),O=l(this.hex,k[N],[1],"86");K==="2b06010505073001"&&T.ocsp.push(hextoutf8(O)),K==="2b06010505073002"&&T.caissuer.push(hextoutf8(O))}return T},this.getExtAuthorityInfoAccess=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("authorityInfoAccess");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"authorityInfoAccess",array:[]};T&&(N.critical=!0);for(var K=n(_,0),O=0;O<K.length;O++){var V=c(_,K[O],[0],"06"),J=l(_,K[O],[1],"86"),H=hextoutf8(J);if(V=="2b06010505073001")N.array.push({ocsp:H});else if(V=="2b06010505073002")N.array.push({caissuer:H});else throw new Error("unknown method: "+V)}return N},this.getExtCertificatePolicies=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("certificatePolicies");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"certificatePolicies",array:[]};T&&(N.critical=!0);for(var K=n(_,0),O=0;O<K.length;O++){var V=u(_,K[O]),J=this.getPolicyInformation(V);N.array.push(J)}return N},this.getPolicyInformation=function(_){var T={},k=l(_,0,[0],"06");T.policyoid=y(k);var N=x(_,0,[1],"30");if(N!=-1){T.array=[];for(var K=n(_,N),O=0;O<K.length;O++){var V=u(_,K[O]),J=this.getPolicyQualifierInfo(V);T.array.push(J)}}return T},this.getOtherName=function(_){var T={},k=n(_,0),N=l(_,k[0],[],"06"),K=l(_,k[1],[]);return T.oid=y(N),T.value=o(K),T},this.getPolicyQualifierInfo=function(_){var T={},k=l(_,0,[0],"06");if(k==="2b06010505070201"){var N=c(_,0,[1],"16");T.cps=hextorstr(N)}else if(k==="2b06010505070202"){var K=g(_,0,[1],"30");T.unotice=this.getUserNotice(K)}return T},this.getUserNotice=function(_){var T=null;try{T=r.parse(_);var k=this._asn1ToUnotice(T);return k}catch{return}},this._asn1ToUnotice=function(_){try{for(var T={},k=aryval(_,"seq"),N=0;N<k.length;N++){var K=this._asn1ToNoticeRef(k[N]);K!=null&&(T.noticeref=K);var O=this.asn1ToDisplayText(k[N]);O!=null&&(T.exptext=O)}return Object.keys(T).length>0?T:void 0}catch{return}},this._asn1ToNoticeRef=function(_){try{for(var T={},k=aryval(_,"seq"),N=0;N<k.length;N++){var K=this._asn1ToNoticeNum(k[N]);K!=null&&(T.noticenum=K);var O=this.asn1ToDisplayText(k[N]);O!=null&&(T.org=O)}return Object.keys(T).length>0?T:void 0}catch{return}},this._asn1ToNoticeNum=function(_){try{for(var T=aryval(_,"seq"),k=[],N=0;N<T.length;N++){var K=T[N];k.push(parseInt(aryval(K,"int.hex"),16))}return k}catch{return}},this.getDisplayText=function(_){var T={"0c":"utf8","16":"ia5","1a":"vis","1e":"bmp"},k={};return k.type=T[_.substr(0,2)],k.str=hextorstr(a(_,0)),k},this.asn1ToDisplayText=function(_){if(_.utf8str!=null)return{type:"utf8",str:_.utf8str.str};if(_.ia5str!=null)return{type:"ia5",str:_.ia5str.str};if(_.visstr!=null)return{type:"vis",str:_.visstr.str};if(_.bmpstr!=null)return{type:"bmp",str:_.bmpstr.str};if(_.prnstr!=null)return{type:"prn",str:_.prnstr.str}},this.getExtPolicyMappings=function(_,T){var k=this.getCriticalExtV("policyMappings",_,T);if(_=k[0],T=k[1],_!=null){var N={extname:"policyMappings"};T&&(N.critical=!0);try{for(var K=o(_),O=K.seq,V=[],J=0;J<O.length;J++){var H=O[J].seq;V.push([H[0].oid,H[1].oid])}N.array=V}catch{throw new B("malformed policyMappings")}return N}},this.getExtPolicyConstraints=function(_,T){var k=this.getCriticalExtV("policyConstraints",_,T);if(_=k[0],T=k[1],_!=null){var N={extname:"policyConstraints"};T&&(N.critical=!0);var K=o(_);try{for(var O=K.seq,V=0;V<O.length;V++){var J=O[V].tag;J.explicit==!1&&(J.tag=="80"&&(N.reqexp=parseInt(J.hex,16)),J.tag=="81"&&(N.inhibit=parseInt(J.hex,16)))}}catch{return new B("malformed policyConstraints value")}return N}},this.getExtInhibitAnyPolicy=function(_,T){var k=this.getCriticalExtV("inhibitAnyPolicy",_,T);if(_=k[0],T=k[1],_!=null){var N={extname:"inhibitAnyPolicy"};T&&(N.critical=!0);var K=E(_,0);return K==-1?new B("wrong value"):(N.skip=K,N)}},this.getExtCRLNumber=function(_,T){var k={extname:"cRLNumber"};if(T&&(k.critical=!0),_.substr(0,2)=="02")return k.num={hex:a(_,0)},k;throw new B("hExtV parse error: "+_)},this.getExtCRLReason=function(_,T){var k={extname:"cRLReason"};if(T&&(k.critical=!0),_.substr(0,2)=="0a")return k.code=parseInt(a(_,0),16),k;throw new Error("hExtV parse error: "+_)},this.getExtOcspNonce=function(_,T){var k={extname:"ocspNonce"};T&&(k.critical=!0);var N=a(_,0);return k.hex=N,k},this.getExtOcspNoCheck=function(_,T){var k={extname:"ocspNoCheck"};return T&&(k.critical=!0),k},this.getExtAdobeTimeStamp=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("adobeTimeStamp");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"adobeTimeStamp"};T&&(N.critical=!0);var K=n(_,0);if(K.length>1){var O=u(_,K[1]),V=this.getGeneralName(O);V.uri!=null&&(N.uri=V.uri)}if(K.length>2){var J=u(_,K[2]);J=="0101ff"&&(N.reqauth=!0),J=="010100"&&(N.reqauth=!1)}return N},this.getExtSubjectDirectoryAttributes=function(_,T){if(_===void 0&&T===void 0){var k=this.getExtInfo("subjectDirectoryAttributes");if(k===void 0)return;_=u(this.hex,k.vidx),T=k.critical}var N={extname:"subjectDirectoryAttributes"};T&&(N.critical=!0);try{for(var K=o(_),O=[],V=0;V<K.seq.length;V++){var J=K.seq[V],H=aryval(J,"seq.0.oid"),G=aryval(J,"seq.1.set");if(H==null||G==null)throw"error";O.push({attr:H,array:G})}return N.array=O,N}catch{throw new Error("malformed subjectDirectoryAttributes extension value")}};var w=function(_){var T={};try{var k=_.seq[0].oid,N=KJUR.asn1.x509.OID.name2oid(k);T.type=KJUR.asn1.x509.OID.oid2atype(N);var K=_.seq[1];if(K.utf8str!=null)T.ds="utf8",T.value=K.utf8str.str;else if(K.numstr!=null)T.ds="num",T.value=K.numstr.str;else if(K.telstr!=null)T.ds="tel",T.value=K.telstr.str;else if(K.prnstr!=null)T.ds="prn",T.value=K.prnstr.str;else if(K.ia5str!=null)T.ds="ia5",T.value=K.ia5str.str;else if(K.visstr!=null)T.ds="vis",T.value=K.visstr.str;else if(K.bmpstr!=null)T.ds="bmp",T.value=K.bmpstr.str;else throw"error";return T}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},F=function(_){try{return _.set.map(function(T){return w(T)})}catch(T){throw new Error("improper ASN.1 parsed RDN: "+T)}},U=function(_){try{return _.seq.map(function(T){return F(T)})}catch(T){throw new Error("improper ASN.1 parsed X500Name: "+T)}};this.getX500NameRule=function(_){for(var T=null,k=[],N=0;N<_.length;N++)for(var K=_[N],O=0;O<K.length;O++)k.push(K[O]);for(var N=0;N<k.length;N++){var V=k[N],J=V.ds,H=V.value,G=V.type;if(J!="prn"&&J!="utf8"&&J!="ia5")return"mixed";if(J=="ia5"){if(G!="CN")return"mixed";if(KJUR.lang.String.isMail(H))continue;return"mixed"}if(G=="C"){if(J=="prn")continue;return"mixed"}if(T==null)T=J;else if(T!==J)return"mixed"}return T==null?"prn":T},this.getAttrTypeAndValue=function(_){var T=o(_);return w(T)},this.getRDN=function(_){var T=o(_);return F(T)},this.getX500NameArray=function(_){var T=o(_);return U(T)},this.getX500Name=function(_,T,k){var N=this.getX500NameArray(_),K=this.dnarraytostr(N),O={str:K};return O.array=N,k==!0&&(O.hex=_),T==!0&&(O.canon=this.c14nRDNArray(N)),O},this.readCertPEM=function(_){this.readCertHex(b(_))},this.readCertHex=function(_){this.hex=_,this.getVersion();try{v(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(_){var T={};return _==null&&(_={}),T.version=this.getVersion(),T.serial={hex:this.getSerialNumberHex()},T.sigalg=this.getSignatureAlgorithmField(),T.issuer=this.getIssuer(_.dncanon,_.dnhex),T.notbefore=this.getNotBefore(),T.notafter=this.getNotAfter(),T.subject=this.getSubject(_.dncanon,_.dnhex),T.sbjpubkey=hextopem(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo!=null&&this.aExtInfo.length>0&&(T.ext=this.getExtParamArray()),T.sighex=this.getSignatureValueHex(),_.tbshex==!0&&(T.tbshex=g(this.hex,0,[0])),_.nodnarray==!0&&(delete T.issuer.array,delete T.subject.array),T},this.getExtParamArray=function(_){if(_==null){var T=x(this.hex,0,[0,"[3]"]);T!=-1&&(_=d(this.hex,0,[0,"[3]",0],"30"))}for(var k=[],N=n(_,0),K=0;K<N.length;K++){var O=u(_,N[K]),V=this.getExtParam(O);V!=null&&k.push(V)}return k},this.getExtParam=function(_){var T=n(_,0),k=T.length;if(k!=2&&k!=3)throw new Error("wrong number elements in Extension: "+k+" "+_);var N=C(l(_,0,[0],"06")),K=!1;k==3&&g(_,0,[1])=="0101ff"&&(K=!0);var O=g(_,0,[k-1,0]),V=void 0;if(N=="2.5.29.14"?V=this.getExtSubjectKeyIdentifier(O,K):N=="2.5.29.15"?V=this.getExtKeyUsage(O,K):N=="2.5.29.17"?V=this.getExtSubjectAltName(O,K):N=="2.5.29.18"?V=this.getExtIssuerAltName(O,K):N=="2.5.29.19"?V=this.getExtBasicConstraints(O,K):N=="2.5.29.30"?V=this.getExtNameConstraints(O,K):N=="2.5.29.31"?V=this.getExtCRLDistributionPoints(O,K):N=="2.5.29.32"?V=this.getExtCertificatePolicies(O,K):N=="2.5.29.33"?V=this.getExtPolicyMappings(O,K):N=="2.5.29.35"?V=this.getExtAuthorityKeyIdentifier(O,K):N=="2.5.29.36"?V=this.getExtPolicyConstraints(O,K):N=="2.5.29.37"?V=this.getExtExtKeyUsage(O,K):N=="2.5.29.54"?V=this.getExtInhibitAnyPolicy(O,K):N=="1.3.6.1.5.5.7.1.1"?V=this.getExtAuthorityInfoAccess(O,K):N=="2.5.29.20"?V=this.getExtCRLNumber(O,K):N=="2.5.29.21"?V=this.getExtCRLReason(O,K):N=="2.5.29.9"?V=this.getExtSubjectDirectoryAttributes(O,K):N=="1.3.6.1.5.5.7.48.1.2"?V=this.getExtOcspNonce(O,K):N=="1.3.6.1.5.5.7.48.1.5"?V=this.getExtOcspNoCheck(O,K):N=="1.2.840.113583.1.1.9.1"?V=this.getExtAdobeTimeStamp(O,K):X509.EXT_PARSER[N]!=null&&(V=X509.EXT_PARSER[N](N,K,O)),V!=null)return V;var J={extname:N,extn:O};try{J.extn=o(O)}catch{}return K&&(J.critical=!0),J},this.findExt=function(_,T){for(var k=0;k<_.length;k++)if(_[k].extname==T)return _[k];return null},this.updateExtCDPFullURI=function(_,T){var k=this.findExt(_,"cRLDistributionPoints");if(k!=null&&k.array!=null){for(var N=k.array,K=0;K<N.length;K++)if(N[K].dpname!=null&&N[K].dpname.full!=null)for(var O=N[K].dpname.full,V=0;V<O.length;V++){var J=O[K];J.uri!=null&&(J.uri=T)}}},this.updateExtAIAOCSP=function(_,T){var k=this.findExt(_,"authorityInfoAccess");if(k!=null&&k.array!=null)for(var N=k.array,K=0;K<N.length;K++)N[K].ocsp!=null&&(N[K].ocsp=T)},this.updateExtAIACAIssuer=function(_,T){var k=this.findExt(_,"authorityInfoAccess");if(k!=null&&k.array!=null)for(var N=k.array,K=0;K<N.length;K++)N[K].caissuer!=null&&(N[K].caissuer=T)},this.dnarraytostr=function(_){function T(N){return N.map(function(K){return k(K).replace(/\+/,"\\+")}).join("+")}function k(N){return N.type+"="+N.value}return"/"+_.map(function(N){return T(N).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(_){var T;if(_.str!=null&&_.array==null){var k=new KJUR.asn1.x509.X500Name({str:_.str}),N=k.tohex();T=this.getX500NameArray(N)}else T=_.array;_.canon==null&&(_.canon=this.c14nRDNArray(T))},this.c14nRDNArray=function(_){for(var T=[],k=0;k<_.length;k++){for(var N=_[k],K=[],O=0;O<N.length;O++){var V=N[O],J=V.value;J=J.replace(/^\s*/,""),J=J.replace(/\s*$/,""),J=J.replace(/\s+/g," "),J=J.toLowerCase(),K.push(V.type.toLowerCase()+"="+J)}T.push(K.join("+"))}return"/"+T.join("/")},this.getInfo=function(){var _=function(ue){for(var se="",oe="    ",Se=`
`,be=ue.array,$e=0;$e<be.length;$e++){var ye=be[$e];if(ye.dn!=null&&(se+=oe+"dn: "+ye.dn.str+Se),ye.ip!=null&&(se+=oe+"ip: "+ye.ip+Se),ye.rfc822!=null&&(se+=oe+"rfc822: "+ye.rfc822+Se),ye.dns!=null&&(se+=oe+"dns: "+ye.dns+Se),ye.uri!=null&&(se+=oe+"uri: "+ye.uri+Se),ye.other!=null){var j=ye.other.oid,ee=JSON.stringify(ye.other.value).replace(/\"/g,"");se+=oe+"other: "+j+"="+ee+Se}}return se=se.replace(/\n$/,""),se},T=function(ue){for(var se="",oe=ue.array,Se=0;Se<oe.length;Se++){var be=oe[Se];if(se+="    policy oid: "+be.policyoid+`
`,be.array!==void 0)for(var $e=0;$e<be.array.length;$e++){var ye=be.array[$e];ye.cps!==void 0&&(se+="    cps: "+ye.cps+`
`)}}return se},k=function(ue){for(var se="",oe=ue.array,Se=0;Se<oe.length;Se++){var be=oe[Se];try{be.dpname.full[0].uri!==void 0&&(se+="    "+be.dpname.full[0].uri+`
`)}catch{}try{be.dname.full[0].dn.hex!==void 0&&(se+="    "+X509.hex2dn(be.dpname.full[0].dn.hex)+`
`)}catch{}}return se},N=function(ue){for(var se="",oe=ue.array,Se=0;Se<oe.length;Se++){var be=oe[Se];be.caissuer!==void 0&&(se+="    caissuer: "+be.caissuer+`
`),be.ocsp!==void 0&&(se+="    ocsp: "+be.ocsp+`
`)}return se},K,O,V;if(K=`Basic Fields
`,K+="  serial number: "+this.getSerialNumberHex()+`
`,K+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,K+="  issuer: "+this.getIssuerString()+`
`,K+="  notBefore: "+this.getNotBefore()+`
`,K+="  notAfter: "+this.getNotAfter()+`
`,K+="  subject: "+this.getSubjectString()+`
`,K+=`  subject public key info: 
`,O=this.getPublicKey(),K+="    key algorithm: "+O.type+`
`,O.type==="RSA"&&(K+="    n="+hextoposhex(O.n.toString(16)).substr(0,16)+`...
`,K+="    e="+hextoposhex(O.e.toString(16))+`
`),V=this.aExtInfo,V!=null){K+=`X509v3 Extensions:
`;for(var J=0;J<V.length;J++){var H=V[J],G=KJUR.asn1.x509.OID.oid2name(H.oid);G===""&&(G=H.oid);var te="";if(H.critical===!0&&(te="CRITICAL"),K+="  "+G+" "+te+`:
`,G==="basicConstraints"){var Q=this.getExtBasicConstraints();Q.cA===void 0?K+=`    {}
`:(K+="    cA=true",Q.pathLen!==void 0&&(K+=", pathLen="+Q.pathLen),K+=`
`)}else if(G=="policyMappings"){var xe=this.getExtPolicyMappings().array,ce=xe.map(function(ue){var se=ue;return se[0]+":"+se[1]}).join(", ");K+="    "+ce+`
`}else if(G=="policyConstraints"){var de=this.getExtPolicyConstraints();K+="    ",de.reqexp!=null&&(K+=" reqexp="+de.reqexp),de.inhibit!=null&&(K+=" inhibit="+de.inhibit),K+=`
`}else if(G=="inhibitAnyPolicy"){var de=this.getExtInhibitAnyPolicy();K+="    skip="+de.skip+`
`}else if(G=="keyUsage")K+="    "+this.getExtKeyUsageString()+`
`;else if(G=="subjectKeyIdentifier")K+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(G=="authorityKeyIdentifier"){var W=this.getExtAuthorityKeyIdentifier();W.kid!==void 0&&(K+="    kid="+W.kid.hex+`
`)}else if(G=="extKeyUsage"){var re=this.getExtExtKeyUsage().array;K+="    "+re.join(", ")+`
`}else if(G=="subjectAltName"){var q=_(this.getExtSubjectAltName());K+=q+`
`}else if(G=="cRLDistributionPoints"){var ie=this.getExtCRLDistributionPoints();K+=k(ie)}else if(G=="authorityInfoAccess"){var ne=this.getExtAuthorityInfoAccess();K+=N(ne)}else G=="certificatePolicies"&&(K+=T(this.getExtCertificatePolicies()))}}return K+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,K+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`,K},typeof e=="string"&&(e.indexOf("-----BEGIN")!=-1?this.readCertPEM(e):KJUR.lang.String.isHex(e)&&this.readCertHex(e))}X509.EXT_PARSER={};X509.registExtParser=function(e,r){X509.EXT_PARSER[e]=r};X509.hex2dn=function(e,r){r===void 0&&(r=0);var n=new X509;ASN1HEX.getTLV(e,r);var a=n.getX500Name(e);return a.str};X509.hex2rdn=function(e,r){if(r===void 0&&(r=0),e.substr(r,2)!=="31")throw new Error("malformed RDN");for(var n=new Array,a=ASN1HEX.getChildIdx(e,r),o=0;o<a.length;o++)n.push(X509.hex2attrTypeValue(e,a[o]));return n=n.map(function(u){return u.replace("+","\\+")}),n.join("+")};X509.hex2attrTypeValue=function(e,r){var n=ASN1HEX,a=n.getV;if(r===void 0&&(r=0),e.substr(r,2)!=="30")throw new Error("malformed attribute type and value");var o=n.getChildIdx(e,r);o.length!==2||e.substr(o[0],2);var u=a(e,o[0]),l=KJUR.asn1.ASN1Util.oidHexToInt(u),c=KJUR.asn1.x509.OID.oid2atype(l),g=a(e,o[1]),d=hextorstr(g);return c+"="+d};X509.getPublicKeyFromCertHex=function(e){var r=new X509;return r.readCertHex(e),r.getPublicKey()};X509.getPublicKeyFromCertPEM=function(e){var r=new X509;return r.readCertPEM(e),r.getPublicKey()};X509.getPublicKeyInfoPropOfCertPEM=function(e){var r=ASN1HEX,n=r.getVbyList,a={},o,u;return a.algparam=null,o=new X509,o.readCertPEM(e),u=o.getPublicKeyHex(),a.keyhex=n(u,0,[1],"03").substr(2),a.algoid=n(u,0,[0,0],"06"),a.algoid==="2a8648ce3d0201"&&(a.algparam=n(u,0,[0,1],"06")),a};X509.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.jws=="undefined"||!KJUR.jws)&&(KJUR.jws={});KJUR.jws.JWS=function(){var e=KJUR,r=e.jws.JWS,n=r.isSafeJSONString;this.parseJWS=function(a,o){if(!(this.parsedJWS!==void 0&&(o||this.parsedJWS.sigvalH!==void 0))){var u=a.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(u==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var l=u[1],c=u[2],g=u[3],d=l+"."+c;if(this.parsedJWS={},this.parsedJWS.headB64U=l,this.parsedJWS.payloadB64U=c,this.parsedJWS.sigvalB64U=g,this.parsedJWS.si=d,!o){var v=b64utohex(g),x=parseBigInt(v,16);this.parsedJWS.sigvalH=v,this.parsedJWS.sigvalBI=x}var m=b64utoutf8(l),E=b64utoutf8(c);if(this.parsedJWS.headS=m,this.parsedJWS.payloadS=E,!n(m,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+m}}};KJUR.jws.JWS.sign=function(e,r,n,a,o){var u=KJUR,l=u.jws,c=l.JWS,g=c.readSafeJSONString,d=c.isSafeJSONString,v=u.crypto;v.ECDSA;var x=v.Mac,m=v.Signature,E=JSON,y,C,b;if(typeof r!="string"&&typeof r!="object")throw"spHeader must be JSON string or object: "+r;if(typeof r=="object"&&(C=r,y=E.stringify(C)),typeof r=="string"){if(y=r,!d(y))throw"JWS Head is not safe JSON string: "+y;C=g(y)}if(b=n,typeof n=="object"&&(b=E.stringify(n)),(e==""||e==null)&&C.alg!==void 0&&(e=C.alg),e!=""&&e!=null&&C.alg===void 0&&(C.alg=e,y=E.stringify(C)),e!==C.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+C.alg;var $=null;if(c.jwsalg2sigalg[e]===void 0)throw"unsupported alg name: "+e;$=c.jwsalg2sigalg[e];var B=utf8tob64u(y),w=utf8tob64u(b),F=B+"."+w,U="";if($.substr(0,4)=="Hmac"){if(a===void 0)throw"mac key shall be specified for HS* alg";var _=new x({alg:$,prov:"cryptojs",pass:a});_.updateString(F),U=_.doFinal()}else if($.indexOf("withECDSA")!=-1){var T=new m({alg:$});T.init(a,o),T.updateString(F);var k=T.sign();U=KJUR.crypto.ECDSA.asn1SigToConcatSig(k)}else if($!="none"){var T=new m({alg:$});T.init(a,o),T.updateString(F),U=T.sign()}var N=hextob64u(U);return F+"."+N};KJUR.jws.JWS.verify=function(e,r,n){var a=KJUR,o=a.jws,u=o.JWS,l=u.readSafeJSONString,c=a.crypto,g=c.ECDSA,d=c.Mac,v=c.Signature,x;if(typeof RSAKey!==void 0&&(x=RSAKey),!isBase64URLDot(e))return!1;var m=e.split(".");if(m.length!==3)return!1;var E=m[0],y=m[1],C=E+"."+y,b=b64utohex(m[2]),$=l(b64utoutf8(m[0])),B=null,w=null;if($.alg===void 0)throw"algorithm not specified in header";if(B=$.alg,w=B.substr(0,2),n!=null&&Object.prototype.toString.call(n)==="[object Array]"&&n.length>0){var F=":"+n.join(":")+":";if(F.indexOf(":"+B+":")==-1)throw"algorithm '"+B+"' not accepted in the list"}if(B!="none"&&r===null)throw"key shall be specified to verify.";if(typeof r=="string"&&r.indexOf("-----BEGIN ")!=-1&&(r=KEYUTIL.getKey(r)),(w=="RS"||w=="PS")&&!(r instanceof x))throw"key shall be a RSAKey obj for RS* and PS* algs";if(w=="ES"&&!(r instanceof g))throw"key shall be a ECDSA obj for ES* algs";var U=null;if(u.jwsalg2sigalg[$.alg]===void 0)throw"unsupported alg name: "+B;if(U=u.jwsalg2sigalg[B],U=="none")throw"not supported";if(U.substr(0,4)=="Hmac"){var _=null;if(r===void 0)throw"hexadecimal key shall be specified for HMAC";var T=new d({alg:U,pass:r});return T.updateString(C),_=T.doFinal(),b==_}else if(U.indexOf("withECDSA")!=-1){var k=null;try{k=g.concatSigToASN1Sig(b)}catch{return!1}var N=new v({alg:U});return N.init(r),N.updateString(C),N.verify(k)}else{var N=new v({alg:U});return N.init(r),N.updateString(C),N.verify(b)}};KJUR.jws.JWS.parse=function(e){var r=e.split("."),n={},a,o,u;if(r.length!=2&&r.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return a=r[0],o=r[1],r.length==3&&(u=r[2]),n.headerObj=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(a)),n.payloadObj=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(o)),n.headerPP=JSON.stringify(n.headerObj,null,"  "),n.payloadObj==null?n.payloadPP=b64utoutf8(o):n.payloadPP=JSON.stringify(n.payloadObj,null,"  "),u!==void 0&&(n.sigHex=b64utohex(u)),n};KJUR.jws.JWS.verifyJWT=function(e,r,n){var a=KJUR,o=a.jws,u=o.JWS,l=u.readSafeJSONString,c=u.inArray,g=u.includedArray;if(!isBase64URLDot(e))return!1;var d=e.split(".");if(d.length!=3)return!1;var v=d[0],x=d[1];b64utohex(d[2]);var m=l(b64utoutf8(v)),E=l(b64utoutf8(x));if(m.alg===void 0)return!1;if(n.alg===void 0)throw"acceptField.alg shall be specified";if(!c(m.alg,n.alg)||E.iss!==void 0&&typeof n.iss=="object"&&!c(E.iss,n.iss)||E.sub!==void 0&&typeof n.sub=="object"&&!c(E.sub,n.sub))return!1;if(E.aud!==void 0&&typeof n.aud=="object"){if(typeof E.aud=="string"){if(!c(E.aud,n.aud))return!1}else if(typeof E.aud=="object"&&!g(E.aud,n.aud))return!1}var y=o.IntDate.getNow();return n.verifyAt!==void 0&&typeof n.verifyAt=="number"&&(y=n.verifyAt),(n.gracePeriod===void 0||typeof n.gracePeriod!="number")&&(n.gracePeriod=0),!(E.exp!==void 0&&typeof E.exp=="number"&&E.exp+n.gracePeriod<y||E.nbf!==void 0&&typeof E.nbf=="number"&&y<E.nbf-n.gracePeriod||E.iat!==void 0&&typeof E.iat=="number"&&y<E.iat-n.gracePeriod||E.jti!==void 0&&n.jti!==void 0&&E.jti!==n.jti||!u.verify(e,r,n.alg))};KJUR.jws.JWS.includedArray=function(e,r){var n=KJUR.jws.JWS.inArray;if(e===null||typeof e!="object"||typeof e.length!="number")return!1;for(var a=0;a<e.length;a++)if(!n(e[a],r))return!1;return!0};KJUR.jws.JWS.inArray=function(e,r){if(r===null||typeof r!="object"||typeof r.length!="number")return!1;for(var n=0;n<r.length;n++)if(r[n]==e)return!0;return!1};KJUR.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"};KJUR.jws.JWS.isSafeJSONString=function(e,r,n){var a=null;try{return a=jsonParse(e),typeof a!="object"||a.constructor===Array?0:(r&&(r[n]=a),1)}catch{return 0}};KJUR.jws.JWS.readSafeJSONString=function(e){var r=null;try{return r=jsonParse(e),typeof r!="object"||r.constructor===Array?null:r}catch{return null}};KJUR.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var r=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(r==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return r[1]};KJUR.jws.JWS.getJWKthumbprint=function(e){if(e.kty!=="RSA"&&e.kty!=="EC"&&e.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var r="{";if(e.kty==="RSA"){if(typeof e.n!="string"||typeof e.e!="string")throw"wrong n and e value for RSA key";r+='"e":"'+e.e+'",',r+='"kty":"'+e.kty+'",',r+='"n":"'+e.n+'"}'}else if(e.kty==="EC"){if(typeof e.crv!="string"||typeof e.x!="string"||typeof e.y!="string")throw"wrong crv, x and y value for EC key";r+='"crv":"'+e.crv+'",',r+='"kty":"'+e.kty+'",',r+='"x":"'+e.x+'",',r+='"y":"'+e.y+'"}'}else if(e.kty==="oct"){if(typeof e.k!="string")throw"wrong k value for oct(symmetric) key";r+='"kty":"'+e.kty+'",',r+='"k":"'+e.k+'"}'}var n=rstrtohex(r),a=KJUR.crypto.Util.hashHex(n,"sha256"),o=hextob64u(a);return o};KJUR.jws.IntDate={};KJUR.jws.IntDate.get=function(e){var r=KJUR.jws.IntDate,n=r.getNow,a=r.getZulu;if(e=="now")return n();if(e=="now + 1hour")return n()+60*60;if(e=="now + 1day")return n()+60*60*24;if(e=="now + 1month")return n()+60*60*24*30;if(e=="now + 1year")return n()+60*60*24*365;if(e.match(/Z$/))return a(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e};KJUR.jws.IntDate.getZulu=function(e){return zulutosec(e)};KJUR.jws.IntDate.getNow=function(){var e=~~(new Date/1e3);return e};KJUR.jws.IntDate.intDate2UTCString=function(e){var r=new Date(e*1e3);return r.toUTCString()};KJUR.jws.IntDate.intDate2Zulu=function(e){var r=new Date(e*1e3),n=("0000"+r.getUTCFullYear()).slice(-4),a=("00"+(r.getUTCMonth()+1)).slice(-2),o=("00"+r.getUTCDate()).slice(-2),u=("00"+r.getUTCHours()).slice(-2),l=("00"+r.getUTCMinutes()).slice(-2),c=("00"+r.getUTCSeconds()).slice(-2);return n+a+o+u+l+c+"Z"};(typeof KJUR=="undefined"||!KJUR)&&(KJUR={});(typeof KJUR.jws=="undefined"||!KJUR.jws)&&(KJUR.jws={});KJUR.jws.JWSJS=function(){var e=KJUR,r=e.jws,n=r.JWS,a=n.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(o){this.init();var u=o.split(".");if(u.length!=3)throw"malformed input JWS";this.aHeader.push(u[0]),this.sPayload=u[1],this.aSignature.push(u[2])},this.addSignature=function(o,u,l,c){if(this.sPayload===void 0||this.sPayload===null)throw"there's no JSON-JS signature to add.";var g=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var d=KJUR.jws.JWS.sign(o,u,this.sPayload,l,c),v=d.split("."),x=v[0],m=v[2];this.aHeader.push(v[0]),this.aSignature.push(v[2])}catch(E){throw this.aHeader.length>g&&this.aHeader.pop(),this.aSignature.length>g&&this.aSignature.pop(),"addSignature failed: "+E}},this.verifyAll=function(o){if(this.aHeader.length!==o.length||this.aSignature.length!==o.length)return!1;for(var u=0;u<o.length;u++){var l=o[u];if(l.length!==2)return!1;var c=this.verifyNth(u,l[0],l[1]);if(c===!1)return!1}return!0},this.verifyNth=function(o,u,l){if(this.aHeader.length<=o||this.aSignature.length<=o)return!1;var c=this.aHeader[o],g=this.aSignature[o],d=c+"."+this.sPayload+"."+g,v=!1;try{v=n.verify(d,u,l)}catch{return!1}return v},this.readJWSJS=function(o){if(typeof o=="string"){var u=a(o);if(u==null)throw"argument is not safe JSON object string";this.aHeader=u.headers,this.sPayload=u.payload,this.aSignature=u.signatures}else try{if(o.headers.length>0)this.aHeader=o.headers;else throw"malformed header";if(typeof o.payload=="string")this.sPayload=o.payload;else throw"malformed signatures";if(o.signatures.length>0)this.aSignature=o.signatures;else throw"malformed signatures"}catch(l){throw"malformed JWS-JS JSON object: "+l}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return this.aHeader.length==0?1:0}};KJUR.crypto.ECDSA;KJUR.crypto.DSA;KJUR.crypto.Signature;KJUR.crypto.MessageDigest;KJUR.crypto.Mac;KJUR.crypto.Cipher;var b64tohex_1=b64tohex,KJUR_1=KJUR,cryptoJs={exports:{}},core={exports:{}};(function(e,r){(function(n,a){e.exports=a()})(commonjsGlobal,function(){var n=n||function(a,o){var u;if(typeof window!="undefined"&&window.crypto&&(u=window.crypto),typeof self!="undefined"&&self.crypto&&(u=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(u=globalThis.crypto),!u&&typeof window!="undefined"&&window.msCrypto&&(u=window.msCrypto),!u&&typeof commonjsGlobal!="undefined"&&commonjsGlobal.crypto&&(u=commonjsGlobal.crypto),!u&&typeof commonjsRequire=="function")try{u=require("crypto")}catch{}var l=function(){if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function B(){}return function(w){var F;return B.prototype=w,F=new B,B.prototype=null,F}}(),g={},d=g.lib={},v=d.Base=function(){return{extend:function(B){var w=c(this);return B&&w.mixIn(B),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var B=this.extend();return B.init.apply(B,arguments),B},init:function(){},mixIn:function(B){for(var w in B)B.hasOwnProperty(w)&&(this[w]=B[w]);B.hasOwnProperty("toString")&&(this.toString=B.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),x=d.WordArray=v.extend({init:function(B,w){B=this.words=B||[],w!=o?this.sigBytes=w:this.sigBytes=B.length*4},toString:function(B){return(B||E).stringify(this)},concat:function(B){var w=this.words,F=B.words,U=this.sigBytes,_=B.sigBytes;if(this.clamp(),U%4)for(var T=0;T<_;T++){var k=F[T>>>2]>>>24-T%4*8&255;w[U+T>>>2]|=k<<24-(U+T)%4*8}else for(var N=0;N<_;N+=4)w[U+N>>>2]=F[N>>>2];return this.sigBytes+=_,this},clamp:function(){var B=this.words,w=this.sigBytes;B[w>>>2]&=4294967295<<32-w%4*8,B.length=a.ceil(w/4)},clone:function(){var B=v.clone.call(this);return B.words=this.words.slice(0),B},random:function(B){for(var w=[],F=0;F<B;F+=4)w.push(l());return new x.init(w,B)}}),m=g.enc={},E=m.Hex={stringify:function(B){for(var w=B.words,F=B.sigBytes,U=[],_=0;_<F;_++){var T=w[_>>>2]>>>24-_%4*8&255;U.push((T>>>4).toString(16)),U.push((T&15).toString(16))}return U.join("")},parse:function(B){for(var w=B.length,F=[],U=0;U<w;U+=2)F[U>>>3]|=parseInt(B.substr(U,2),16)<<24-U%8*4;return new x.init(F,w/2)}},y=m.Latin1={stringify:function(B){for(var w=B.words,F=B.sigBytes,U=[],_=0;_<F;_++){var T=w[_>>>2]>>>24-_%4*8&255;U.push(String.fromCharCode(T))}return U.join("")},parse:function(B){for(var w=B.length,F=[],U=0;U<w;U++)F[U>>>2]|=(B.charCodeAt(U)&255)<<24-U%4*8;return new x.init(F,w)}},C=m.Utf8={stringify:function(B){try{return decodeURIComponent(escape(y.stringify(B)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(B){return y.parse(unescape(encodeURIComponent(B)))}},b=d.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new x.init,this._nDataBytes=0},_append:function(B){typeof B=="string"&&(B=C.parse(B)),this._data.concat(B),this._nDataBytes+=B.sigBytes},_process:function(B){var w,F=this._data,U=F.words,_=F.sigBytes,T=this.blockSize,k=T*4,N=_/k;B?N=a.ceil(N):N=a.max((N|0)-this._minBufferSize,0);var K=N*T,O=a.min(K*4,_);if(K){for(var V=0;V<K;V+=T)this._doProcessBlock(U,V);w=U.splice(0,K),F.sigBytes-=O}return new x.init(w,O)},clone:function(){var B=v.clone.call(this);return B._data=this._data.clone(),B},_minBufferSize:0});d.Hasher=b.extend({cfg:v.extend(),init:function(B){this.cfg=this.cfg.extend(B),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(B){return this._append(B),this._process(),this},finalize:function(B){B&&this._append(B);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(B){return function(w,F){return new B.init(F).finalize(w)}},_createHmacHelper:function(B){return function(w,F){return new $.HMAC.init(B,F).finalize(w)}}});var $=g.algo={};return g}(Math);return n})})(core);var x64Core={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){return function(a){var o=n,u=o.lib,l=u.Base,c=u.WordArray,g=o.x64={};g.Word=l.extend({init:function(d,v){this.high=d,this.low=v}}),g.WordArray=l.extend({init:function(d,v){d=this.words=d||[],v!=a?this.sigBytes=v:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,v=d.length,x=[],m=0;m<v;m++){var E=d[m];x.push(E.high),x.push(E.low)}return c.create(x,this.sigBytes)},clone:function(){for(var d=l.clone.call(this),v=d.words=this.words.slice(0),x=v.length,m=0;m<x;m++)v[m]=v[m].clone();return d}})}(),n})})(x64Core);var libTypedarrays={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){return function(){if(typeof ArrayBuffer=="function"){var a=n,o=a.lib,u=o.WordArray,l=u.init,c=u.init=function(g){if(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),(g instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&g instanceof Uint8ClampedArray||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array)&&(g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)),g instanceof Uint8Array){for(var d=g.byteLength,v=[],x=0;x<d;x++)v[x>>>2]|=g[x]<<24-x%4*8;l.call(this,v,d)}else l.apply(this,arguments)};c.prototype=u}}(),n.lib.WordArray})})(libTypedarrays);var encUtf16={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.WordArray,l=a.enc;l.Utf16=l.Utf16BE={stringify:function(g){for(var d=g.words,v=g.sigBytes,x=[],m=0;m<v;m+=2){var E=d[m>>>2]>>>16-m%4*8&65535;x.push(String.fromCharCode(E))}return x.join("")},parse:function(g){for(var d=g.length,v=[],x=0;x<d;x++)v[x>>>1]|=g.charCodeAt(x)<<16-x%2*16;return u.create(v,d*2)}},l.Utf16LE={stringify:function(g){for(var d=g.words,v=g.sigBytes,x=[],m=0;m<v;m+=2){var E=c(d[m>>>2]>>>16-m%4*8&65535);x.push(String.fromCharCode(E))}return x.join("")},parse:function(g){for(var d=g.length,v=[],x=0;x<d;x++)v[x>>>1]|=c(g.charCodeAt(x)<<16-x%2*16);return u.create(v,d*2)}};function c(g){return g<<8&4278255360|g>>>8&16711935}}(),n.enc.Utf16})})(encUtf16);var encBase64={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.WordArray,l=a.enc;l.Base64={stringify:function(g){var d=g.words,v=g.sigBytes,x=this._map;g.clamp();for(var m=[],E=0;E<v;E+=3)for(var y=d[E>>>2]>>>24-E%4*8&255,C=d[E+1>>>2]>>>24-(E+1)%4*8&255,b=d[E+2>>>2]>>>24-(E+2)%4*8&255,$=y<<16|C<<8|b,B=0;B<4&&E+B*.75<v;B++)m.push(x.charAt($>>>6*(3-B)&63));var w=x.charAt(64);if(w)for(;m.length%4;)m.push(w);return m.join("")},parse:function(g){var d=g.length,v=this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var m=0;m<v.length;m++)x[v.charCodeAt(m)]=m}var E=v.charAt(64);if(E){var y=g.indexOf(E);y!==-1&&(d=y)}return c(g,d,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(g,d,v){for(var x=[],m=0,E=0;E<d;E++)if(E%4){var y=v[g.charCodeAt(E-1)]<<E%4*2,C=v[g.charCodeAt(E)]>>>6-E%4*2,b=y|C;x[m>>>2]|=b<<24-m%4*8,m++}return u.create(x,m)}}(),n.enc.Base64})})(encBase64);var encBase64url={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.WordArray,l=a.enc;l.Base64url={stringify:function(g,d){d===void 0&&(d=!0);var v=g.words,x=g.sigBytes,m=d?this._safe_map:this._map;g.clamp();for(var E=[],y=0;y<x;y+=3)for(var C=v[y>>>2]>>>24-y%4*8&255,b=v[y+1>>>2]>>>24-(y+1)%4*8&255,$=v[y+2>>>2]>>>24-(y+2)%4*8&255,B=C<<16|b<<8|$,w=0;w<4&&y+w*.75<x;w++)E.push(m.charAt(B>>>6*(3-w)&63));var F=m.charAt(64);if(F)for(;E.length%4;)E.push(F);return E.join("")},parse:function(g,d){d===void 0&&(d=!0);var v=g.length,x=d?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var E=0;E<x.length;E++)m[x.charCodeAt(E)]=E}var y=x.charAt(64);if(y){var C=g.indexOf(y);C!==-1&&(v=C)}return c(g,v,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(g,d,v){for(var x=[],m=0,E=0;E<d;E++)if(E%4){var y=v[g.charCodeAt(E-1)]<<E%4*2,C=v[g.charCodeAt(E)]>>>6-E%4*2,b=y|C;x[m>>>2]|=b<<24-m%4*8,m++}return u.create(x,m)}}(),n.enc.Base64url})})(encBase64url);var md5$1={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){return function(a){var o=n,u=o.lib,l=u.WordArray,c=u.Hasher,g=o.algo,d=[];(function(){for(var C=0;C<64;C++)d[C]=a.abs(a.sin(C+1))*4294967296|0})();var v=g.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(C,b){for(var $=0;$<16;$++){var B=b+$,w=C[B];C[B]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var F=this._hash.words,U=C[b+0],_=C[b+1],T=C[b+2],k=C[b+3],N=C[b+4],K=C[b+5],O=C[b+6],V=C[b+7],J=C[b+8],H=C[b+9],G=C[b+10],te=C[b+11],Q=C[b+12],xe=C[b+13],ce=C[b+14],de=C[b+15],W=F[0],re=F[1],q=F[2],ie=F[3];W=x(W,re,q,ie,U,7,d[0]),ie=x(ie,W,re,q,_,12,d[1]),q=x(q,ie,W,re,T,17,d[2]),re=x(re,q,ie,W,k,22,d[3]),W=x(W,re,q,ie,N,7,d[4]),ie=x(ie,W,re,q,K,12,d[5]),q=x(q,ie,W,re,O,17,d[6]),re=x(re,q,ie,W,V,22,d[7]),W=x(W,re,q,ie,J,7,d[8]),ie=x(ie,W,re,q,H,12,d[9]),q=x(q,ie,W,re,G,17,d[10]),re=x(re,q,ie,W,te,22,d[11]),W=x(W,re,q,ie,Q,7,d[12]),ie=x(ie,W,re,q,xe,12,d[13]),q=x(q,ie,W,re,ce,17,d[14]),re=x(re,q,ie,W,de,22,d[15]),W=m(W,re,q,ie,_,5,d[16]),ie=m(ie,W,re,q,O,9,d[17]),q=m(q,ie,W,re,te,14,d[18]),re=m(re,q,ie,W,U,20,d[19]),W=m(W,re,q,ie,K,5,d[20]),ie=m(ie,W,re,q,G,9,d[21]),q=m(q,ie,W,re,de,14,d[22]),re=m(re,q,ie,W,N,20,d[23]),W=m(W,re,q,ie,H,5,d[24]),ie=m(ie,W,re,q,ce,9,d[25]),q=m(q,ie,W,re,k,14,d[26]),re=m(re,q,ie,W,J,20,d[27]),W=m(W,re,q,ie,xe,5,d[28]),ie=m(ie,W,re,q,T,9,d[29]),q=m(q,ie,W,re,V,14,d[30]),re=m(re,q,ie,W,Q,20,d[31]),W=E(W,re,q,ie,K,4,d[32]),ie=E(ie,W,re,q,J,11,d[33]),q=E(q,ie,W,re,te,16,d[34]),re=E(re,q,ie,W,ce,23,d[35]),W=E(W,re,q,ie,_,4,d[36]),ie=E(ie,W,re,q,N,11,d[37]),q=E(q,ie,W,re,V,16,d[38]),re=E(re,q,ie,W,G,23,d[39]),W=E(W,re,q,ie,xe,4,d[40]),ie=E(ie,W,re,q,U,11,d[41]),q=E(q,ie,W,re,k,16,d[42]),re=E(re,q,ie,W,O,23,d[43]),W=E(W,re,q,ie,H,4,d[44]),ie=E(ie,W,re,q,Q,11,d[45]),q=E(q,ie,W,re,de,16,d[46]),re=E(re,q,ie,W,T,23,d[47]),W=y(W,re,q,ie,U,6,d[48]),ie=y(ie,W,re,q,V,10,d[49]),q=y(q,ie,W,re,ce,15,d[50]),re=y(re,q,ie,W,K,21,d[51]),W=y(W,re,q,ie,Q,6,d[52]),ie=y(ie,W,re,q,k,10,d[53]),q=y(q,ie,W,re,G,15,d[54]),re=y(re,q,ie,W,_,21,d[55]),W=y(W,re,q,ie,J,6,d[56]),ie=y(ie,W,re,q,de,10,d[57]),q=y(q,ie,W,re,O,15,d[58]),re=y(re,q,ie,W,xe,21,d[59]),W=y(W,re,q,ie,N,6,d[60]),ie=y(ie,W,re,q,te,10,d[61]),q=y(q,ie,W,re,T,15,d[62]),re=y(re,q,ie,W,H,21,d[63]),F[0]=F[0]+W|0,F[1]=F[1]+re|0,F[2]=F[2]+q|0,F[3]=F[3]+ie|0},_doFinalize:function(){var C=this._data,b=C.words,$=this._nDataBytes*8,B=C.sigBytes*8;b[B>>>5]|=128<<24-B%32;var w=a.floor($/4294967296),F=$;b[(B+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,b[(B+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,C.sigBytes=(b.length+1)*4,this._process();for(var U=this._hash,_=U.words,T=0;T<4;T++){var k=_[T];_[T]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return U},clone:function(){var C=c.clone.call(this);return C._hash=this._hash.clone(),C}});function x(C,b,$,B,w,F,U){var _=C+(b&$|~b&B)+w+U;return(_<<F|_>>>32-F)+b}function m(C,b,$,B,w,F,U){var _=C+(b&B|$&~B)+w+U;return(_<<F|_>>>32-F)+b}function E(C,b,$,B,w,F,U){var _=C+(b^$^B)+w+U;return(_<<F|_>>>32-F)+b}function y(C,b,$,B,w,F,U){var _=C+($^(b|~B))+w+U;return(_<<F|_>>>32-F)+b}o.MD5=c._createHelper(v),o.HmacMD5=c._createHmacHelper(v)}(Math),n.MD5})})(md5$1);var sha1$1={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.WordArray,l=o.Hasher,c=a.algo,g=[],d=c.SHA1=l.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,x){for(var m=this._hash.words,E=m[0],y=m[1],C=m[2],b=m[3],$=m[4],B=0;B<80;B++){if(B<16)g[B]=v[x+B]|0;else{var w=g[B-3]^g[B-8]^g[B-14]^g[B-16];g[B]=w<<1|w>>>31}var F=(E<<5|E>>>27)+$+g[B];B<20?F+=(y&C|~y&b)+1518500249:B<40?F+=(y^C^b)+1859775393:B<60?F+=(y&C|y&b|C&b)-1894007588:F+=(y^C^b)-899497514,$=b,b=C,C=y<<30|y>>>2,y=E,E=F}m[0]=m[0]+E|0,m[1]=m[1]+y|0,m[2]=m[2]+C|0,m[3]=m[3]+b|0,m[4]=m[4]+$|0},_doFinalize:function(){var v=this._data,x=v.words,m=this._nDataBytes*8,E=v.sigBytes*8;return x[E>>>5]|=128<<24-E%32,x[(E+64>>>9<<4)+14]=Math.floor(m/4294967296),x[(E+64>>>9<<4)+15]=m,v.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var v=l.clone.call(this);return v._hash=this._hash.clone(),v}});a.SHA1=l._createHelper(d),a.HmacSHA1=l._createHmacHelper(d)}(),n.SHA1})})(sha1$1);var sha256$1={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){return function(a){var o=n,u=o.lib,l=u.WordArray,c=u.Hasher,g=o.algo,d=[],v=[];(function(){function E($){for(var B=a.sqrt($),w=2;w<=B;w++)if(!($%w))return!1;return!0}function y($){return($-($|0))*4294967296|0}for(var C=2,b=0;b<64;)E(C)&&(b<8&&(d[b]=y(a.pow(C,1/2))),v[b]=y(a.pow(C,1/3)),b++),C++})();var x=[],m=g.SHA256=c.extend({_doReset:function(){this._hash=new l.init(d.slice(0))},_doProcessBlock:function(E,y){for(var C=this._hash.words,b=C[0],$=C[1],B=C[2],w=C[3],F=C[4],U=C[5],_=C[6],T=C[7],k=0;k<64;k++){if(k<16)x[k]=E[y+k]|0;else{var N=x[k-15],K=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,O=x[k-2],V=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;x[k]=K+x[k-7]+V+x[k-16]}var J=F&U^~F&_,H=b&$^b&B^$&B,G=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),te=(F<<26|F>>>6)^(F<<21|F>>>11)^(F<<7|F>>>25),Q=T+te+J+v[k]+x[k],xe=G+H;T=_,_=U,U=F,F=w+Q|0,w=B,B=$,$=b,b=Q+xe|0}C[0]=C[0]+b|0,C[1]=C[1]+$|0,C[2]=C[2]+B|0,C[3]=C[3]+w|0,C[4]=C[4]+F|0,C[5]=C[5]+U|0,C[6]=C[6]+_|0,C[7]=C[7]+T|0},_doFinalize:function(){var E=this._data,y=E.words,C=this._nDataBytes*8,b=E.sigBytes*8;return y[b>>>5]|=128<<24-b%32,y[(b+64>>>9<<4)+14]=a.floor(C/4294967296),y[(b+64>>>9<<4)+15]=C,E.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var E=c.clone.call(this);return E._hash=this._hash.clone(),E}});o.SHA256=c._createHelper(m),o.HmacSHA256=c._createHmacHelper(m)}(Math),n.SHA256})})(sha256$1);var sha224={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,sha256$1.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.WordArray,l=a.algo,c=l.SHA256,g=l.SHA224=c.extend({_doReset:function(){this._hash=new u.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=c._doFinalize.call(this);return d.sigBytes-=4,d}});a.SHA224=c._createHelper(g),a.HmacSHA224=c._createHmacHelper(g)}(),n.SHA224})})(sha224);var sha512$2={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,x64Core.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.Hasher,l=a.x64,c=l.Word,g=l.WordArray,d=a.algo;function v(){return c.create.apply(c,arguments)}var x=[v(1116352408,3609767458),v(1899447441,602891725),v(3049323471,3964484399),v(3921009573,2173295548),v(961987163,4081628472),v(1508970993,3053834265),v(2453635748,2937671579),v(2870763221,3664609560),v(3624381080,2734883394),v(310598401,1164996542),v(607225278,1323610764),v(1426881987,3590304994),v(1925078388,4068182383),v(2162078206,991336113),v(2614888103,633803317),v(3248222580,3479774868),v(3835390401,2666613458),v(4022224774,944711139),v(264347078,2341262773),v(604807628,2007800933),v(770255983,1495990901),v(1249150122,1856431235),v(1555081692,3175218132),v(1996064986,2198950837),v(2554220882,3999719339),v(2821834349,766784016),v(2952996808,2566594879),v(3210313671,3203337956),v(3336571891,1034457026),v(3584528711,2466948901),v(113926993,3758326383),v(338241895,168717936),v(666307205,1188179964),v(773529912,1546045734),v(1294757372,1522805485),v(1396182291,2643833823),v(1695183700,2343527390),v(1986661051,1014477480),v(2177026350,1206759142),v(2456956037,344077627),v(2730485921,1290863460),v(2820302411,3158454273),v(3259730800,3505952657),v(3345764771,106217008),v(3516065817,3606008344),v(3600352804,1432725776),v(4094571909,1467031594),v(275423344,851169720),v(430227734,3100823752),v(506948616,1363258195),v(659060556,3750685593),v(883997877,3785050280),v(958139571,3318307427),v(1322822218,3812723403),v(1537002063,2003034995),v(1747873779,3602036899),v(1955562222,1575990012),v(2024104815,1125592928),v(2227730452,2716904306),v(2361852424,442776044),v(2428436474,593698344),v(2756734187,3733110249),v(3204031479,2999351573),v(3329325298,3815920427),v(3391569614,3928383900),v(3515267271,566280711),v(3940187606,3454069534),v(4118630271,4000239992),v(116418474,1914138554),v(174292421,2731055270),v(289380356,3203993006),v(460393269,320620315),v(685471733,587496836),v(852142971,1086792851),v(1017036298,365543100),v(1126000580,2618297676),v(1288033470,3409855158),v(1501505948,4234509866),v(1607167915,987167468),v(1816402316,1246189591)],m=[];(function(){for(var y=0;y<80;y++)m[y]=v()})();var E=d.SHA512=u.extend({_doReset:function(){this._hash=new g.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(y,C){for(var b=this._hash.words,$=b[0],B=b[1],w=b[2],F=b[3],U=b[4],_=b[5],T=b[6],k=b[7],N=$.high,K=$.low,O=B.high,V=B.low,J=w.high,H=w.low,G=F.high,te=F.low,Q=U.high,xe=U.low,ce=_.high,de=_.low,W=T.high,re=T.low,q=k.high,ie=k.low,ne=N,ue=K,se=O,oe=V,Se=J,be=H,$e=G,ye=te,j=Q,ee=xe,ae=ce,le=de,fe=W,ve=re,Ce=q,pe=ie,ge=0;ge<80;ge++){var he,Be,me=m[ge];if(ge<16)Be=me.high=y[C+ge*2]|0,he=me.low=y[C+ge*2+1]|0;else{var Ae=m[ge-15],Ee=Ae.high,_e=Ae.low,we=(Ee>>>1|_e<<31)^(Ee>>>8|_e<<24)^Ee>>>7,Re=(_e>>>1|Ee<<31)^(_e>>>8|Ee<<24)^(_e>>>7|Ee<<25),Ie=m[ge-2],Te=Ie.high,De=Ie.low,Le=(Te>>>19|De<<13)^(Te<<3|De>>>29)^Te>>>6,ke=(De>>>19|Te<<13)^(De<<3|Te>>>29)^(De>>>6|Te<<26),Ke=m[ge-7],Fe=Ke.high,Pe=Ke.low,Oe=m[ge-16],Ye=Oe.high,Ve=Oe.low;he=Re+Pe,Be=we+Fe+(he>>>0<Re>>>0?1:0),he=he+ke,Be=Be+Le+(he>>>0<ke>>>0?1:0),he=he+Ve,Be=Be+Ye+(he>>>0<Ve>>>0?1:0),me.high=Be,me.low=he}var Qe=j&ae^~j&fe,He=ee&le^~ee&ve,Ze=ne&se^ne&Se^se&Se,et=ue&oe^ue&be^oe&be,tt=(ne>>>28|ue<<4)^(ne<<30|ue>>>2)^(ne<<25|ue>>>7),Me=(ue>>>28|ne<<4)^(ue<<30|ne>>>2)^(ue<<25|ne>>>7),rt=(j>>>14|ee<<18)^(j>>>18|ee<<14)^(j<<23|ee>>>9),nt=(ee>>>14|j<<18)^(ee>>>18|j<<14)^(ee<<23|j>>>9),Je=x[ge],it=Je.high,je=Je.low,Ne=pe+nt,Ue=Ce+rt+(Ne>>>0<pe>>>0?1:0),Ne=Ne+He,Ue=Ue+Qe+(Ne>>>0<He>>>0?1:0),Ne=Ne+je,Ue=Ue+it+(Ne>>>0<je>>>0?1:0),Ne=Ne+he,Ue=Ue+Be+(Ne>>>0<he>>>0?1:0),qe=Me+et,at=tt+Ze+(qe>>>0<Me>>>0?1:0);Ce=fe,pe=ve,fe=ae,ve=le,ae=j,le=ee,ee=ye+Ne|0,j=$e+Ue+(ee>>>0<ye>>>0?1:0)|0,$e=Se,ye=be,Se=se,be=oe,se=ne,oe=ue,ue=Ne+qe|0,ne=Ue+at+(ue>>>0<Ne>>>0?1:0)|0}K=$.low=K+ue,$.high=N+ne+(K>>>0<ue>>>0?1:0),V=B.low=V+oe,B.high=O+se+(V>>>0<oe>>>0?1:0),H=w.low=H+be,w.high=J+Se+(H>>>0<be>>>0?1:0),te=F.low=te+ye,F.high=G+$e+(te>>>0<ye>>>0?1:0),xe=U.low=xe+ee,U.high=Q+j+(xe>>>0<ee>>>0?1:0),de=_.low=de+le,_.high=ce+ae+(de>>>0<le>>>0?1:0),re=T.low=re+ve,T.high=W+fe+(re>>>0<ve>>>0?1:0),ie=k.low=ie+pe,k.high=q+Ce+(ie>>>0<pe>>>0?1:0)},_doFinalize:function(){var y=this._data,C=y.words,b=this._nDataBytes*8,$=y.sigBytes*8;C[$>>>5]|=128<<24-$%32,C[($+128>>>10<<5)+30]=Math.floor(b/4294967296),C[($+128>>>10<<5)+31]=b,y.sigBytes=C.length*4,this._process();var B=this._hash.toX32();return B},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y},blockSize:1024/32});a.SHA512=u._createHelper(E),a.HmacSHA512=u._createHmacHelper(E)}(),n.SHA512})})(sha512$2);var sha384$1={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,x64Core.exports,sha512$2.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.x64,u=o.Word,l=o.WordArray,c=a.algo,g=c.SHA512,d=c.SHA384=g.extend({_doReset:function(){this._hash=new l.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var v=g._doFinalize.call(this);return v.sigBytes-=16,v}});a.SHA384=g._createHelper(d),a.HmacSHA384=g._createHmacHelper(d)}(),n.SHA384})})(sha384$1);var sha3={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,x64Core.exports)})(commonjsGlobal,function(n){return function(a){var o=n,u=o.lib,l=u.WordArray,c=u.Hasher,g=o.x64,d=g.Word,v=o.algo,x=[],m=[],E=[];(function(){for(var b=1,$=0,B=0;B<24;B++){x[b+5*$]=(B+1)*(B+2)/2%64;var w=$%5,F=(2*b+3*$)%5;b=w,$=F}for(var b=0;b<5;b++)for(var $=0;$<5;$++)m[b+5*$]=$+(2*b+3*$)%5*5;for(var U=1,_=0;_<24;_++){for(var T=0,k=0,N=0;N<7;N++){if(U&1){var K=(1<<N)-1;K<32?k^=1<<K:T^=1<<K-32}U&128?U=U<<1^113:U<<=1}E[_]=d.create(T,k)}})();var y=[];(function(){for(var b=0;b<25;b++)y[b]=d.create()})();var C=v.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],$=0;$<25;$++)b[$]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,$){for(var B=this._state,w=this.blockSize/2,F=0;F<w;F++){var U=b[$+2*F],_=b[$+2*F+1];U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360;var T=B[F];T.high^=_,T.low^=U}for(var k=0;k<24;k++){for(var N=0;N<5;N++){for(var K=0,O=0,V=0;V<5;V++){var T=B[N+5*V];K^=T.high,O^=T.low}var J=y[N];J.high=K,J.low=O}for(var N=0;N<5;N++)for(var H=y[(N+4)%5],G=y[(N+1)%5],te=G.high,Q=G.low,K=H.high^(te<<1|Q>>>31),O=H.low^(Q<<1|te>>>31),V=0;V<5;V++){var T=B[N+5*V];T.high^=K,T.low^=O}for(var xe=1;xe<25;xe++){var K,O,T=B[xe],ce=T.high,de=T.low,W=x[xe];W<32?(K=ce<<W|de>>>32-W,O=de<<W|ce>>>32-W):(K=de<<W-32|ce>>>64-W,O=ce<<W-32|de>>>64-W);var re=y[m[xe]];re.high=K,re.low=O}var q=y[0],ie=B[0];q.high=ie.high,q.low=ie.low;for(var N=0;N<5;N++)for(var V=0;V<5;V++){var xe=N+5*V,T=B[xe],ne=y[xe],ue=y[(N+1)%5+5*V],se=y[(N+2)%5+5*V];T.high=ne.high^~ue.high&se.high,T.low=ne.low^~ue.low&se.low}var T=B[0],oe=E[k];T.high^=oe.high,T.low^=oe.low}},_doFinalize:function(){var b=this._data,$=b.words;this._nDataBytes*8;var B=b.sigBytes*8,w=this.blockSize*32;$[B>>>5]|=1<<24-B%32,$[(a.ceil((B+1)/w)*w>>>5)-1]|=128,b.sigBytes=$.length*4,this._process();for(var F=this._state,U=this.cfg.outputLength/8,_=U/8,T=[],k=0;k<_;k++){var N=F[k],K=N.high,O=N.low;K=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,T.push(O),T.push(K)}return new l.init(T,U)},clone:function(){for(var b=c.clone.call(this),$=b._state=this._state.slice(0),B=0;B<25;B++)$[B]=$[B].clone();return b}});o.SHA3=c._createHelper(C),o.HmacSHA3=c._createHmacHelper(C)}(Math),n.SHA3})})(sha3);var ripemd160={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(a){var o=n,u=o.lib,l=u.WordArray,c=u.Hasher,g=o.algo,d=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),v=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),x=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),E=l.create([0,1518500249,1859775393,2400959708,2840853838]),y=l.create([1352829926,1548603684,1836072691,2053994217,0]),C=g.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,T){for(var k=0;k<16;k++){var N=T+k,K=_[N];_[N]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}var O=this._hash.words,V=E.words,J=y.words,H=d.words,G=v.words,te=x.words,Q=m.words,xe,ce,de,W,re,q,ie,ne,ue,se;q=xe=O[0],ie=ce=O[1],ne=de=O[2],ue=W=O[3],se=re=O[4];for(var oe,k=0;k<80;k+=1)oe=xe+_[T+H[k]]|0,k<16?oe+=b(ce,de,W)+V[0]:k<32?oe+=$(ce,de,W)+V[1]:k<48?oe+=B(ce,de,W)+V[2]:k<64?oe+=w(ce,de,W)+V[3]:oe+=F(ce,de,W)+V[4],oe=oe|0,oe=U(oe,te[k]),oe=oe+re|0,xe=re,re=W,W=U(de,10),de=ce,ce=oe,oe=q+_[T+G[k]]|0,k<16?oe+=F(ie,ne,ue)+J[0]:k<32?oe+=w(ie,ne,ue)+J[1]:k<48?oe+=B(ie,ne,ue)+J[2]:k<64?oe+=$(ie,ne,ue)+J[3]:oe+=b(ie,ne,ue)+J[4],oe=oe|0,oe=U(oe,Q[k]),oe=oe+se|0,q=se,se=ue,ue=U(ne,10),ne=ie,ie=oe;oe=O[1]+de+ue|0,O[1]=O[2]+W+se|0,O[2]=O[3]+re+q|0,O[3]=O[4]+xe+ie|0,O[4]=O[0]+ce+ne|0,O[0]=oe},_doFinalize:function(){var _=this._data,T=_.words,k=this._nDataBytes*8,N=_.sigBytes*8;T[N>>>5]|=128<<24-N%32,T[(N+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,_.sigBytes=(T.length+1)*4,this._process();for(var K=this._hash,O=K.words,V=0;V<5;V++){var J=O[V];O[V]=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360}return K},clone:function(){var _=c.clone.call(this);return _._hash=this._hash.clone(),_}});function b(_,T,k){return _^T^k}function $(_,T,k){return _&T|~_&k}function B(_,T,k){return(_|~T)^k}function w(_,T,k){return _&k|T&~k}function F(_,T,k){return _^(T|~k)}function U(_,T){return _<<T|_>>>32-T}o.RIPEMD160=c._createHelper(C),o.HmacRIPEMD160=c._createHmacHelper(C)}(),n.RIPEMD160})})(ripemd160);var hmac$1={exports:{}};(function(e,r){(function(n,a){e.exports=a(core.exports)})(commonjsGlobal,function(n){(function(){var a=n,o=a.lib,u=o.Base,l=a.enc,c=l.Utf8,g=a.algo;g.HMAC=u.extend({init:function(d,v){d=this._hasher=new d.init,typeof v=="string"&&(v=c.parse(v));var x=d.blockSize,m=x*4;v.sigBytes>m&&(v=d.finalize(v)),v.clamp();for(var E=this._oKey=v.clone(),y=this._iKey=v.clone(),C=E.words,b=y.words,$=0;$<x;$++)C[$]^=1549556828,b[$]^=909522486;E.sigBytes=y.sigBytes=m,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var v=this._hasher,x=v.finalize(d);v.reset();var m=v.finalize(this._oKey.clone().concat(x));return m}})})()})})(hmac$1);var pbkdf2={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,sha256$1.exports,hmac$1.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.Base,l=o.WordArray,c=a.algo,g=c.SHA256,d=c.HMAC,v=c.PBKDF2=u.extend({cfg:u.extend({keySize:128/32,hasher:g,iterations:25e4}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,m){for(var E=this.cfg,y=d.create(E.hasher,x),C=l.create(),b=l.create([1]),$=C.words,B=b.words,w=E.keySize,F=E.iterations;$.length<w;){var U=y.update(m).finalize(b);y.reset();for(var _=U.words,T=_.length,k=U,N=1;N<F;N++){k=y.finalize(k),y.reset();for(var K=k.words,O=0;O<T;O++)_[O]^=K[O]}C.concat(U),B[0]++}return C.sigBytes=w*4,C}});a.PBKDF2=function(x,m,E){return v.create(E).compute(x,m)}}(),n.PBKDF2})})(pbkdf2);var evpkdf={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,sha1$1.exports,hmac$1.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.Base,l=o.WordArray,c=a.algo,g=c.MD5,d=c.EvpKDF=u.extend({cfg:u.extend({keySize:128/32,hasher:g,iterations:1}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,x){for(var m,E=this.cfg,y=E.hasher.create(),C=l.create(),b=C.words,$=E.keySize,B=E.iterations;b.length<$;){m&&y.update(m),m=y.update(v).finalize(x),y.reset();for(var w=1;w<B;w++)m=y.finalize(m),y.reset();C.concat(m)}return C.sigBytes=$*4,C}});a.EvpKDF=function(v,x,m){return d.create(m).compute(v,x)}}(),n.EvpKDF})})(evpkdf);var cipherCore={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,evpkdf.exports)})(commonjsGlobal,function(n){n.lib.Cipher||function(a){var o=n,u=o.lib,l=u.Base,c=u.WordArray,g=u.BufferedBlockAlgorithm,d=o.enc;d.Utf8;var v=d.Base64,x=o.algo,m=x.EvpKDF,E=u.Cipher=g.extend({cfg:l.extend(),createEncryptor:function(K,O){return this.create(this._ENC_XFORM_MODE,K,O)},createDecryptor:function(K,O){return this.create(this._DEC_XFORM_MODE,K,O)},init:function(K,O,V){this.cfg=this.cfg.extend(V),this._xformMode=K,this._key=O,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(K){return this._append(K),this._process()},finalize:function(K){K&&this._append(K);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function K(O){return typeof O=="string"?N:_}return function(O){return{encrypt:function(V,J,H){return K(J).encrypt(O,V,J,H)},decrypt:function(V,J,H){return K(J).decrypt(O,V,J,H)}}}}()});u.StreamCipher=E.extend({_doFinalize:function(){var K=this._process(!0);return K},blockSize:1});var y=o.mode={},C=u.BlockCipherMode=l.extend({createEncryptor:function(K,O){return this.Encryptor.create(K,O)},createDecryptor:function(K,O){return this.Decryptor.create(K,O)},init:function(K,O){this._cipher=K,this._iv=O}}),b=y.CBC=function(){var K=C.extend();K.Encryptor=K.extend({processBlock:function(V,J){var H=this._cipher,G=H.blockSize;O.call(this,V,J,G),H.encryptBlock(V,J),this._prevBlock=V.slice(J,J+G)}}),K.Decryptor=K.extend({processBlock:function(V,J){var H=this._cipher,G=H.blockSize,te=V.slice(J,J+G);H.decryptBlock(V,J),O.call(this,V,J,G),this._prevBlock=te}});function O(V,J,H){var G,te=this._iv;te?(G=te,this._iv=a):G=this._prevBlock;for(var Q=0;Q<H;Q++)V[J+Q]^=G[Q]}return K}(),$=o.pad={},B=$.Pkcs7={pad:function(K,O){for(var V=O*4,J=V-K.sigBytes%V,H=J<<24|J<<16|J<<8|J,G=[],te=0;te<J;te+=4)G.push(H);var Q=c.create(G,J);K.concat(Q)},unpad:function(K){var O=K.words[K.sigBytes-1>>>2]&255;K.sigBytes-=O}};u.BlockCipher=E.extend({cfg:E.cfg.extend({mode:b,padding:B}),reset:function(){var K;E.reset.call(this);var O=this.cfg,V=O.iv,J=O.mode;this._xformMode==this._ENC_XFORM_MODE?K=J.createEncryptor:(K=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==K?this._mode.init(this,V&&V.words):(this._mode=K.call(J,this,V&&V.words),this._mode.__creator=K)},_doProcessBlock:function(K,O){this._mode.processBlock(K,O)},_doFinalize:function(){var K,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),K=this._process(!0)):(K=this._process(!0),O.unpad(K)),K},blockSize:128/32});var w=u.CipherParams=l.extend({init:function(K){this.mixIn(K)},toString:function(K){return(K||this.formatter).stringify(this)}}),F=o.format={},U=F.OpenSSL={stringify:function(K){var O,V=K.ciphertext,J=K.salt;return J?O=c.create([1398893684,1701076831]).concat(J).concat(V):O=V,O.toString(v)},parse:function(K){var O,V=v.parse(K),J=V.words;return J[0]==1398893684&&J[1]==1701076831&&(O=c.create(J.slice(2,4)),J.splice(0,4),V.sigBytes-=16),w.create({ciphertext:V,salt:O})}},_=u.SerializableCipher=l.extend({cfg:l.extend({format:U}),encrypt:function(K,O,V,J){J=this.cfg.extend(J);var H=K.createEncryptor(V,J),G=H.finalize(O),te=H.cfg;return w.create({ciphertext:G,key:V,iv:te.iv,algorithm:K,mode:te.mode,padding:te.padding,blockSize:K.blockSize,formatter:J.format})},decrypt:function(K,O,V,J){J=this.cfg.extend(J),O=this._parse(O,J.format);var H=K.createDecryptor(V,J).finalize(O.ciphertext);return H},_parse:function(K,O){return typeof K=="string"?O.parse(K,this):K}}),T=o.kdf={},k=T.OpenSSL={execute:function(K,O,V,J,H){if(J||(J=c.random(64/8)),H)var G=m.create({keySize:O+V,hasher:H}).compute(K,J);else var G=m.create({keySize:O+V}).compute(K,J);var te=c.create(G.words.slice(O),V*4);return G.sigBytes=O*4,w.create({key:G,iv:te,salt:J})}},N=u.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:k}),encrypt:function(K,O,V,J){J=this.cfg.extend(J);var H=J.kdf.execute(V,K.keySize,K.ivSize,J.salt,J.hasher);J.iv=H.iv;var G=_.encrypt.call(this,K,O,H.key,J);return G.mixIn(H),G},decrypt:function(K,O,V,J){J=this.cfg.extend(J),O=this._parse(O,J.format);var H=J.kdf.execute(V,K.keySize,K.ivSize,O.salt,J.hasher);J.iv=H.iv;var G=_.decrypt.call(this,K,O,H.key,J);return G}})}()})})(cipherCore);var modeCfb={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.mode.CFB=function(){var a=n.lib.BlockCipherMode.extend();a.Encryptor=a.extend({processBlock:function(u,l){var c=this._cipher,g=c.blockSize;o.call(this,u,l,g,c),this._prevBlock=u.slice(l,l+g)}}),a.Decryptor=a.extend({processBlock:function(u,l){var c=this._cipher,g=c.blockSize,d=u.slice(l,l+g);o.call(this,u,l,g,c),this._prevBlock=d}});function o(u,l,c,g){var d,v=this._iv;v?(d=v.slice(0),this._iv=void 0):d=this._prevBlock,g.encryptBlock(d,0);for(var x=0;x<c;x++)u[l+x]^=d[x]}return a}(),n.mode.CFB})})(modeCfb);var modeCtr={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.mode.CTR=function(){var a=n.lib.BlockCipherMode.extend(),o=a.Encryptor=a.extend({processBlock:function(u,l){var c=this._cipher,g=c.blockSize,d=this._iv,v=this._counter;d&&(v=this._counter=d.slice(0),this._iv=void 0);var x=v.slice(0);c.encryptBlock(x,0),v[g-1]=v[g-1]+1|0;for(var m=0;m<g;m++)u[l+m]^=x[m]}});return a.Decryptor=o,a}(),n.mode.CTR})})(modeCtr);var modeCtrGladman={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var a=n.lib.BlockCipherMode.extend();function o(c){if((c>>24&255)===255){var g=c>>16&255,d=c>>8&255,v=c&255;g===255?(g=0,d===255?(d=0,v===255?v=0:++v):++d):++g,c=0,c+=g<<16,c+=d<<8,c+=v}else c+=1<<24;return c}function u(c){return(c[0]=o(c[0]))===0&&(c[1]=o(c[1])),c}var l=a.Encryptor=a.extend({processBlock:function(c,g){var d=this._cipher,v=d.blockSize,x=this._iv,m=this._counter;x&&(m=this._counter=x.slice(0),this._iv=void 0),u(m);var E=m.slice(0);d.encryptBlock(E,0);for(var y=0;y<v;y++)c[g+y]^=E[y]}});return a.Decryptor=l,a}(),n.mode.CTRGladman})})(modeCtrGladman);var modeOfb={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.mode.OFB=function(){var a=n.lib.BlockCipherMode.extend(),o=a.Encryptor=a.extend({processBlock:function(u,l){var c=this._cipher,g=c.blockSize,d=this._iv,v=this._keystream;d&&(v=this._keystream=d.slice(0),this._iv=void 0),c.encryptBlock(v,0);for(var x=0;x<g;x++)u[l+x]^=v[x]}});return a.Decryptor=o,a}(),n.mode.OFB})})(modeOfb);var modeEcb={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.mode.ECB=function(){var a=n.lib.BlockCipherMode.extend();return a.Encryptor=a.extend({processBlock:function(o,u){this._cipher.encryptBlock(o,u)}}),a.Decryptor=a.extend({processBlock:function(o,u){this._cipher.decryptBlock(o,u)}}),a}(),n.mode.ECB})})(modeEcb);var padAnsix923={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.pad.AnsiX923={pad:function(a,o){var u=a.sigBytes,l=o*4,c=l-u%l,g=u+c-1;a.clamp(),a.words[g>>>2]|=c<<24-g%4*8,a.sigBytes+=c},unpad:function(a){var o=a.words[a.sigBytes-1>>>2]&255;a.sigBytes-=o}},n.pad.Ansix923})})(padAnsix923);var padIso10126={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.pad.Iso10126={pad:function(a,o){var u=o*4,l=u-a.sigBytes%u;a.concat(n.lib.WordArray.random(l-1)).concat(n.lib.WordArray.create([l<<24],1))},unpad:function(a){var o=a.words[a.sigBytes-1>>>2]&255;a.sigBytes-=o}},n.pad.Iso10126})})(padIso10126);var padIso97971={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.pad.Iso97971={pad:function(a,o){a.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(a,o)},unpad:function(a){n.pad.ZeroPadding.unpad(a),a.sigBytes--}},n.pad.Iso97971})})(padIso97971);var padZeropadding={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.pad.ZeroPadding={pad:function(a,o){var u=o*4;a.clamp(),a.sigBytes+=u-(a.sigBytes%u||u)},unpad:function(a){for(var o=a.words,u=a.sigBytes-1,u=a.sigBytes-1;u>=0;u--)if(o[u>>>2]>>>24-u%4*8&255){a.sigBytes=u+1;break}}},n.pad.ZeroPadding})})(padZeropadding);var padNopadding={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(padNopadding);var formatHex={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,cipherCore.exports)})(commonjsGlobal,function(n){return function(a){var o=n,u=o.lib,l=u.CipherParams,c=o.enc,g=c.Hex,d=o.format;d.Hex={stringify:function(v){return v.ciphertext.toString(g)},parse:function(v){var x=g.parse(v);return l.create({ciphertext:x})}}}(),n.format.Hex})})(formatHex);var aes={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,encBase64.exports,md5$1.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.BlockCipher,l=a.algo,c=[],g=[],d=[],v=[],x=[],m=[],E=[],y=[],C=[],b=[];(function(){for(var w=[],F=0;F<256;F++)F<128?w[F]=F<<1:w[F]=F<<1^283;for(var U=0,_=0,F=0;F<256;F++){var T=_^_<<1^_<<2^_<<3^_<<4;T=T>>>8^T&255^99,c[U]=T,g[T]=U;var k=w[U],N=w[k],K=w[N],O=w[T]*257^T*16843008;d[U]=O<<24|O>>>8,v[U]=O<<16|O>>>16,x[U]=O<<8|O>>>24,m[U]=O;var O=K*16843009^N*65537^k*257^U*16843008;E[T]=O<<24|O>>>8,y[T]=O<<16|O>>>16,C[T]=O<<8|O>>>24,b[T]=O,U?(U=k^w[w[w[K^k]]],_^=w[w[_]]):U=_=1}})();var $=[0,1,2,4,8,16,32,64,128,27,54],B=l.AES=u.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var F=this._keyPriorReset=this._key,U=F.words,_=F.sigBytes/4,T=this._nRounds=_+6,k=(T+1)*4,N=this._keySchedule=[],K=0;K<k;K++)K<_?N[K]=U[K]:(w=N[K-1],K%_?_>6&&K%_==4&&(w=c[w>>>24]<<24|c[w>>>16&255]<<16|c[w>>>8&255]<<8|c[w&255]):(w=w<<8|w>>>24,w=c[w>>>24]<<24|c[w>>>16&255]<<16|c[w>>>8&255]<<8|c[w&255],w^=$[K/_|0]<<24),N[K]=N[K-_]^w);for(var O=this._invKeySchedule=[],V=0;V<k;V++){var K=k-V;if(V%4)var w=N[K];else var w=N[K-4];V<4||K<=4?O[V]=w:O[V]=E[c[w>>>24]]^y[c[w>>>16&255]]^C[c[w>>>8&255]]^b[c[w&255]]}}},encryptBlock:function(w,F){this._doCryptBlock(w,F,this._keySchedule,d,v,x,m,c)},decryptBlock:function(w,F){var U=w[F+1];w[F+1]=w[F+3],w[F+3]=U,this._doCryptBlock(w,F,this._invKeySchedule,E,y,C,b,g);var U=w[F+1];w[F+1]=w[F+3],w[F+3]=U},_doCryptBlock:function(w,F,U,_,T,k,N,K){for(var O=this._nRounds,V=w[F]^U[0],J=w[F+1]^U[1],H=w[F+2]^U[2],G=w[F+3]^U[3],te=4,Q=1;Q<O;Q++){var xe=_[V>>>24]^T[J>>>16&255]^k[H>>>8&255]^N[G&255]^U[te++],ce=_[J>>>24]^T[H>>>16&255]^k[G>>>8&255]^N[V&255]^U[te++],de=_[H>>>24]^T[G>>>16&255]^k[V>>>8&255]^N[J&255]^U[te++],W=_[G>>>24]^T[V>>>16&255]^k[J>>>8&255]^N[H&255]^U[te++];V=xe,J=ce,H=de,G=W}var xe=(K[V>>>24]<<24|K[J>>>16&255]<<16|K[H>>>8&255]<<8|K[G&255])^U[te++],ce=(K[J>>>24]<<24|K[H>>>16&255]<<16|K[G>>>8&255]<<8|K[V&255])^U[te++],de=(K[H>>>24]<<24|K[G>>>16&255]<<16|K[V>>>8&255]<<8|K[J&255])^U[te++],W=(K[G>>>24]<<24|K[V>>>16&255]<<16|K[J>>>8&255]<<8|K[H&255])^U[te++];w[F]=xe,w[F+1]=ce,w[F+2]=de,w[F+3]=W},keySize:256/32});a.AES=u._createHelper(B)}(),n.AES})})(aes);var tripledes={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,encBase64.exports,md5$1.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.WordArray,l=o.BlockCipher,c=a.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],v=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],x=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],E=c.DES=l.extend({_doReset:function(){for(var $=this._key,B=$.words,w=[],F=0;F<56;F++){var U=g[F]-1;w[F]=B[U>>>5]>>>31-U%32&1}for(var _=this._subKeys=[],T=0;T<16;T++){for(var k=_[T]=[],N=v[T],F=0;F<24;F++)k[F/6|0]|=w[(d[F]-1+N)%28]<<31-F%6,k[4+(F/6|0)]|=w[28+(d[F+24]-1+N)%28]<<31-F%6;k[0]=k[0]<<1|k[0]>>>31;for(var F=1;F<7;F++)k[F]=k[F]>>>(F-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var K=this._invSubKeys=[],F=0;F<16;F++)K[F]=_[15-F]},encryptBlock:function($,B){this._doCryptBlock($,B,this._subKeys)},decryptBlock:function($,B){this._doCryptBlock($,B,this._invSubKeys)},_doCryptBlock:function($,B,w){this._lBlock=$[B],this._rBlock=$[B+1],y.call(this,4,252645135),y.call(this,16,65535),C.call(this,2,858993459),C.call(this,8,16711935),y.call(this,1,1431655765);for(var F=0;F<16;F++){for(var U=w[F],_=this._lBlock,T=this._rBlock,k=0,N=0;N<8;N++)k|=x[N][((T^U[N])&m[N])>>>0];this._lBlock=T,this._rBlock=_^k}var K=this._lBlock;this._lBlock=this._rBlock,this._rBlock=K,y.call(this,1,1431655765),C.call(this,8,16711935),C.call(this,2,858993459),y.call(this,16,65535),y.call(this,4,252645135),$[B]=this._lBlock,$[B+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function y($,B){var w=(this._lBlock>>>$^this._rBlock)&B;this._rBlock^=w,this._lBlock^=w<<$}function C($,B){var w=(this._rBlock>>>$^this._lBlock)&B;this._lBlock^=w,this._rBlock^=w<<$}a.DES=l._createHelper(E);var b=c.TripleDES=l.extend({_doReset:function(){var $=this._key,B=$.words;if(B.length!==2&&B.length!==4&&B.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=B.slice(0,2),F=B.length<4?B.slice(0,2):B.slice(2,4),U=B.length<6?B.slice(0,2):B.slice(4,6);this._des1=E.createEncryptor(u.create(w)),this._des2=E.createEncryptor(u.create(F)),this._des3=E.createEncryptor(u.create(U))},encryptBlock:function($,B){this._des1.encryptBlock($,B),this._des2.decryptBlock($,B),this._des3.encryptBlock($,B)},decryptBlock:function($,B){this._des3.decryptBlock($,B),this._des2.encryptBlock($,B),this._des1.decryptBlock($,B)},keySize:192/32,ivSize:64/32,blockSize:64/32});a.TripleDES=l._createHelper(b)}(),n.TripleDES})})(tripledes);var rc4={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,encBase64.exports,md5$1.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.StreamCipher,l=a.algo,c=l.RC4=u.extend({_doReset:function(){for(var v=this._key,x=v.words,m=v.sigBytes,E=this._S=[],y=0;y<256;y++)E[y]=y;for(var y=0,C=0;y<256;y++){var b=y%m,$=x[b>>>2]>>>24-b%4*8&255;C=(C+E[y]+$)%256;var B=E[y];E[y]=E[C],E[C]=B}this._i=this._j=0},_doProcessBlock:function(v,x){v[x]^=g.call(this)},keySize:256/32,ivSize:0});function g(){for(var v=this._S,x=this._i,m=this._j,E=0,y=0;y<4;y++){x=(x+1)%256,m=(m+v[x])%256;var C=v[x];v[x]=v[m],v[m]=C,E|=v[(v[x]+v[m])%256]<<24-y*8}return this._i=x,this._j=m,E}a.RC4=u._createHelper(c);var d=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var v=this.cfg.drop;v>0;v--)g.call(this)}});a.RC4Drop=u._createHelper(d)}(),n.RC4})})(rc4);var rabbit={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,encBase64.exports,md5$1.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.StreamCipher,l=a.algo,c=[],g=[],d=[],v=l.Rabbit=u.extend({_doReset:function(){for(var m=this._key.words,E=this.cfg.iv,y=0;y<4;y++)m[y]=(m[y]<<8|m[y]>>>24)&16711935|(m[y]<<24|m[y]>>>8)&4278255360;var C=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],b=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var y=0;y<4;y++)x.call(this);for(var y=0;y<8;y++)b[y]^=C[y+4&7];if(E){var $=E.words,B=$[0],w=$[1],F=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,U=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,_=F>>>16|U&4294901760,T=U<<16|F&65535;b[0]^=F,b[1]^=_,b[2]^=U,b[3]^=T,b[4]^=F,b[5]^=_,b[6]^=U,b[7]^=T;for(var y=0;y<4;y++)x.call(this)}},_doProcessBlock:function(m,E){var y=this._X;x.call(this),c[0]=y[0]^y[5]>>>16^y[3]<<16,c[1]=y[2]^y[7]>>>16^y[5]<<16,c[2]=y[4]^y[1]>>>16^y[7]<<16,c[3]=y[6]^y[3]>>>16^y[1]<<16;for(var C=0;C<4;C++)c[C]=(c[C]<<8|c[C]>>>24)&16711935|(c[C]<<24|c[C]>>>8)&4278255360,m[E+C]^=c[C]},blockSize:128/32,ivSize:64/32});function x(){for(var m=this._X,E=this._C,y=0;y<8;y++)g[y]=E[y];E[0]=E[0]+1295307597+this._b|0,E[1]=E[1]+3545052371+(E[0]>>>0<g[0]>>>0?1:0)|0,E[2]=E[2]+886263092+(E[1]>>>0<g[1]>>>0?1:0)|0,E[3]=E[3]+1295307597+(E[2]>>>0<g[2]>>>0?1:0)|0,E[4]=E[4]+3545052371+(E[3]>>>0<g[3]>>>0?1:0)|0,E[5]=E[5]+886263092+(E[4]>>>0<g[4]>>>0?1:0)|0,E[6]=E[6]+1295307597+(E[5]>>>0<g[5]>>>0?1:0)|0,E[7]=E[7]+3545052371+(E[6]>>>0<g[6]>>>0?1:0)|0,this._b=E[7]>>>0<g[7]>>>0?1:0;for(var y=0;y<8;y++){var C=m[y]+E[y],b=C&65535,$=C>>>16,B=((b*b>>>17)+b*$>>>15)+$*$,w=((C&4294901760)*C|0)+((C&65535)*C|0);d[y]=B^w}m[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,m[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,m[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,m[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,m[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,m[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,m[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,m[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}a.Rabbit=u._createHelper(v)}(),n.Rabbit})})(rabbit);var rabbitLegacy={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,encBase64.exports,md5$1.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.StreamCipher,l=a.algo,c=[],g=[],d=[],v=l.RabbitLegacy=u.extend({_doReset:function(){var m=this._key.words,E=this.cfg.iv,y=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],C=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var b=0;b<4;b++)x.call(this);for(var b=0;b<8;b++)C[b]^=y[b+4&7];if(E){var $=E.words,B=$[0],w=$[1],F=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,U=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,_=F>>>16|U&4294901760,T=U<<16|F&65535;C[0]^=F,C[1]^=_,C[2]^=U,C[3]^=T,C[4]^=F,C[5]^=_,C[6]^=U,C[7]^=T;for(var b=0;b<4;b++)x.call(this)}},_doProcessBlock:function(m,E){var y=this._X;x.call(this),c[0]=y[0]^y[5]>>>16^y[3]<<16,c[1]=y[2]^y[7]>>>16^y[5]<<16,c[2]=y[4]^y[1]>>>16^y[7]<<16,c[3]=y[6]^y[3]>>>16^y[1]<<16;for(var C=0;C<4;C++)c[C]=(c[C]<<8|c[C]>>>24)&16711935|(c[C]<<24|c[C]>>>8)&4278255360,m[E+C]^=c[C]},blockSize:128/32,ivSize:64/32});function x(){for(var m=this._X,E=this._C,y=0;y<8;y++)g[y]=E[y];E[0]=E[0]+1295307597+this._b|0,E[1]=E[1]+3545052371+(E[0]>>>0<g[0]>>>0?1:0)|0,E[2]=E[2]+886263092+(E[1]>>>0<g[1]>>>0?1:0)|0,E[3]=E[3]+1295307597+(E[2]>>>0<g[2]>>>0?1:0)|0,E[4]=E[4]+3545052371+(E[3]>>>0<g[3]>>>0?1:0)|0,E[5]=E[5]+886263092+(E[4]>>>0<g[4]>>>0?1:0)|0,E[6]=E[6]+1295307597+(E[5]>>>0<g[5]>>>0?1:0)|0,E[7]=E[7]+3545052371+(E[6]>>>0<g[6]>>>0?1:0)|0,this._b=E[7]>>>0<g[7]>>>0?1:0;for(var y=0;y<8;y++){var C=m[y]+E[y],b=C&65535,$=C>>>16,B=((b*b>>>17)+b*$>>>15)+$*$,w=((C&4294901760)*C|0)+((C&65535)*C|0);d[y]=B^w}m[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,m[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,m[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,m[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,m[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,m[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,m[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,m[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}a.RabbitLegacy=u._createHelper(v)}(),n.RabbitLegacy})})(rabbitLegacy);var blowfish={exports:{}};(function(e,r){(function(n,a,o){e.exports=a(core.exports,encBase64.exports,md5$1.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(n){return function(){var a=n,o=a.lib,u=o.BlockCipher,l=a.algo;const c=16,g=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var v={pbox:[],sbox:[]};function x(b,$){let B=$>>24&255,w=$>>16&255,F=$>>8&255,U=$&255,_=b.sbox[0][B]+b.sbox[1][w];return _=_^b.sbox[2][F],_=_+b.sbox[3][U],_}function m(b,$,B){let w=$,F=B,U;for(let _=0;_<c;++_)w=w^b.pbox[_],F=x(b,w)^F,U=w,w=F,F=U;return U=w,w=F,F=U,F=F^b.pbox[c],w=w^b.pbox[c+1],{left:w,right:F}}function E(b,$,B){let w=$,F=B,U;for(let _=c+1;_>1;--_)w=w^b.pbox[_],F=x(b,w)^F,U=w,w=F,F=U;return U=w,w=F,F=U,F=F^b.pbox[1],w=w^b.pbox[0],{left:w,right:F}}function y(b,$,B){for(let T=0;T<4;T++){b.sbox[T]=[];for(let k=0;k<256;k++)b.sbox[T][k]=d[T][k]}let w=0;for(let T=0;T<c+2;T++)b.pbox[T]=g[T]^$[w],w++,w>=B&&(w=0);let F=0,U=0,_=0;for(let T=0;T<c+2;T+=2)_=m(b,F,U),F=_.left,U=_.right,b.pbox[T]=F,b.pbox[T+1]=U;for(let T=0;T<4;T++)for(let k=0;k<256;k+=2)_=m(b,F,U),F=_.left,U=_.right,b.sbox[T][k]=F,b.sbox[T][k+1]=U;return!0}var C=l.Blowfish=u.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var b=this._keyPriorReset=this._key,$=b.words,B=b.sigBytes/4;y(v,$,B)}},encryptBlock:function(b,$){var B=m(v,b[$],b[$+1]);b[$]=B.left,b[$+1]=B.right},decryptBlock:function(b,$){var B=E(v,b[$],b[$+1]);b[$]=B.left,b[$+1]=B.right},blockSize:64/32,keySize:128/32,ivSize:64/32});a.Blowfish=u._createHelper(C)}(),n.Blowfish})})(blowfish);(function(e,r){(function(n,a,o){e.exports=a(core.exports,x64Core.exports,libTypedarrays.exports,encUtf16.exports,encBase64.exports,encBase64url.exports,md5$1.exports,sha1$1.exports,sha256$1.exports,sha224.exports,sha512$2.exports,sha384$1.exports,sha3.exports,ripemd160.exports,hmac$1.exports,pbkdf2.exports,evpkdf.exports,cipherCore.exports,modeCfb.exports,modeCtr.exports,modeCtrGladman.exports,modeOfb.exports,modeEcb.exports,padAnsix923.exports,padIso10126.exports,padIso97971.exports,padZeropadding.exports,padNopadding.exports,formatHex.exports,aes.exports,tripledes.exports,rc4.exports,rabbit.exports,rabbitLegacy.exports,blowfish.exports)})(commonjsGlobal,function(n){return n})})(cryptoJs);var CryptoJS=cryptoJs.exports,forge$C={options:{usePureJavaScript:!1}},api={},baseN$1=api,_reverseAlphabets={};api.encode=function(e,r,n){if(typeof r!="string")throw new TypeError('"alphabet" must be a string.');if(n!==void 0&&typeof n!="number")throw new TypeError('"maxline" must be a number.');var a="";if(!(e instanceof Uint8Array))a=_encodeWithByteBuffer(e,r);else{var o=0,u=r.length,l=r.charAt(0),c=[0];for(o=0;o<e.length;++o){for(var g=0,d=e[o];g<c.length;++g)d+=c[g]<<8,c[g]=d%u,d=d/u|0;for(;d>0;)c.push(d%u),d=d/u|0}for(o=0;e[o]===0&&o<e.length-1;++o)a+=l;for(o=c.length-1;o>=0;--o)a+=r[c[o]]}if(n){var v=new RegExp(".{1,"+n+"}","g");a=a.match(v).join(`\r
`)}return a};api.decode=function(e,r){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof r!="string")throw new TypeError('"alphabet" must be a string.');var n=_reverseAlphabets[r];if(!n){n=_reverseAlphabets[r]=[];for(var a=0;a<r.length;++a)n[r.charCodeAt(a)]=a}e=e.replace(/\s/g,"");for(var o=r.length,u=r.charAt(0),l=[0],a=0;a<e.length;a++){var c=n[e.charCodeAt(a)];if(c===void 0)return;for(var g=0,d=c;g<l.length;++g)d+=l[g]*o,l[g]=d&255,d>>=8;for(;d>0;)l.push(d&255),d>>=8}for(var v=0;e[v]===u&&v<e.length-1;++v)l.push(0);return typeof Buffer!="undefined"?Buffer.from(l.reverse()):new Uint8Array(l.reverse())};function _encodeWithByteBuffer(e,r){var n=0,a=r.length,o=r.charAt(0),u=[0];for(n=0;n<e.length();++n){for(var l=0,c=e.at(n);l<u.length;++l)c+=u[l]<<8,u[l]=c%a,c=c/a|0;for(;c>0;)u.push(c%a),c=c/a|0}var g="";for(n=0;e.at(n)===0&&n<e.length()-1;++n)g+=o;for(n=u.length-1;n>=0;--n)g+=r[u[n]];return g}var forge$B=forge$C,baseN=baseN$1,util$1=forge$B.util=forge$B.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){util$1.nextTick=process.nextTick,typeof setImmediate=="function"?util$1.setImmediate=setImmediate:util$1.setImmediate=util$1.nextTick;return}if(typeof setImmediate=="function"){util$1.setImmediate=function(){return setImmediate.apply(void 0,arguments)},util$1.nextTick=function(l){return setImmediate(l)};return}if(util$1.setImmediate=function(l){setTimeout(l,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var g=r.slice();r.length=0,g.forEach(function(d){d()})}};var e="forge.setImmediate",r=[];util$1.setImmediate=function(c){r.push(c),r.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver!="undefined"){var n=Date.now(),a=!0,o=document.createElement("div"),r=[];new MutationObserver(function(){var c=r.slice();r.length=0,c.forEach(function(g){g()})}).observe(o,{attributes:!0});var u=util$1.setImmediate;util$1.setImmediate=function(c){Date.now()-n>15?(n=Date.now(),u(c)):(r.push(c),r.length===1&&o.setAttribute("a",a=!a))}}util$1.nextTick=util$1.setImmediate})();util$1.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;util$1.globalScope=function(){return util$1.isNodejs?commonjsGlobal:typeof self=="undefined"?window:self}();util$1.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};util$1.isArrayBuffer=function(e){return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer};util$1.isArrayBufferView=function(e){return e&&util$1.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function _checkBitsParam(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}util$1.ByteBuffer=ByteStringBuffer;function ByteStringBuffer(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(util$1.isArrayBuffer(e)||util$1.isArrayBufferView(e))if(typeof Buffer!="undefined"&&e instanceof Buffer)this.data=e.toString("binary");else{var r=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,r)}catch{for(var n=0;n<r.length;++n)this.putByte(r[n])}}else(e instanceof ByteStringBuffer||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}util$1.ByteStringBuffer=ByteStringBuffer;var _MAX_CONSTRUCTED_STRING_LENGTH=4096;util$1.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>_MAX_CONSTRUCTED_STRING_LENGTH&&(this.data.substr(0,1),this._constructedStringLength=0)};util$1.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};util$1.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};util$1.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};util$1.ByteStringBuffer.prototype.fillWithByte=function(e,r){e=String.fromCharCode(e);for(var n=this.data;r>0;)r&1&&(n+=e),r>>>=1,r>0&&(e+=e);return this.data=n,this._optimizeConstructedString(r),this};util$1.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};util$1.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(util$1.encodeUtf8(e))};util$1.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};util$1.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};util$1.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};util$1.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};util$1.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};util$1.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};util$1.ByteStringBuffer.prototype.putInt=function(e,r){_checkBitsParam(r);var n="";do r-=8,n+=String.fromCharCode(e>>r&255);while(r>0);return this.putBytes(n)};util$1.ByteStringBuffer.prototype.putSignedInt=function(e,r){return e<0&&(e+=2<<r-1),this.putInt(e,r)};util$1.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};util$1.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};util$1.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};util$1.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};util$1.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};util$1.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};util$1.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};util$1.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};util$1.ByteStringBuffer.prototype.getInt=function(e){_checkBitsParam(e);var r=0;do r=(r<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return r};util$1.ByteStringBuffer.prototype.getSignedInt=function(e){var r=this.getInt(e),n=2<<e-2;return r>=n&&(r-=n<<1),r};util$1.ByteStringBuffer.prototype.getBytes=function(e){var r;return e?(e=Math.min(this.length(),e),r=this.data.slice(this.read,this.read+e),this.read+=e):e===0?r="":(r=this.read===0?this.data:this.data.slice(this.read),this.clear()),r};util$1.ByteStringBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};util$1.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};util$1.ByteStringBuffer.prototype.setAt=function(e,r){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(r)+this.data.substr(this.read+e+1),this};util$1.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util$1.ByteStringBuffer.prototype.copy=function(){var e=util$1.createBuffer(this.data);return e.read=this.read,e};util$1.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};util$1.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};util$1.ByteStringBuffer.prototype.truncate=function(e){var r=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,r),this.read=0,this};util$1.ByteStringBuffer.prototype.toHex=function(){for(var e="",r=this.read;r<this.data.length;++r){var n=this.data.charCodeAt(r);n<16&&(e+="0"),e+=n.toString(16)}return e};util$1.ByteStringBuffer.prototype.toString=function(){return util$1.decodeUtf8(this.bytes())};function DataBuffer(e,r){r=r||{},this.read=r.readOffset||0,this.growSize=r.growSize||1024;var n=util$1.isArrayBuffer(e),a=util$1.isArrayBufferView(e);if(n||a){n?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in r?r.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in r&&(this.write=r.writeOffset)}util$1.DataBuffer=DataBuffer;util$1.DataBuffer.prototype.length=function(){return this.write-this.read};util$1.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};util$1.DataBuffer.prototype.accommodate=function(e,r){if(this.length()>=e)return this;r=Math.max(r||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),a=new Uint8Array(this.length()+r);return a.set(n),this.data=new DataView(a.buffer),this};util$1.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};util$1.DataBuffer.prototype.fillWithByte=function(e,r){this.accommodate(r);for(var n=0;n<r;++n)this.data.setUint8(e);return this};util$1.DataBuffer.prototype.putBytes=function(e,r){if(util$1.isArrayBufferView(e)){var n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=n.byteLength-n.byteOffset;this.accommodate(a);var o=new Uint8Array(this.data.buffer,this.write);return o.set(n),this.write+=a,this}if(util$1.isArrayBuffer(e)){var n=new Uint8Array(e);this.accommodate(n.byteLength);var o=new Uint8Array(this.data.buffer);return o.set(n,this.write),this.write+=n.byteLength,this}if(e instanceof util$1.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&util$1.isArrayBufferView(e.data)){var n=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(n.byteLength);var o=new Uint8Array(e.data.byteLength,this.write);return o.set(n),this.write+=n.byteLength,this}if(e instanceof util$1.ByteStringBuffer&&(e=e.data,r="binary"),r=r||"binary",typeof e=="string"){var u;if(r==="hex")return this.accommodate(Math.ceil(e.length/2)),u=new Uint8Array(this.data.buffer,this.write),this.write+=util$1.binary.hex.decode(e,u,this.write),this;if(r==="base64")return this.accommodate(Math.ceil(e.length/4)*3),u=new Uint8Array(this.data.buffer,this.write),this.write+=util$1.binary.base64.decode(e,u,this.write),this;if(r==="utf8"&&(e=util$1.encodeUtf8(e),r="binary"),r==="binary"||r==="raw")return this.accommodate(e.length),u=new Uint8Array(this.data.buffer,this.write),this.write+=util$1.binary.raw.decode(u),this;if(r==="utf16")return this.accommodate(e.length*2),u=new Uint16Array(this.data.buffer,this.write),this.write+=util$1.text.utf16.encode(u),this;throw new Error("Invalid encoding: "+r)}throw Error("Invalid parameter: "+e)};util$1.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};util$1.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};util$1.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};util$1.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};util$1.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};util$1.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};util$1.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};util$1.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};util$1.DataBuffer.prototype.putInt=function(e,r){_checkBitsParam(r),this.accommodate(r/8);do r-=8,this.data.setInt8(this.write++,e>>r&255);while(r>0);return this};util$1.DataBuffer.prototype.putSignedInt=function(e,r){return _checkBitsParam(r),this.accommodate(r/8),e<0&&(e+=2<<r-1),this.putInt(e,r)};util$1.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};util$1.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};util$1.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};util$1.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};util$1.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};util$1.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};util$1.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};util$1.DataBuffer.prototype.getInt=function(e){_checkBitsParam(e);var r=0;do r=(r<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return r};util$1.DataBuffer.prototype.getSignedInt=function(e){var r=this.getInt(e),n=2<<e-2;return r>=n&&(r-=n<<1),r};util$1.DataBuffer.prototype.getBytes=function(e){var r;return e?(e=Math.min(this.length(),e),r=this.data.slice(this.read,this.read+e),this.read+=e):e===0?r="":(r=this.read===0?this.data:this.data.slice(this.read),this.clear()),r};util$1.DataBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};util$1.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};util$1.DataBuffer.prototype.setAt=function(e,r){return this.data.setUint8(e,r),this};util$1.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};util$1.DataBuffer.prototype.copy=function(){return new util$1.DataBuffer(this)};util$1.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),r=new Uint8Array(e.byteLength);r.set(e),this.data=new DataView(r),this.write-=this.read,this.read=0}return this};util$1.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};util$1.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};util$1.DataBuffer.prototype.toHex=function(){for(var e="",r=this.read;r<this.data.byteLength;++r){var n=this.data.getUint8(r);n<16&&(e+="0"),e+=n.toString(16)}return e};util$1.DataBuffer.prototype.toString=function(e){var r=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return util$1.binary.raw.encode(r);if(e==="hex")return util$1.binary.hex.encode(r);if(e==="base64")return util$1.binary.base64.encode(r);if(e==="utf8")return util$1.text.utf8.decode(r);if(e==="utf16")return util$1.text.utf16.decode(r);throw new Error("Invalid encoding: "+e)};util$1.createBuffer=function(e,r){return r=r||"raw",e!==void 0&&r==="utf8"&&(e=util$1.encodeUtf8(e)),new util$1.ByteBuffer(e)};util$1.fillString=function(e,r){for(var n="";r>0;)r&1&&(n+=e),r>>>=1,r>0&&(e+=e);return n};util$1.xorBytes=function(e,r,n){for(var a="",o="",u="",l=0,c=0;n>0;--n,++l)o=e.charCodeAt(l)^r.charCodeAt(l),c>=10&&(a+=u,u="",c=0),u+=String.fromCharCode(o),++c;return a+=u,a};util$1.hexToBytes=function(e){var r="",n=0;for(e.length&!0&&(n=1,r+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)r+=String.fromCharCode(parseInt(e.substr(n,2),16));return r};util$1.bytesToHex=function(e){return util$1.createBuffer(e).toHex()};util$1.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_base58="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";util$1.encode64=function(e,r){for(var n="",a="",o,u,l,c=0;c<e.length;)o=e.charCodeAt(c++),u=e.charCodeAt(c++),l=e.charCodeAt(c++),n+=_base64.charAt(o>>2),n+=_base64.charAt((o&3)<<4|u>>4),isNaN(u)?n+="==":(n+=_base64.charAt((u&15)<<2|l>>6),n+=isNaN(l)?"=":_base64.charAt(l&63)),r&&n.length>r&&(a+=n.substr(0,r)+`\r
`,n=n.substr(r));return a+=n,a};util$1.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var r="",n,a,o,u,l=0;l<e.length;)n=_base64Idx[e.charCodeAt(l++)-43],a=_base64Idx[e.charCodeAt(l++)-43],o=_base64Idx[e.charCodeAt(l++)-43],u=_base64Idx[e.charCodeAt(l++)-43],r+=String.fromCharCode(n<<2|a>>4),o!==64&&(r+=String.fromCharCode((a&15)<<4|o>>2),u!==64&&(r+=String.fromCharCode((o&3)<<6|u)));return r};util$1.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};util$1.decodeUtf8=function(e){return decodeURIComponent(escape(e))};util$1.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:baseN.encode,decode:baseN.decode}};util$1.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};util$1.binary.raw.decode=function(e,r,n){var a=r;a||(a=new Uint8Array(e.length)),n=n||0;for(var o=n,u=0;u<e.length;++u)a[o++]=e.charCodeAt(u);return r?o-n:a};util$1.binary.hex.encode=util$1.bytesToHex;util$1.binary.hex.decode=function(e,r,n){var a=r;a||(a=new Uint8Array(Math.ceil(e.length/2))),n=n||0;var o=0,u=n;for(e.length&1&&(o=1,a[u++]=parseInt(e[0],16));o<e.length;o+=2)a[u++]=parseInt(e.substr(o,2),16);return r?u-n:a};util$1.binary.base64.encode=function(e,r){for(var n="",a="",o,u,l,c=0;c<e.byteLength;)o=e[c++],u=e[c++],l=e[c++],n+=_base64.charAt(o>>2),n+=_base64.charAt((o&3)<<4|u>>4),isNaN(u)?n+="==":(n+=_base64.charAt((u&15)<<2|l>>6),n+=isNaN(l)?"=":_base64.charAt(l&63)),r&&n.length>r&&(a+=n.substr(0,r)+`\r
`,n=n.substr(r));return a+=n,a};util$1.binary.base64.decode=function(e,r,n){var a=r;a||(a=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=n||0;for(var o,u,l,c,g=0,d=n;g<e.length;)o=_base64Idx[e.charCodeAt(g++)-43],u=_base64Idx[e.charCodeAt(g++)-43],l=_base64Idx[e.charCodeAt(g++)-43],c=_base64Idx[e.charCodeAt(g++)-43],a[d++]=o<<2|u>>4,l!==64&&(a[d++]=(u&15)<<4|l>>2,c!==64&&(a[d++]=(l&3)<<6|c));return r?d-n:a.subarray(0,d)};util$1.binary.base58.encode=function(e,r){return util$1.binary.baseN.encode(e,_base58,r)};util$1.binary.base58.decode=function(e,r){return util$1.binary.baseN.decode(e,_base58,r)};util$1.text={utf8:{},utf16:{}};util$1.text.utf8.encode=function(e,r,n){e=util$1.encodeUtf8(e);var a=r;a||(a=new Uint8Array(e.length)),n=n||0;for(var o=n,u=0;u<e.length;++u)a[o++]=e.charCodeAt(u);return r?o-n:a};util$1.text.utf8.decode=function(e){return util$1.decodeUtf8(String.fromCharCode.apply(null,e))};util$1.text.utf16.encode=function(e,r,n){var a=r;a||(a=new Uint8Array(e.length*2));var o=new Uint16Array(a.buffer);n=n||0;for(var u=n,l=n,c=0;c<e.length;++c)o[l++]=e.charCodeAt(c),u+=2;return r?u-n:a};util$1.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};util$1.deflate=function(e,r,n){if(r=util$1.decode64(e.deflate(util$1.encode64(r)).rval),n){var a=2,o=r.charCodeAt(1);o&32&&(a=6),r=r.substring(a,r.length-4)}return r};util$1.inflate=function(e,r,n){var a=e.inflate(util$1.encode64(r)).rval;return a===null?null:util$1.decode64(a)};var _setStorageObject=function(e,r,n){if(!e)throw new Error("WebStorage not available.");var a;if(n===null?a=e.removeItem(r):(n=util$1.encode64(JSON.stringify(n)),a=e.setItem(r,n)),typeof a!="undefined"&&a.rval!==!0){var o=new Error(a.error.message);throw o.id=a.error.id,o.name=a.error.name,o}},_getStorageObject=function(e,r){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(r);if(e.init)if(n.rval===null){if(n.error){var a=new Error(n.error.message);throw a.id=n.error.id,a.name=n.error.name,a}n=null}else n=n.rval;return n!==null&&(n=JSON.parse(util$1.decode64(n))),n},_setItem=function(e,r,n,a){var o=_getStorageObject(e,r);o===null&&(o={}),o[n]=a,_setStorageObject(e,r,o)},_getItem=function(e,r,n){var a=_getStorageObject(e,r);return a!==null&&(a=n in a?a[n]:null),a},_removeItem=function(e,r,n){var a=_getStorageObject(e,r);if(a!==null&&n in a){delete a[n];var o=!0;for(var u in a){o=!1;break}o&&(a=null),_setStorageObject(e,r,a)}},_clearItems=function(e,r){_setStorageObject(e,r,null)},_callStorageFunction=function(e,r,n){var a=null;typeof n=="undefined"&&(n=["web","flash"]);var o,u=!1,l=null;for(var c in n){o=n[c];try{if(o==="flash"||o==="both"){if(r[0]===null)throw new Error("Flash local storage not available.");a=e.apply(this,r),u=o==="flash"}(o==="web"||o==="both")&&(r[0]=localStorage,a=e.apply(this,r),u=!0)}catch(g){l=g}if(u)break}if(!u)throw l;return a};util$1.setItem=function(e,r,n,a,o){_callStorageFunction(_setItem,arguments,o)};util$1.getItem=function(e,r,n,a){return _callStorageFunction(_getItem,arguments,a)};util$1.removeItem=function(e,r,n,a){_callStorageFunction(_removeItem,arguments,a)};util$1.clearItems=function(e,r,n){_callStorageFunction(_clearItems,arguments,n)};util$1.isEmpty=function(e){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0};util$1.format=function(e){for(var r=/%./g,n,a,o=0,u=[],l=0;n=r.exec(e);){a=e.substring(l,r.lastIndex-2),a.length>0&&u.push(a),l=r.lastIndex;var c=n[0][1];switch(c){case"s":case"o":o<arguments.length?u.push(arguments[o+++1]):u.push("<?>");break;case"%":u.push("%");break;default:u.push("<%"+c+"?>")}}return u.push(e.substring(l)),u.join("")};util$1.formatNumber=function(e,r,n,a){var o=e,u=isNaN(r=Math.abs(r))?2:r,l=n===void 0?",":n,c=a===void 0?".":a,g=o<0?"-":"",d=parseInt(o=Math.abs(+o||0).toFixed(u),10)+"",v=d.length>3?d.length%3:0;return g+(v?d.substr(0,v)+c:"")+d.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+c)+(u?l+Math.abs(o-d).toFixed(u).slice(2):"")};util$1.formatSize=function(e){return e>=1073741824?e=util$1.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=util$1.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=util$1.formatNumber(e/1024,0)+" KiB":e=util$1.formatNumber(e,0)+" bytes",e};util$1.bytesFromIP=function(e){return e.indexOf(".")!==-1?util$1.bytesFromIPv4(e):e.indexOf(":")!==-1?util$1.bytesFromIPv6(e):null};util$1.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var r=util$1.createBuffer(),n=0;n<e.length;++n){var a=parseInt(e[n],10);if(isNaN(a))return null;r.putByte(a)}return r.getBytes()};util$1.bytesFromIPv6=function(e){var r=0;e=e.split(":").filter(function(l){return l.length===0&&++r,!0});for(var n=(8-e.length+r)*2,a=util$1.createBuffer(),o=0;o<8;++o){if(!e[o]||e[o].length===0){a.fillWithByte(0,n),n=0;continue}var u=util$1.hexToBytes(e[o]);u.length<2&&a.putByte(0),a.putBytes(u)}return a.getBytes()};util$1.bytesToIP=function(e){return e.length===4?util$1.bytesToIPv4(e):e.length===16?util$1.bytesToIPv6(e):null};util$1.bytesToIPv4=function(e){if(e.length!==4)return null;for(var r=[],n=0;n<e.length;++n)r.push(e.charCodeAt(n));return r.join(".")};util$1.bytesToIPv6=function(e){if(e.length!==16)return null;for(var r=[],n=[],a=0,o=0;o<e.length;o+=2){for(var u=util$1.bytesToHex(e[o]+e[o+1]);u[0]==="0"&&u!=="0";)u=u.substr(1);if(u==="0"){var l=n[n.length-1],c=r.length;!l||c!==l.end+1?n.push({start:c,end:c}):(l.end=c,l.end-l.start>n[a].end-n[a].start&&(a=n.length-1))}r.push(u)}if(n.length>0){var g=n[a];g.end-g.start>0&&(r.splice(g.start,g.end-g.start+1,""),g.start===0&&r.unshift(""),g.end===7&&r.push(""))}return r.join(":")};util$1.estimateCores=function(e,r){if(typeof e=="function"&&(r=e,e={}),e=e||{},"cores"in util$1&&!e.update)return r(null,util$1.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return util$1.cores=navigator.hardwareConcurrency,r(null,util$1.cores);if(typeof Worker=="undefined")return util$1.cores=1,r(null,util$1.cores);if(typeof Blob=="undefined")return util$1.cores=2,r(null,util$1.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(l){var c=Date.now(),g=c+4;self.postMessage({st:c,et:g})})}.toString(),")()"],{type:"application/javascript"}));a([],5,16);function a(l,c,g){if(c===0){var d=Math.floor(l.reduce(function(v,x){return v+x},0)/l.length);return util$1.cores=Math.max(1,d),URL.revokeObjectURL(n),r(null,util$1.cores)}o(g,function(v,x){l.push(u(g,x)),a(l,c-1,g)})}function o(l,c){for(var g=[],d=[],v=0;v<l;++v){var x=new Worker(n);x.addEventListener("message",function(m){if(d.push(m.data),d.length===l){for(var E=0;E<l;++E)g[E].terminate();c(null,d)}}),g.push(x)}for(var v=0;v<l;++v)g[v].postMessage(v)}function u(l,c){for(var g=[],d=0;d<l;++d)for(var v=c[d],x=g[d]=[],m=0;m<l;++m)if(d!==m){var E=c[m];(v.st>E.st&&v.st<E.et||E.st>v.st&&E.st<v.et)&&x.push(m)}return g.reduce(function(y,C){return Math.max(y,C.length)},0)}};var forge$A=forge$C;forge$A.cipher=forge$A.cipher||{};forge$A.cipher.algorithms=forge$A.cipher.algorithms||{};forge$A.cipher.createCipher=function(e,r){var n=e;if(typeof n=="string"&&(n=forge$A.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+e);return new forge$A.cipher.BlockCipher({algorithm:n,key:r,decrypt:!1})};forge$A.cipher.createDecipher=function(e,r){var n=e;if(typeof n=="string"&&(n=forge$A.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+e);return new forge$A.cipher.BlockCipher({algorithm:n,key:r,decrypt:!0})};forge$A.cipher.registerAlgorithm=function(e,r){e=e.toUpperCase(),forge$A.cipher.algorithms[e]=r};forge$A.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in forge$A.cipher.algorithms?forge$A.cipher.algorithms[e]:null};var BlockCipher=forge$A.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};BlockCipher.prototype.start=function(e){e=e||{};var r={};for(var n in e)r[n]=e[n];r.decrypt=this._decrypt,this._finish=!1,this._input=forge$A.util.createBuffer(),this.output=e.output||forge$A.util.createBuffer(),this.mode.start(r)};BlockCipher.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};BlockCipher.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(n){return e(this.blockSize,n,!1)},this.mode.unpad=function(n){return e(this.blockSize,n,!0)});var r={};return r.decrypt=this._decrypt,r.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,r)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,r))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,r))};var forge$z=forge$C;forge$z.cipher=forge$z.cipher||{};var modes=forge$z.cipher.modes=forge$z.cipher.modes||{};modes.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};modes.ecb.prototype.start=function(e){};modes.ecb.prototype.encrypt=function(e,r,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)r.putInt32(this._outBlock[a])};modes.ecb.prototype.decrypt=function(e,r,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)r.putInt32(this._outBlock[a])};modes.ecb.prototype.pad=function(e,r){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0};modes.ecb.prototype.unpad=function(e,r){if(r.overflow>0)return!1;var n=e.length(),a=e.at(n-1);return a>this.blockSize<<2?!1:(e.truncate(a),!0)};modes.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};modes.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=transformIV(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};modes.cbc.prototype.encrypt=function(e,r,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=this._prev[a]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)r.putInt32(this._outBlock[a]);this._prev=this._outBlock};modes.cbc.prototype.decrypt=function(e,r,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)r.putInt32(this._prev[a]^this._outBlock[a]);this._prev=this._inBlock.slice(0)};modes.cbc.prototype.pad=function(e,r){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0};modes.cbc.prototype.unpad=function(e,r){if(r.overflow>0)return!1;var n=e.length(),a=e.at(n-1);return a>this.blockSize<<2?!1:(e.truncate(a),!0)};modes.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=forge$z.util.createBuffer(),this._partialBytes=0};modes.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=transformIV(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};modes.cfb.prototype.encrypt=function(e,r,n){var a=e.length();if(a===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize){for(var o=0;o<this._ints;++o)this._inBlock[o]=e.getInt32()^this._outBlock[o],r.putInt32(this._inBlock[o]);return}var u=(this.blockSize-a)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialBlock[o]=e.getInt32()^this._outBlock[o],this._partialOutput.putInt32(this._partialBlock[o]);if(u>0)e.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!n)return r.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;r.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0};modes.cfb.prototype.decrypt=function(e,r,n){var a=e.length();if(a===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize){for(var o=0;o<this._ints;++o)this._inBlock[o]=e.getInt32(),r.putInt32(this._inBlock[o]^this._outBlock[o]);return}var u=(this.blockSize-a)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialBlock[o]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[o]^this._outBlock[o]);if(u>0)e.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!n)return r.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;r.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0};modes.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge$z.util.createBuffer(),this._partialBytes=0};modes.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=transformIV(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};modes.ofb.prototype.encrypt=function(e,r,n){var a=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize){for(var o=0;o<this._ints;++o)r.putInt32(e.getInt32()^this._outBlock[o]),this._inBlock[o]=this._outBlock[o];return}var u=(this.blockSize-a)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(u>0)e.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._outBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!n)return r.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;r.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0};modes.ofb.prototype.decrypt=modes.ofb.prototype.encrypt;modes.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge$z.util.createBuffer(),this._partialBytes=0};modes.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=transformIV(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};modes.ctr.prototype.encrypt=function(e,r,n){var a=e.length();if(a===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize)for(var o=0;o<this._ints;++o)r.putInt32(e.getInt32()^this._outBlock[o]);else{var u=(this.blockSize-a)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(u>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!n)return r.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;r.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}inc32(this._inBlock)};modes.ctr.prototype.decrypt=modes.ctr.prototype.encrypt;modes.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=forge$z.util.createBuffer(),this._partialBytes=0,this._R=3774873600};modes.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var r=forge$z.util.createBuffer(e.iv);this._cipherLength=0;var n;if("additionalData"in e?n=forge$z.util.createBuffer(e.additionalData):n=forge$z.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=forge$z.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var a=r.length();if(a===12)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(from64To32(a*8)))}this._inBlock=this._j0.slice(0),inc32(this._inBlock),this._partialBytes=0,n=forge$z.util.createBuffer(n),this._aDataLength=from64To32(n.length()*8);var o=n.length()%this.blockSize;for(o&&n.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];n.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()])};modes.gcm.prototype.encrypt=function(e,r,n){var a=e.length();if(a===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize){for(var o=0;o<this._ints;++o)r.putInt32(this._outBlock[o]^=e.getInt32());this._cipherLength+=this.blockSize}else{var u=(this.blockSize-a)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(u<=0||n){if(n){var l=a%this.blockSize;this._cipherLength+=l,this._partialOutput.truncate(this.blockSize-l)}else this._cipherLength+=this.blockSize;for(var o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!n)return e.read-=this.blockSize,r.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;r.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),inc32(this._inBlock)};modes.gcm.prototype.decrypt=function(e,r,n){var a=e.length();if(a<this.blockSize&&!(n&&a>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),inc32(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)r.putInt32(this._outBlock[o]^this._hashBlock[o]);a<this.blockSize?this._cipherLength+=a%this.blockSize:this._cipherLength+=this.blockSize};modes.gcm.prototype.afterFinish=function(e,r){var n=!0;r.decrypt&&r.overflow&&e.truncate(this.blockSize-r.overflow),this.tag=forge$z.util.createBuffer();var a=this._aDataLength.concat(from64To32(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,a);var o=[];this.cipher.encrypt(this._j0,o);for(var u=0;u<this._ints;++u)this.tag.putInt32(this._s[u]^o[u]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),r.decrypt&&this.tag.bytes()!==this._tag&&(n=!1),n};modes.gcm.prototype.multiply=function(e,r){for(var n=[0,0,0,0],a=r.slice(0),o=0;o<128;++o){var u=e[o/32|0]&1<<31-o%32;u&&(n[0]^=a[0],n[1]^=a[1],n[2]^=a[2],n[3]^=a[3]),this.pow(a,a)}return n};modes.gcm.prototype.pow=function(e,r){for(var n=e[3]&1,a=3;a>0;--a)r[a]=e[a]>>>1|(e[a-1]&1)<<31;r[0]=e[0]>>>1,n&&(r[0]^=this._R)};modes.gcm.prototype.tableMultiply=function(e){for(var r=[0,0,0,0],n=0;n<32;++n){var a=n/8|0,o=e[a]>>>(7-n%8)*4&15,u=this._m[n][o];r[0]^=u[0],r[1]^=u[1],r[2]^=u[2],r[3]^=u[3]}return r};modes.gcm.prototype.ghash=function(e,r,n){return r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3],this.tableMultiply(r)};modes.gcm.prototype.generateHashTable=function(e,r){for(var n=8/r,a=4*n,o=16*n,u=new Array(o),l=0;l<o;++l){var c=[0,0,0,0],g=l/a|0,d=(a-1-l%a)*r;c[g]=1<<r-1<<d,u[l]=this.generateSubHashTable(this.multiply(c,e),r)}return u};modes.gcm.prototype.generateSubHashTable=function(e,r){var n=1<<r,a=n>>>1,o=new Array(n);o[a]=e.slice(0);for(var u=a>>>1;u>0;)this.pow(o[2*u],o[u]=[]),u>>=1;for(u=2;u<a;){for(var l=1;l<u;++l){var c=o[u],g=o[l];o[u+l]=[c[0]^g[0],c[1]^g[1],c[2]^g[2],c[3]^g[3]]}u*=2}for(o[0]=[0,0,0,0],u=a+1;u<n;++u){var d=o[u^a];o[u]=[e[0]^d[0],e[1]^d[1],e[2]^d[2],e[3]^d[3]]}return o};function transformIV(e,r){if(typeof e=="string"&&(e=forge$z.util.createBuffer(e)),forge$z.util.isArray(e)&&e.length>4){var n=e;e=forge$z.util.createBuffer();for(var a=0;a<n.length;++a)e.putByte(n[a])}if(e.length()<r)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+r+" bytes.");if(!forge$z.util.isArray(e)){for(var o=[],u=r/4,a=0;a<u;++a)o.push(e.getInt32());e=o}return e}function inc32(e){e[e.length-1]=e[e.length-1]+1&4294967295}function from64To32(e){return[e/4294967296|0,e&4294967295]}var forge$y=forge$C;forge$y.aes=forge$y.aes||{};forge$y.aes.startEncrypting=function(e,r,n,a){var o=_createCipher$1({key:e,output:n,decrypt:!1,mode:a});return o.start(r),o};forge$y.aes.createEncryptionCipher=function(e,r){return _createCipher$1({key:e,output:null,decrypt:!1,mode:r})};forge$y.aes.startDecrypting=function(e,r,n,a){var o=_createCipher$1({key:e,output:n,decrypt:!0,mode:a});return o.start(r),o};forge$y.aes.createDecryptionCipher=function(e,r){return _createCipher$1({key:e,output:null,decrypt:!0,mode:r})};forge$y.aes.Algorithm=function(e,r){init||initialize();var n=this;n.name=e,n.mode=new r({blockSize:16,cipher:{encrypt:function(a,o){return _updateBlock$1(n._w,a,o,!1)},decrypt:function(a,o){return _updateBlock$1(n._w,a,o,!0)}}}),n._init=!1};forge$y.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var r=e.key,n;if(typeof r=="string"&&(r.length===16||r.length===24||r.length===32))r=forge$y.util.createBuffer(r);else if(forge$y.util.isArray(r)&&(r.length===16||r.length===24||r.length===32)){n=r,r=forge$y.util.createBuffer();for(var a=0;a<n.length;++a)r.putByte(n[a])}if(!forge$y.util.isArray(r)){n=r,r=[];var o=n.length();if(o===16||o===24||o===32){o=o>>>2;for(var a=0;a<o;++a)r.push(n.getInt32())}}if(!forge$y.util.isArray(r)||!(r.length===4||r.length===6||r.length===8))throw new Error("Invalid key parameter.");var u=this.mode.name,l=["CFB","OFB","CTR","GCM"].indexOf(u)!==-1;this._w=_expandKey(r,e.decrypt&&!l),this._init=!0}};forge$y.aes._expandKey=function(e,r){return init||initialize(),_expandKey(e,r)};forge$y.aes._updateBlock=_updateBlock$1;registerAlgorithm$1("AES-ECB",forge$y.cipher.modes.ecb);registerAlgorithm$1("AES-CBC",forge$y.cipher.modes.cbc);registerAlgorithm$1("AES-CFB",forge$y.cipher.modes.cfb);registerAlgorithm$1("AES-OFB",forge$y.cipher.modes.ofb);registerAlgorithm$1("AES-CTR",forge$y.cipher.modes.ctr);registerAlgorithm$1("AES-GCM",forge$y.cipher.modes.gcm);function registerAlgorithm$1(e,r){var n=function(){return new forge$y.aes.Algorithm(e,r)};forge$y.cipher.registerAlgorithm(e,n)}var init=!1,Nb=4,sbox,isbox,rcon,mix,imix;function initialize(){init=!0,rcon=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),r=0;r<128;++r)e[r]=r<<1,e[r+128]=r+128<<1^283;sbox=new Array(256),isbox=new Array(256),mix=new Array(4),imix=new Array(4);for(var r=0;r<4;++r)mix[r]=new Array(256),imix[r]=new Array(256);for(var n=0,a=0,o,u,l,c,g,d,v,r=0;r<256;++r){c=a^a<<1^a<<2^a<<3^a<<4,c=c>>8^c&255^99,sbox[n]=c,isbox[c]=n,g=e[c],o=e[n],u=e[o],l=e[u],d=g<<24^c<<16^c<<8^(c^g),v=(o^u^l)<<24^(n^l)<<16^(n^u^l)<<8^(n^o^l);for(var x=0;x<4;++x)mix[x][n]=d,imix[x][c]=v,d=d<<24|d>>>8,v=v<<24|v>>>8;n===0?n=a=1:(n=o^e[e[e[o^l]]],a^=e[e[a]])}}function _expandKey(e,r){for(var n=e.slice(0),a,o=1,u=n.length,l=u+6+1,c=Nb*l,g=u;g<c;++g)a=n[g-1],g%u===0?(a=sbox[a>>>16&255]<<24^sbox[a>>>8&255]<<16^sbox[a&255]<<8^sbox[a>>>24]^rcon[o]<<24,o++):u>6&&g%u===4&&(a=sbox[a>>>24]<<24^sbox[a>>>16&255]<<16^sbox[a>>>8&255]<<8^sbox[a&255]),n[g]=n[g-u]^a;if(r){var d,v=imix[0],x=imix[1],m=imix[2],E=imix[3],y=n.slice(0);c=n.length;for(var g=0,C=c-Nb;g<c;g+=Nb,C-=Nb)if(g===0||g===c-Nb)y[g]=n[C],y[g+1]=n[C+3],y[g+2]=n[C+2],y[g+3]=n[C+1];else for(var b=0;b<Nb;++b)d=n[C+b],y[g+(3&-b)]=v[sbox[d>>>24]]^x[sbox[d>>>16&255]]^m[sbox[d>>>8&255]]^E[sbox[d&255]];n=y}return n}function _updateBlock$1(e,r,n,a){var o=e.length/4-1,u,l,c,g,d;a?(u=imix[0],l=imix[1],c=imix[2],g=imix[3],d=isbox):(u=mix[0],l=mix[1],c=mix[2],g=mix[3],d=sbox);var v,x,m,E,y,C,b;v=r[0]^e[0],x=r[a?3:1]^e[1],m=r[2]^e[2],E=r[a?1:3]^e[3];for(var $=3,B=1;B<o;++B)y=u[v>>>24]^l[x>>>16&255]^c[m>>>8&255]^g[E&255]^e[++$],C=u[x>>>24]^l[m>>>16&255]^c[E>>>8&255]^g[v&255]^e[++$],b=u[m>>>24]^l[E>>>16&255]^c[v>>>8&255]^g[x&255]^e[++$],E=u[E>>>24]^l[v>>>16&255]^c[x>>>8&255]^g[m&255]^e[++$],v=y,x=C,m=b;n[0]=d[v>>>24]<<24^d[x>>>16&255]<<16^d[m>>>8&255]<<8^d[E&255]^e[++$],n[a?3:1]=d[x>>>24]<<24^d[m>>>16&255]<<16^d[E>>>8&255]<<8^d[v&255]^e[++$],n[2]=d[m>>>24]<<24^d[E>>>16&255]<<16^d[v>>>8&255]<<8^d[x&255]^e[++$],n[a?1:3]=d[E>>>24]<<24^d[v>>>16&255]<<16^d[x>>>8&255]<<8^d[m&255]^e[++$]}function _createCipher$1(e){e=e||{};var r=(e.mode||"CBC").toUpperCase(),n="AES-"+r,a;e.decrypt?a=forge$y.cipher.createDecipher(n,e.key):a=forge$y.cipher.createCipher(n,e.key);var o=a.start;return a.start=function(u,l){var c=null;l instanceof forge$y.util.ByteBuffer&&(c=l,l={}),l=l||{},l.output=c,l.iv=u,o.call(a,l)},a}var forge$x=forge$C;forge$x.pki=forge$x.pki||{};var oids$2=forge$x.pki.oids=forge$x.oids=forge$x.oids||{};function _IN(e,r){oids$2[e]=r,oids$2[r]=e}function _I_(e,r){oids$2[e]=r}_IN("1.2.840.113549.1.1.1","rsaEncryption");_IN("1.2.840.113549.1.1.4","md5WithRSAEncryption");_IN("1.2.840.113549.1.1.5","sha1WithRSAEncryption");_IN("1.2.840.113549.1.1.7","RSAES-OAEP");_IN("1.2.840.113549.1.1.8","mgf1");_IN("1.2.840.113549.1.1.9","pSpecified");_IN("1.2.840.113549.1.1.10","RSASSA-PSS");_IN("1.2.840.113549.1.1.11","sha256WithRSAEncryption");_IN("1.2.840.113549.1.1.12","sha384WithRSAEncryption");_IN("1.2.840.113549.1.1.13","sha512WithRSAEncryption");_IN("1.3.101.112","EdDSA25519");_IN("1.2.840.10040.4.3","dsa-with-sha1");_IN("1.3.14.3.2.7","desCBC");_IN("1.3.14.3.2.26","sha1");_IN("1.3.14.3.2.29","sha1WithRSASignature");_IN("2.16.840.1.101.3.4.2.1","sha256");_IN("2.16.840.1.101.3.4.2.2","sha384");_IN("2.16.840.1.101.3.4.2.3","sha512");_IN("2.16.840.1.101.3.4.2.4","sha224");_IN("2.16.840.1.101.3.4.2.5","sha512-224");_IN("2.16.840.1.101.3.4.2.6","sha512-256");_IN("1.2.840.113549.2.2","md2");_IN("1.2.840.113549.2.5","md5");_IN("1.2.840.113549.1.7.1","data");_IN("1.2.840.113549.1.7.2","signedData");_IN("1.2.840.113549.1.7.3","envelopedData");_IN("1.2.840.113549.1.7.4","signedAndEnvelopedData");_IN("1.2.840.113549.1.7.5","digestedData");_IN("1.2.840.113549.1.7.6","encryptedData");_IN("1.2.840.113549.1.9.1","emailAddress");_IN("1.2.840.113549.1.9.2","unstructuredName");_IN("1.2.840.113549.1.9.3","contentType");_IN("1.2.840.113549.1.9.4","messageDigest");_IN("1.2.840.113549.1.9.5","signingTime");_IN("1.2.840.113549.1.9.6","counterSignature");_IN("1.2.840.113549.1.9.7","challengePassword");_IN("1.2.840.113549.1.9.8","unstructuredAddress");_IN("1.2.840.113549.1.9.14","extensionRequest");_IN("1.2.840.113549.1.9.20","friendlyName");_IN("1.2.840.113549.1.9.21","localKeyId");_IN("1.2.840.113549.1.9.22.1","x509Certificate");_IN("1.2.840.113549.1.12.10.1.1","keyBag");_IN("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");_IN("1.2.840.113549.1.12.10.1.3","certBag");_IN("1.2.840.113549.1.12.10.1.4","crlBag");_IN("1.2.840.113549.1.12.10.1.5","secretBag");_IN("1.2.840.113549.1.12.10.1.6","safeContentsBag");_IN("1.2.840.113549.1.5.13","pkcs5PBES2");_IN("1.2.840.113549.1.5.12","pkcs5PBKDF2");_IN("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");_IN("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");_IN("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");_IN("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");_IN("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");_IN("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");_IN("1.2.840.113549.2.7","hmacWithSHA1");_IN("1.2.840.113549.2.8","hmacWithSHA224");_IN("1.2.840.113549.2.9","hmacWithSHA256");_IN("1.2.840.113549.2.10","hmacWithSHA384");_IN("1.2.840.113549.2.11","hmacWithSHA512");_IN("1.2.840.113549.3.7","des-EDE3-CBC");_IN("2.16.840.1.101.3.4.1.2","aes128-CBC");_IN("2.16.840.1.101.3.4.1.22","aes192-CBC");_IN("2.16.840.1.101.3.4.1.42","aes256-CBC");_IN("2.5.4.3","commonName");_IN("2.5.4.4","surname");_IN("2.5.4.5","serialNumber");_IN("2.5.4.6","countryName");_IN("2.5.4.7","localityName");_IN("2.5.4.8","stateOrProvinceName");_IN("2.5.4.9","streetAddress");_IN("2.5.4.10","organizationName");_IN("2.5.4.11","organizationalUnitName");_IN("2.5.4.12","title");_IN("2.5.4.13","description");_IN("2.5.4.15","businessCategory");_IN("2.5.4.17","postalCode");_IN("2.5.4.42","givenName");_IN("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");_IN("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");_IN("2.16.840.1.113730.1.1","nsCertType");_IN("2.16.840.1.113730.1.13","nsComment");_I_("2.5.29.1","authorityKeyIdentifier");_I_("2.5.29.2","keyAttributes");_I_("2.5.29.3","certificatePolicies");_I_("2.5.29.4","keyUsageRestriction");_I_("2.5.29.5","policyMapping");_I_("2.5.29.6","subtreesConstraint");_I_("2.5.29.7","subjectAltName");_I_("2.5.29.8","issuerAltName");_I_("2.5.29.9","subjectDirectoryAttributes");_I_("2.5.29.10","basicConstraints");_I_("2.5.29.11","nameConstraints");_I_("2.5.29.12","policyConstraints");_I_("2.5.29.13","basicConstraints");_IN("2.5.29.14","subjectKeyIdentifier");_IN("2.5.29.15","keyUsage");_I_("2.5.29.16","privateKeyUsagePeriod");_IN("2.5.29.17","subjectAltName");_IN("2.5.29.18","issuerAltName");_IN("2.5.29.19","basicConstraints");_I_("2.5.29.20","cRLNumber");_I_("2.5.29.21","cRLReason");_I_("2.5.29.22","expirationDate");_I_("2.5.29.23","instructionCode");_I_("2.5.29.24","invalidityDate");_I_("2.5.29.25","cRLDistributionPoints");_I_("2.5.29.26","issuingDistributionPoint");_I_("2.5.29.27","deltaCRLIndicator");_I_("2.5.29.28","issuingDistributionPoint");_I_("2.5.29.29","certificateIssuer");_I_("2.5.29.30","nameConstraints");_IN("2.5.29.31","cRLDistributionPoints");_IN("2.5.29.32","certificatePolicies");_I_("2.5.29.33","policyMappings");_I_("2.5.29.34","policyConstraints");_IN("2.5.29.35","authorityKeyIdentifier");_I_("2.5.29.36","policyConstraints");_IN("2.5.29.37","extKeyUsage");_I_("2.5.29.46","freshestCRL");_I_("2.5.29.54","inhibitAnyPolicy");_IN("1.3.6.1.4.1.11129.2.4.2","timestampList");_IN("1.3.6.1.5.5.7.1.1","authorityInfoAccess");_IN("1.3.6.1.5.5.7.3.1","serverAuth");_IN("1.3.6.1.5.5.7.3.2","clientAuth");_IN("1.3.6.1.5.5.7.3.3","codeSigning");_IN("1.3.6.1.5.5.7.3.4","emailProtection");_IN("1.3.6.1.5.5.7.3.8","timeStamping");var forge$w=forge$C,asn1$8=forge$w.asn1=forge$w.asn1||{};asn1$8.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};asn1$8.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};asn1$8.create=function(e,r,n,a,o){if(forge$w.util.isArray(a)){for(var u=[],l=0;l<a.length;++l)a[l]!==void 0&&u.push(a[l]);a=u}var c={tagClass:e,type:r,constructed:n,composed:n||forge$w.util.isArray(a),value:a};return o&&"bitStringContents"in o&&(c.bitStringContents=o.bitStringContents,c.original=asn1$8.copy(c)),c};asn1$8.copy=function(e,r){var n;if(forge$w.util.isArray(e)){n=[];for(var a=0;a<e.length;++a)n.push(asn1$8.copy(e[a],r));return n}return typeof e=="string"?e:(n={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:asn1$8.copy(e.value,r)},r&&!r.excludeBitStringContents&&(n.bitStringContents=e.bitStringContents),n)};asn1$8.equals=function(e,r,n){if(forge$w.util.isArray(e)){if(!forge$w.util.isArray(r)||e.length!==r.length)return!1;for(var a=0;a<e.length;++a)if(!asn1$8.equals(e[a],r[a]))return!1;return!0}if(typeof e!=typeof r)return!1;if(typeof e=="string")return e===r;var o=e.tagClass===r.tagClass&&e.type===r.type&&e.constructed===r.constructed&&e.composed===r.composed&&asn1$8.equals(e.value,r.value);return n&&n.includeBitStringContents&&(o=o&&e.bitStringContents===r.bitStringContents),o};asn1$8.getBerValueLength=function(e){var r=e.getByte();if(r!==128){var n,a=r&128;return a?n=e.getInt((r&127)<<3):n=r,n}};function _checkBufferLength(e,r,n){if(n>r){var a=new Error("Too few bytes to parse DER.");throw a.available=e.length(),a.remaining=r,a.requested=n,a}}var _getValueLength=function(e,r){var n=e.getByte();if(r--,n!==128){var a,o=n&128;if(!o)a=n;else{var u=n&127;_checkBufferLength(e,r,u),a=e.getInt(u<<3)}if(a<0)throw new Error("Negative length: "+a);return a}};asn1$8.fromDer=function(e,r){r===void 0&&(r={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof r=="boolean"&&(r={strict:r,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in r||(r.strict=!0),"parseAllBytes"in r||(r.parseAllBytes=!0),"decodeBitStrings"in r||(r.decodeBitStrings=!0),typeof e=="string"&&(e=forge$w.util.createBuffer(e));var n=e.length(),a=_fromDer(e,e.length(),0,r);if(r.parseAllBytes&&e.length()!==0){var o=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw o.byteCount=n,o.remaining=e.length(),o}return a};function _fromDer(e,r,n,a){var o;_checkBufferLength(e,r,2);var u=e.getByte();r--;var l=u&192,c=u&31;o=e.length();var g=_getValueLength(e,r);if(r-=o-e.length(),g!==void 0&&g>r){if(a.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=e.length(),d.remaining=r,d.requested=g,d}g=r}var v,x,m=(u&32)===32;if(m)if(v=[],g===void 0)for(;;){if(_checkBufferLength(e,r,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),r-=2;break}o=e.length(),v.push(_fromDer(e,r,n+1,a)),r-=o-e.length()}else for(;g>0;)o=e.length(),v.push(_fromDer(e,g,n+1,a)),r-=o-e.length(),g-=o-e.length();if(v===void 0&&l===asn1$8.Class.UNIVERSAL&&c===asn1$8.Type.BITSTRING&&(x=e.bytes(g)),v===void 0&&a.decodeBitStrings&&l===asn1$8.Class.UNIVERSAL&&c===asn1$8.Type.BITSTRING&&g>1){var E=e.read,y=r,C=0;if(c===asn1$8.Type.BITSTRING&&(_checkBufferLength(e,r,1),C=e.getByte(),r--),C===0)try{o=e.length();var b={strict:!0,decodeBitStrings:!0},$=_fromDer(e,r,n+1,b),B=o-e.length();r-=B,c==asn1$8.Type.BITSTRING&&B++;var w=$.tagClass;B===g&&(w===asn1$8.Class.UNIVERSAL||w===asn1$8.Class.CONTEXT_SPECIFIC)&&(v=[$])}catch{}v===void 0&&(e.read=E,r=y)}if(v===void 0){if(g===void 0){if(a.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");g=r}if(c===asn1$8.Type.BMPSTRING)for(v="";g>0;g-=2)_checkBufferLength(e,r,2),v+=String.fromCharCode(e.getInt16()),r-=2;else v=e.getBytes(g),r-=g}var F=x===void 0?null:{bitStringContents:x};return asn1$8.create(l,c,m,v,F)}asn1$8.toDer=function(e){var r=forge$w.util.createBuffer(),n=e.tagClass|e.type,a=forge$w.util.createBuffer(),o=!1;if("bitStringContents"in e&&(o=!0,e.original&&(o=asn1$8.equals(e,e.original))),o)a.putBytes(e.bitStringContents);else if(e.composed){e.constructed?n|=32:a.putByte(0);for(var u=0;u<e.value.length;++u)e.value[u]!==void 0&&a.putBuffer(asn1$8.toDer(e.value[u]))}else if(e.type===asn1$8.Type.BMPSTRING)for(var u=0;u<e.value.length;++u)a.putInt16(e.value.charCodeAt(u));else e.type===asn1$8.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?a.putBytes(e.value.substr(1)):a.putBytes(e.value);if(r.putByte(n),a.length()<=127)r.putByte(a.length()&127);else{var l=a.length(),c="";do c+=String.fromCharCode(l&255),l=l>>>8;while(l>0);r.putByte(c.length|128);for(var u=c.length-1;u>=0;--u)r.putByte(c.charCodeAt(u))}return r.putBuffer(a),r};asn1$8.oidToDer=function(e){var r=e.split("."),n=forge$w.util.createBuffer();n.putByte(40*parseInt(r[0],10)+parseInt(r[1],10));for(var a,o,u,l,c=2;c<r.length;++c){a=!0,o=[],u=parseInt(r[c],10);do l=u&127,u=u>>>7,a||(l|=128),o.push(l),a=!1;while(u>0);for(var g=o.length-1;g>=0;--g)n.putByte(o[g])}return n};asn1$8.derToOid=function(e){var r;typeof e=="string"&&(e=forge$w.util.createBuffer(e));var n=e.getByte();r=Math.floor(n/40)+"."+n%40;for(var a=0;e.length()>0;)n=e.getByte(),a=a<<7,n&128?a+=n&127:(r+="."+(a+n),a=0);return r};asn1$8.utcTimeToDate=function(e){var r=new Date,n=parseInt(e.substr(0,2),10);n=n>=50?1900+n:2e3+n;var a=parseInt(e.substr(2,2),10)-1,o=parseInt(e.substr(4,2),10),u=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),c=0;if(e.length>11){var g=e.charAt(10),d=10;g!=="+"&&g!=="-"&&(c=parseInt(e.substr(10,2),10),d+=2)}if(r.setUTCFullYear(n,a,o),r.setUTCHours(u,l,c,0),d&&(g=e.charAt(d),g==="+"||g==="-")){var v=parseInt(e.substr(d+1,2),10),x=parseInt(e.substr(d+4,2),10),m=v*60+x;m*=6e4,g==="+"?r.setTime(+r-m):r.setTime(+r+m)}return r};asn1$8.generalizedTimeToDate=function(e){var r=new Date,n=parseInt(e.substr(0,4),10),a=parseInt(e.substr(4,2),10)-1,o=parseInt(e.substr(6,2),10),u=parseInt(e.substr(8,2),10),l=parseInt(e.substr(10,2),10),c=parseInt(e.substr(12,2),10),g=0,d=0,v=!1;e.charAt(e.length-1)==="Z"&&(v=!0);var x=e.length-5,m=e.charAt(x);if(m==="+"||m==="-"){var E=parseInt(e.substr(x+1,2),10),y=parseInt(e.substr(x+4,2),10);d=E*60+y,d*=6e4,m==="+"&&(d*=-1),v=!0}return e.charAt(14)==="."&&(g=parseFloat(e.substr(14),10)*1e3),v?(r.setUTCFullYear(n,a,o),r.setUTCHours(u,l,c,g),r.setTime(+r+d)):(r.setFullYear(n,a,o),r.setHours(u,l,c,g)),r};asn1$8.dateToUtcTime=function(e){if(typeof e=="string")return e;var r="",n=[];n.push((""+e.getUTCFullYear()).substr(2)),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var a=0;a<n.length;++a)n[a].length<2&&(r+="0"),r+=n[a];return r+="Z",r};asn1$8.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var r="",n=[];n.push(""+e.getUTCFullYear()),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var a=0;a<n.length;++a)n[a].length<2&&(r+="0"),r+=n[a];return r+="Z",r};asn1$8.integerToDer=function(e){var r=forge$w.util.createBuffer();if(e>=-128&&e<128)return r.putSignedInt(e,8);if(e>=-32768&&e<32768)return r.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return r.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return r.putSignedInt(e,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=e,n};asn1$8.derToInteger=function(e){typeof e=="string"&&(e=forge$w.util.createBuffer(e));var r=e.length()*8;if(r>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(r)};asn1$8.validate=function(e,r,n,a){var o=!1;if((e.tagClass===r.tagClass||typeof r.tagClass=="undefined")&&(e.type===r.type||typeof r.type=="undefined"))if(e.constructed===r.constructed||typeof r.constructed=="undefined"){if(o=!0,r.value&&forge$w.util.isArray(r.value))for(var u=0,l=0;o&&l<r.value.length;++l)o=r.value[l].optional||!1,e.value[u]&&(o=asn1$8.validate(e.value[u],r.value[l],n,a),o?++u:r.value[l].optional&&(o=!0)),!o&&a&&a.push("["+r.name+'] Tag class "'+r.tagClass+'", type "'+r.type+'" expected value length "'+r.value.length+'", got "'+e.value.length+'"');if(o&&n&&(r.capture&&(n[r.capture]=e.value),r.captureAsn1&&(n[r.captureAsn1]=e),r.captureBitStringContents&&"bitStringContents"in e&&(n[r.captureBitStringContents]=e.bitStringContents),r.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)n[r.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");n[r.captureBitStringValue]=e.bitStringContents.slice(1)}}else a&&a.push("["+r.name+'] Expected constructed "'+r.constructed+'", got "'+e.constructed+'"');else a&&(e.tagClass!==r.tagClass&&a.push("["+r.name+'] Expected tag class "'+r.tagClass+'", got "'+e.tagClass+'"'),e.type!==r.type&&a.push("["+r.name+'] Expected type "'+r.type+'", got "'+e.type+'"'));return o};var _nonLatinRegex=/[^\\u0000-\\u00ff]/;asn1$8.prettyPrint=function(e,r,n){var a="";r=r||0,n=n||2,r>0&&(a+=`
`);for(var o="",u=0;u<r*n;++u)o+=" ";switch(a+=o+"Tag: ",e.tagClass){case asn1$8.Class.UNIVERSAL:a+="Universal:";break;case asn1$8.Class.APPLICATION:a+="Application:";break;case asn1$8.Class.CONTEXT_SPECIFIC:a+="Context-Specific:";break;case asn1$8.Class.PRIVATE:a+="Private:";break}if(e.tagClass===asn1$8.Class.UNIVERSAL)switch(a+=e.type,e.type){case asn1$8.Type.NONE:a+=" (None)";break;case asn1$8.Type.BOOLEAN:a+=" (Boolean)";break;case asn1$8.Type.INTEGER:a+=" (Integer)";break;case asn1$8.Type.BITSTRING:a+=" (Bit string)";break;case asn1$8.Type.OCTETSTRING:a+=" (Octet string)";break;case asn1$8.Type.NULL:a+=" (Null)";break;case asn1$8.Type.OID:a+=" (Object Identifier)";break;case asn1$8.Type.ODESC:a+=" (Object Descriptor)";break;case asn1$8.Type.EXTERNAL:a+=" (External or Instance of)";break;case asn1$8.Type.REAL:a+=" (Real)";break;case asn1$8.Type.ENUMERATED:a+=" (Enumerated)";break;case asn1$8.Type.EMBEDDED:a+=" (Embedded PDV)";break;case asn1$8.Type.UTF8:a+=" (UTF8)";break;case asn1$8.Type.ROID:a+=" (Relative Object Identifier)";break;case asn1$8.Type.SEQUENCE:a+=" (Sequence)";break;case asn1$8.Type.SET:a+=" (Set)";break;case asn1$8.Type.PRINTABLESTRING:a+=" (Printable String)";break;case asn1$8.Type.IA5String:a+=" (IA5String (ASCII))";break;case asn1$8.Type.UTCTIME:a+=" (UTC time)";break;case asn1$8.Type.GENERALIZEDTIME:a+=" (Generalized time)";break;case asn1$8.Type.BMPSTRING:a+=" (BMP String)";break}else a+=e.type;if(a+=`
`,a+=o+"Constructed: "+e.constructed+`
`,e.composed){for(var l=0,c="",u=0;u<e.value.length;++u)e.value[u]!==void 0&&(l+=1,c+=asn1$8.prettyPrint(e.value[u],r+1,n),u+1<e.value.length&&(c+=","));a+=o+"Sub values: "+l+c}else{if(a+=o+"Value: ",e.type===asn1$8.Type.OID){var g=asn1$8.derToOid(e.value);a+=g,forge$w.pki&&forge$w.pki.oids&&g in forge$w.pki.oids&&(a+=" ("+forge$w.pki.oids[g]+") ")}if(e.type===asn1$8.Type.INTEGER)try{a+=asn1$8.derToInteger(e.value)}catch{a+="0x"+forge$w.util.bytesToHex(e.value)}else if(e.type===asn1$8.Type.BITSTRING){if(e.value.length>1?a+="0x"+forge$w.util.bytesToHex(e.value.slice(1)):a+="(none)",e.value.length>0){var d=e.value.charCodeAt(0);d==1?a+=" (1 unused bit shown)":d>1&&(a+=" ("+d+" unused bits shown)")}}else if(e.type===asn1$8.Type.OCTETSTRING)_nonLatinRegex.test(e.value)||(a+="("+e.value+") "),a+="0x"+forge$w.util.bytesToHex(e.value);else if(e.type===asn1$8.Type.UTF8)try{a+=forge$w.util.decodeUtf8(e.value)}catch(v){if(v.message==="URI malformed")a+="0x"+forge$w.util.bytesToHex(e.value)+" (malformed UTF8)";else throw v}else e.type===asn1$8.Type.PRINTABLESTRING||e.type===asn1$8.Type.IA5String?a+=e.value:_nonLatinRegex.test(e.value)?a+="0x"+forge$w.util.bytesToHex(e.value):e.value.length===0?a+="[null]":a+=e.value}return a};var forge$v=forge$C;forge$v.md=forge$v.md||{};forge$v.md.algorithms=forge$v.md.algorithms||{};var forge$u=forge$C,hmac=forge$u.hmac=forge$u.hmac||{};hmac.create=function(){var e=null,r=null,n=null,a=null,o={};return o.start=function(u,l){if(u!==null)if(typeof u=="string")if(u=u.toLowerCase(),u in forge$u.md.algorithms)r=forge$u.md.algorithms[u].create();else throw new Error('Unknown hash algorithm "'+u+'"');else r=u;if(l===null)l=e;else{if(typeof l=="string")l=forge$u.util.createBuffer(l);else if(forge$u.util.isArray(l)){var c=l;l=forge$u.util.createBuffer();for(var g=0;g<c.length;++g)l.putByte(c[g])}var d=l.length();d>r.blockLength&&(r.start(),r.update(l.bytes()),l=r.digest()),n=forge$u.util.createBuffer(),a=forge$u.util.createBuffer(),d=l.length();for(var g=0;g<d;++g){var c=l.at(g);n.putByte(54^c),a.putByte(92^c)}if(d<r.blockLength)for(var c=r.blockLength-d,g=0;g<c;++g)n.putByte(54),a.putByte(92);e=l,n=n.bytes(),a=a.bytes()}r.start(),r.update(n)},o.update=function(u){r.update(u)},o.getMac=function(){var u=r.digest().bytes();return r.start(),r.update(a),r.update(u),r.digest()},o.digest=o.getMac,o};var forge$t=forge$C,md5=forge$t.md5=forge$t.md5||{};forge$t.md.md5=forge$t.md.algorithms.md5=md5;md5.create=function(){_initialized$3||_init$3();var e=null,r=forge$t.util.createBuffer(),n=new Array(16),a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var o=a.messageLengthSize/4,u=0;u<o;++u)a.fullMessageLength.push(0);return r=forge$t.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},a},a.start(),a.update=function(o,u){u==="utf8"&&(o=forge$t.util.encodeUtf8(o));var l=o.length;a.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=l[1],l[1]=l[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,l[0]=l[1]/4294967296>>>0;return r.putBytes(o),_update$3(e,n,r),(r.read>2048||r.length()===0)&&r.compact(),a},a.digest=function(){var o=forge$t.util.createBuffer();o.putBytes(r.bytes());var u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,l=u&a.blockLength-1;o.putBytes(_padding$3.substr(0,a.blockLength-l));for(var c,g=0,d=a.fullMessageLength.length-1;d>=0;--d)c=a.fullMessageLength[d]*8+g,g=c/4294967296>>>0,o.putInt32Le(c>>>0);var v={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};_update$3(v,n,o);var x=forge$t.util.createBuffer();return x.putInt32Le(v.h0),x.putInt32Le(v.h1),x.putInt32Le(v.h2),x.putInt32Le(v.h3),x},a};var _padding$3=null,_g=null,_r=null,_k$2=null,_initialized$3=!1;function _init$3(){_padding$3=String.fromCharCode(128),_padding$3+=forge$t.util.fillString(String.fromCharCode(0),64),_g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],_r=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],_k$2=new Array(64);for(var e=0;e<64;++e)_k$2[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);_initialized$3=!0}function _update$3(e,r,n){for(var a,o,u,l,c,g,d,v,x=n.length();x>=64;){for(o=e.h0,u=e.h1,l=e.h2,c=e.h3,v=0;v<16;++v)r[v]=n.getInt32Le(),g=c^u&(l^c),a=o+g+_k$2[v]+r[v],d=_r[v],o=c,c=l,l=u,u+=a<<d|a>>>32-d;for(;v<32;++v)g=l^c&(u^l),a=o+g+_k$2[v]+r[_g[v]],d=_r[v],o=c,c=l,l=u,u+=a<<d|a>>>32-d;for(;v<48;++v)g=u^l^c,a=o+g+_k$2[v]+r[_g[v]],d=_r[v],o=c,c=l,l=u,u+=a<<d|a>>>32-d;for(;v<64;++v)g=l^(u|~c),a=o+g+_k$2[v]+r[_g[v]],d=_r[v],o=c,c=l,l=u,u+=a<<d|a>>>32-d;e.h0=e.h0+o|0,e.h1=e.h1+u|0,e.h2=e.h2+l|0,e.h3=e.h3+c|0,x-=64}}var forge$s=forge$C,pem=forge$s.pem=forge$s.pem||{};pem.encode=function(e,r){r=r||{};var n="-----BEGIN "+e.type+`-----\r
`,a;if(e.procType&&(a={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},n+=foldHeader(a)),e.contentDomain&&(a={name:"Content-Domain",values:[e.contentDomain]},n+=foldHeader(a)),e.dekInfo&&(a={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&a.values.push(e.dekInfo.parameters),n+=foldHeader(a)),e.headers)for(var o=0;o<e.headers.length;++o)n+=foldHeader(e.headers[o]);return e.procType&&(n+=`\r
`),n+=forge$s.util.encode64(e.body,r.maxline||64)+`\r
`,n+="-----END "+e.type+`-----\r
`,n};pem.decode=function(e){for(var r=[],n=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/,u;u=n.exec(e),!!u;){var l=u[1];l==="NEW CERTIFICATE REQUEST"&&(l="CERTIFICATE REQUEST");var c={type:l,procType:null,contentDomain:null,dekInfo:null,headers:[],body:forge$s.util.decode64(u[3])};if(r.push(c),!!u[2]){for(var g=u[2].split(o),d=0;u&&d<g.length;){for(var v=g[d].replace(/\s+$/,""),x=d+1;x<g.length;++x){var m=g[x];if(!/\s/.test(m[0]))break;v+=m,d=x}if(u=v.match(a),u){for(var E={name:u[1],values:[]},y=u[2].split(","),C=0;C<y.length;++C)E.values.push(ltrim(y[C]));if(c.procType)if(!c.contentDomain&&E.name==="Content-Domain")c.contentDomain=y[0]||"";else if(!c.dekInfo&&E.name==="DEK-Info"){if(E.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:y[0],parameters:y[1]||null}}else c.headers.push(E);else{if(E.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(E.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:y[0],type:y[1]}}}++d}if(c.procType==="ENCRYPTED"&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(r.length===0)throw new Error("Invalid PEM formatted message.");return r};function foldHeader(e){for(var r=e.name+": ",n=[],a=function(g,d){return" "+d},o=0;o<e.values.length;++o)n.push(e.values[o].replace(/^(\S+\r\n)/,a));r+=n.join(",")+`\r
`;for(var u=0,l=-1,o=0;o<r.length;++o,++u)if(u>65&&l!==-1){var c=r[l];c===","?(++l,r=r.substr(0,l)+`\r
 `+r.substr(l)):r=r.substr(0,l)+`\r
`+c+r.substr(l+1),u=o-l-1,l=-1,++o}else(r[o]===" "||r[o]==="	"||r[o]===",")&&(l=o);return r}function ltrim(e){return e.replace(/^\s+/,"")}var forge$r=forge$C;forge$r.des=forge$r.des||{};forge$r.des.startEncrypting=function(e,r,n,a){var o=_createCipher({key:e,output:n,decrypt:!1,mode:a||(r===null?"ECB":"CBC")});return o.start(r),o};forge$r.des.createEncryptionCipher=function(e,r){return _createCipher({key:e,output:null,decrypt:!1,mode:r})};forge$r.des.startDecrypting=function(e,r,n,a){var o=_createCipher({key:e,output:n,decrypt:!0,mode:a||(r===null?"ECB":"CBC")});return o.start(r),o};forge$r.des.createDecryptionCipher=function(e,r){return _createCipher({key:e,output:null,decrypt:!0,mode:r})};forge$r.des.Algorithm=function(e,r){var n=this;n.name=e,n.mode=new r({blockSize:8,cipher:{encrypt:function(a,o){return _updateBlock(n._keys,a,o,!1)},decrypt:function(a,o){return _updateBlock(n._keys,a,o,!0)}}}),n._init=!1};forge$r.des.Algorithm.prototype.initialize=function(e){if(!this._init){var r=forge$r.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&r.length()!==24)throw new Error("Invalid Triple-DES key size: "+r.length()*8);this._keys=_createKeys(r),this._init=!0}};registerAlgorithm("DES-ECB",forge$r.cipher.modes.ecb);registerAlgorithm("DES-CBC",forge$r.cipher.modes.cbc);registerAlgorithm("DES-CFB",forge$r.cipher.modes.cfb);registerAlgorithm("DES-OFB",forge$r.cipher.modes.ofb);registerAlgorithm("DES-CTR",forge$r.cipher.modes.ctr);registerAlgorithm("3DES-ECB",forge$r.cipher.modes.ecb);registerAlgorithm("3DES-CBC",forge$r.cipher.modes.cbc);registerAlgorithm("3DES-CFB",forge$r.cipher.modes.cfb);registerAlgorithm("3DES-OFB",forge$r.cipher.modes.ofb);registerAlgorithm("3DES-CTR",forge$r.cipher.modes.ctr);function registerAlgorithm(e,r){var n=function(){return new forge$r.des.Algorithm(e,r)};forge$r.cipher.registerAlgorithm(e,n)}var spfunction1=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],spfunction2=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],spfunction3=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],spfunction4=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],spfunction5=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],spfunction6=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],spfunction7=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],spfunction8=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function _createKeys(e){for(var r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],a=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],u=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],l=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],g=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],d=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],v=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],x=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],m=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],E=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],C=e.length()>8?3:1,b=[],$=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],B=0,w,F=0;F<C;F++){var U=e.getInt32(),_=e.getInt32();w=(U>>>4^_)&252645135,_^=w,U^=w<<4,w=(_>>>-16^U)&65535,U^=w,_^=w<<-16,w=(U>>>2^_)&858993459,_^=w,U^=w<<2,w=(_>>>-16^U)&65535,U^=w,_^=w<<-16,w=(U>>>1^_)&1431655765,_^=w,U^=w<<1,w=(_>>>8^U)&16711935,U^=w,_^=w<<8,w=(U>>>1^_)&1431655765,_^=w,U^=w<<1,w=U<<8|_>>>20&240,U=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=w;for(var T=0;T<$.length;++T){$[T]?(U=U<<2|U>>>26,_=_<<2|_>>>26):(U=U<<1|U>>>27,_=_<<1|_>>>27),U&=-15,_&=-15;var k=r[U>>>28]|n[U>>>24&15]|a[U>>>20&15]|o[U>>>16&15]|u[U>>>12&15]|l[U>>>8&15]|c[U>>>4&15],N=g[_>>>28]|d[_>>>24&15]|v[_>>>20&15]|x[_>>>16&15]|m[_>>>12&15]|E[_>>>8&15]|y[_>>>4&15];w=(N>>>16^k)&65535,b[B++]=k^w,b[B++]=N^w<<16}}return b}function _updateBlock(e,r,n,a){var o=e.length===32?3:9,u;o===3?u=a?[30,-2,-2]:[0,32,2]:u=a?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var l,c=r[0],g=r[1];l=(c>>>4^g)&252645135,g^=l,c^=l<<4,l=(c>>>16^g)&65535,g^=l,c^=l<<16,l=(g>>>2^c)&858993459,c^=l,g^=l<<2,l=(g>>>8^c)&16711935,c^=l,g^=l<<8,l=(c>>>1^g)&1431655765,g^=l,c^=l<<1,c=c<<1|c>>>31,g=g<<1|g>>>31;for(var d=0;d<o;d+=3){for(var v=u[d+1],x=u[d+2],m=u[d];m!=v;m+=x){var E=g^e[m],y=(g>>>4|g<<28)^e[m+1];l=c,c=g,g=l^(spfunction2[E>>>24&63]|spfunction4[E>>>16&63]|spfunction6[E>>>8&63]|spfunction8[E&63]|spfunction1[y>>>24&63]|spfunction3[y>>>16&63]|spfunction5[y>>>8&63]|spfunction7[y&63])}l=c,c=g,g=l}c=c>>>1|c<<31,g=g>>>1|g<<31,l=(c>>>1^g)&1431655765,g^=l,c^=l<<1,l=(g>>>8^c)&16711935,c^=l,g^=l<<8,l=(g>>>2^c)&858993459,c^=l,g^=l<<2,l=(c>>>16^g)&65535,g^=l,c^=l<<16,l=(c>>>4^g)&252645135,g^=l,c^=l<<4,n[0]=c,n[1]=g}function _createCipher(e){e=e||{};var r=(e.mode||"CBC").toUpperCase(),n="DES-"+r,a;e.decrypt?a=forge$r.cipher.createDecipher(n,e.key):a=forge$r.cipher.createCipher(n,e.key);var o=a.start;return a.start=function(u,l){var c=null;l instanceof forge$r.util.ByteBuffer&&(c=l,l={}),l=l||{},l.output=c,l.iv=u,o.call(a,l)},a}var __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1),forge$q=forge$C,pkcs5=forge$q.pkcs5=forge$q.pkcs5||{},crypto;forge$q.util.isNodejs&&!forge$q.options.usePureJavaScript&&(crypto=require$$1);forge$q.pbkdf2=pkcs5.pbkdf2=function(e,r,n,a,o,u){if(typeof o=="function"&&(u=o,o=null),forge$q.util.isNodejs&&!forge$q.options.usePureJavaScript&&crypto.pbkdf2&&(o===null||typeof o!="object")&&(crypto.pbkdf2Sync.length>4||!o||o==="sha1"))return typeof o!="string"&&(o="sha1"),e=Buffer.from(e,"binary"),r=Buffer.from(r,"binary"),u?crypto.pbkdf2Sync.length===4?crypto.pbkdf2(e,r,n,a,function(w,F){if(w)return u(w);u(null,F.toString("binary"))}):crypto.pbkdf2(e,r,n,a,o,function(w,F){if(w)return u(w);u(null,F.toString("binary"))}):crypto.pbkdf2Sync.length===4?crypto.pbkdf2Sync(e,r,n,a).toString("binary"):crypto.pbkdf2Sync(e,r,n,a,o).toString("binary");if((typeof o=="undefined"||o===null)&&(o="sha1"),typeof o=="string"){if(!(o in forge$q.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=forge$q.md[o].create()}var l=o.digestLength;if(a>4294967295*l){var c=new Error("Derived key is too long.");if(u)return u(c);throw c}var g=Math.ceil(a/l),d=a-(g-1)*l,v=forge$q.hmac.create();v.start(o,e);var x="",m,E,y;if(!u){for(var C=1;C<=g;++C){v.start(null,null),v.update(r),v.update(forge$q.util.int32ToBytes(C)),m=y=v.digest().getBytes();for(var b=2;b<=n;++b)v.start(null,null),v.update(y),E=v.digest().getBytes(),m=forge$q.util.xorBytes(m,E,l),y=E;x+=C<g?m:m.substr(0,d)}return x}var C=1,b;function $(){if(C>g)return u(null,x);v.start(null,null),v.update(r),v.update(forge$q.util.int32ToBytes(C)),m=y=v.digest().getBytes(),b=2,B()}function B(){if(b<=n)return v.start(null,null),v.update(y),E=v.digest().getBytes(),m=forge$q.util.xorBytes(m,E,l),y=E,++b,forge$q.util.setImmediate(B);x+=C<g?m:m.substr(0,d),++C,$()}$()};var forge$p=forge$C,sha256=forge$p.sha256=forge$p.sha256||{};forge$p.md.sha256=forge$p.md.algorithms.sha256=sha256;sha256.create=function(){_initialized$2||_init$2();var e=null,r=forge$p.util.createBuffer(),n=new Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var o=a.messageLengthSize/4,u=0;u<o;++u)a.fullMessageLength.push(0);return r=forge$p.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a},a.start(),a.update=function(o,u){u==="utf8"&&(o=forge$p.util.encodeUtf8(o));var l=o.length;a.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=l[1],l[1]=l[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,l[0]=l[1]/4294967296>>>0;return r.putBytes(o),_update$2(e,n,r),(r.read>2048||r.length()===0)&&r.compact(),a},a.digest=function(){var o=forge$p.util.createBuffer();o.putBytes(r.bytes());var u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,l=u&a.blockLength-1;o.putBytes(_padding$2.substr(0,a.blockLength-l));for(var c,g,d=a.fullMessageLength[0]*8,v=0;v<a.fullMessageLength.length-1;++v)c=a.fullMessageLength[v+1]*8,g=c/4294967296>>>0,d+=g,o.putInt32(d>>>0),d=c>>>0;o.putInt32(d);var x={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};_update$2(x,n,o);var m=forge$p.util.createBuffer();return m.putInt32(x.h0),m.putInt32(x.h1),m.putInt32(x.h2),m.putInt32(x.h3),m.putInt32(x.h4),m.putInt32(x.h5),m.putInt32(x.h6),m.putInt32(x.h7),m},a};var _padding$2=null,_initialized$2=!1,_k$1=null;function _init$2(){_padding$2=String.fromCharCode(128),_padding$2+=forge$p.util.fillString(String.fromCharCode(0),64),_k$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_initialized$2=!0}function _update$2(e,r,n){for(var a,o,u,l,c,g,d,v,x,m,E,y,C,b,$,B=n.length();B>=64;){for(d=0;d<16;++d)r[d]=n.getInt32();for(;d<64;++d)a=r[d-2],a=(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10,o=r[d-15],o=(o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,r[d]=a+r[d-7]+o+r[d-16]|0;for(v=e.h0,x=e.h1,m=e.h2,E=e.h3,y=e.h4,C=e.h5,b=e.h6,$=e.h7,d=0;d<64;++d)l=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),c=b^y&(C^b),u=(v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10),g=v&x|m&(v^x),a=$+l+c+_k$1[d]+r[d],o=u+g,$=b,b=C,C=y,y=E+a>>>0,E=m,m=x,x=v,v=a+o>>>0;e.h0=e.h0+v|0,e.h1=e.h1+x|0,e.h2=e.h2+m|0,e.h3=e.h3+E|0,e.h4=e.h4+y|0,e.h5=e.h5+C|0,e.h6=e.h6+b|0,e.h7=e.h7+$|0,B-=64}}var forge$o=forge$C,_crypto$1=null;forge$o.util.isNodejs&&!forge$o.options.usePureJavaScript&&!process.versions["node-webkit"]&&(_crypto$1=require$$1);var prng=forge$o.prng=forge$o.prng||{};prng.create=function(e){for(var r={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},n=e.md,a=new Array(32),o=0;o<32;++o)a[o]=n.create();r.pools=a,r.pool=0,r.generate=function(d,v){if(!v)return r.generateSync(d);var x=r.plugin.cipher,m=r.plugin.increment,E=r.plugin.formatKey,y=r.plugin.formatSeed,C=forge$o.util.createBuffer();r.key=null,b();function b($){if($)return v($);if(C.length()>=d)return v(null,C.getBytes(d));if(r.generated>1048575&&(r.key=null),r.key===null)return forge$o.util.nextTick(function(){u(b)});var B=x(r.key,r.seed);r.generated+=B.length,C.putBytes(B),r.key=E(x(r.key,m(r.seed))),r.seed=y(x(r.key,r.seed)),forge$o.util.setImmediate(b)}},r.generateSync=function(d){var v=r.plugin.cipher,x=r.plugin.increment,m=r.plugin.formatKey,E=r.plugin.formatSeed;r.key=null;for(var y=forge$o.util.createBuffer();y.length()<d;){r.generated>1048575&&(r.key=null),r.key===null&&l();var C=v(r.key,r.seed);r.generated+=C.length,y.putBytes(C),r.key=m(v(r.key,x(r.seed))),r.seed=E(v(r.key,r.seed))}return y.getBytes(d)};function u(d){if(r.pools[0].messageLength>=32)return c(),d();var v=32-r.pools[0].messageLength<<5;r.seedFile(v,function(x,m){if(x)return d(x);r.collect(m),c(),d()})}function l(){if(r.pools[0].messageLength>=32)return c();var d=32-r.pools[0].messageLength<<5;r.collect(r.seedFileSync(d)),c()}function c(){r.reseeds=r.reseeds===4294967295?0:r.reseeds+1;var d=r.plugin.md.create();d.update(r.keyBytes);for(var v=1,x=0;x<32;++x)r.reseeds%v===0&&(d.update(r.pools[x].digest().getBytes()),r.pools[x].start()),v=v<<1;r.keyBytes=d.digest().getBytes(),d.start(),d.update(r.keyBytes);var m=d.digest().getBytes();r.key=r.plugin.formatKey(r.keyBytes),r.seed=r.plugin.formatSeed(m),r.generated=0}function g(d){var v=null,x=forge$o.util.globalScope,m=x.crypto||x.msCrypto;m&&m.getRandomValues&&(v=function(U){return m.getRandomValues(U)});var E=forge$o.util.createBuffer();if(v)for(;E.length()<d;){var y=Math.max(1,Math.min(d-E.length(),65536)/4),C=new Uint32Array(Math.floor(y));try{v(C);for(var b=0;b<C.length;++b)E.putInt32(C[b])}catch(U){if(!(typeof QuotaExceededError!="undefined"&&U instanceof QuotaExceededError))throw U}}if(E.length()<d)for(var $,B,w,F=Math.floor(Math.random()*65536);E.length()<d;){B=16807*(F&65535),$=16807*(F>>16),B+=($&32767)<<16,B+=$>>15,B=(B&2147483647)+(B>>31),F=B&4294967295;for(var b=0;b<3;++b)w=F>>>(b<<3),w^=Math.floor(Math.random()*256),E.putByte(w&255)}return E.getBytes(d)}return _crypto$1?(r.seedFile=function(d,v){_crypto$1.randomBytes(d,function(x,m){if(x)return v(x);v(null,m.toString())})},r.seedFileSync=function(d){return _crypto$1.randomBytes(d).toString()}):(r.seedFile=function(d,v){try{v(null,g(d))}catch(x){v(x)}},r.seedFileSync=g),r.collect=function(d){for(var v=d.length,x=0;x<v;++x)r.pools[r.pool].update(d.substr(x,1)),r.pool=r.pool===31?0:r.pool+1},r.collectInt=function(d,v){for(var x="",m=0;m<v;m+=8)x+=String.fromCharCode(d>>m&255);r.collect(x)},r.registerWorker=function(d){if(d===self)r.seedFile=function(x,m){function E(y){var C=y.data;C.forge&&C.forge.prng&&(self.removeEventListener("message",E),m(C.forge.prng.err,C.forge.prng.bytes))}self.addEventListener("message",E),self.postMessage({forge:{prng:{needed:x}}})};else{var v=function(x){var m=x.data;m.forge&&m.forge.prng&&r.seedFile(m.forge.prng.needed,function(E,y){d.postMessage({forge:{prng:{err:E,bytes:y}}})})};d.addEventListener("message",v)}},r};var forge$n=forge$C;(function(){forge$n.random&&forge$n.random.getBytes||function(e){var r={},n=new Array(4),a=forge$n.util.createBuffer();r.formatKey=function(x){var m=forge$n.util.createBuffer(x);return x=new Array(4),x[0]=m.getInt32(),x[1]=m.getInt32(),x[2]=m.getInt32(),x[3]=m.getInt32(),forge$n.aes._expandKey(x,!1)},r.formatSeed=function(x){var m=forge$n.util.createBuffer(x);return x=new Array(4),x[0]=m.getInt32(),x[1]=m.getInt32(),x[2]=m.getInt32(),x[3]=m.getInt32(),x},r.cipher=function(x,m){return forge$n.aes._updateBlock(x,m,n,!1),a.putInt32(n[0]),a.putInt32(n[1]),a.putInt32(n[2]),a.putInt32(n[3]),a.getBytes()},r.increment=function(x){return++x[3],x},r.md=forge$n.md.sha256;function o(){var x=forge$n.prng.create(r);return x.getBytes=function(m,E){return x.generate(m,E)},x.getBytesSync=function(m){return x.generate(m)},x}var u=o(),l=null,c=forge$n.util.globalScope,g=c.crypto||c.msCrypto;if(g&&g.getRandomValues&&(l=function(x){return g.getRandomValues(x)}),!forge$n.util.isNodejs&&!l){if(u.collectInt(+new Date,32),typeof navigator!="undefined"){var d="";for(var v in navigator)try{typeof navigator[v]=="string"&&(d+=navigator[v])}catch{}u.collect(d),d=null}e&&(e().mousemove(function(x){u.collectInt(x.clientX,16),u.collectInt(x.clientY,16)}),e().keypress(function(x){u.collectInt(x.charCode,8)}))}if(!forge$n.random)forge$n.random=u;else for(var v in u)forge$n.random[v]=u[v];forge$n.random.createInstance=o}(typeof jQuery!="undefined"?jQuery:null)})();var forge$m=forge$C,piTable=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],rol=function(e,r){return e<<r&65535|(e&65535)>>16-r},ror=function(e,r){return(e&65535)>>r|e<<16-r&65535};forge$m.rc2=forge$m.rc2||{};forge$m.rc2.expandKey=function(e,r){typeof e=="string"&&(e=forge$m.util.createBuffer(e)),r=r||128;var n=e,a=e.length(),o=r,u=Math.ceil(o/8),l=255>>(o&7),c;for(c=a;c<128;c++)n.putByte(piTable[n.at(c-1)+n.at(c-a)&255]);for(n.setAt(128-u,piTable[n.at(128-u)&l]),c=127-u;c>=0;c--)n.setAt(c,piTable[n.at(c+1)^n.at(c+u)]);return n};var createCipher=function(e,r,n){var a=!1,o=null,u=null,l=null,c,g,d,v,x=[];for(e=forge$m.rc2.expandKey(e,r),d=0;d<64;d++)x.push(e.getInt16Le());n?(c=function(y){for(d=0;d<4;d++)y[d]+=x[v]+(y[(d+3)%4]&y[(d+2)%4])+(~y[(d+3)%4]&y[(d+1)%4]),y[d]=rol(y[d],s[d]),v++},g=function(y){for(d=0;d<4;d++)y[d]+=x[y[(d+3)%4]&63]}):(c=function(y){for(d=3;d>=0;d--)y[d]=ror(y[d],s[d]),y[d]-=x[v]+(y[(d+3)%4]&y[(d+2)%4])+(~y[(d+3)%4]&y[(d+1)%4]),v--},g=function(y){for(d=3;d>=0;d--)y[d]-=x[y[(d+3)%4]&63]});var m=function(y){var C=[];for(d=0;d<4;d++){var b=o.getInt16Le();l!==null&&(n?b^=l.getInt16Le():l.putInt16Le(b)),C.push(b&65535)}v=n?0:63;for(var $=0;$<y.length;$++)for(var B=0;B<y[$][0];B++)y[$][1](C);for(d=0;d<4;d++)l!==null&&(n?l.putInt16Le(C[d]):C[d]^=l.getInt16Le()),u.putInt16Le(C[d])},E=null;return E={start:function(y,C){y&&typeof y=="string"&&(y=forge$m.util.createBuffer(y)),a=!1,o=forge$m.util.createBuffer(),u=C||new forge$m.util.createBuffer,l=y,E.output=u},update:function(y){for(a||o.putBuffer(y);o.length()>=8;)m([[5,c],[1,g],[6,c],[1,g],[5,c]])},finish:function(y){var C=!0;if(n)if(y)C=y(8,o,!n);else{var b=o.length()===8?8:8-o.length();o.fillWithByte(b,b)}if(C&&(a=!0,E.update()),!n&&(C=o.length()===0,C))if(y)C=y(8,u,!n);else{var $=u.length(),B=u.at($-1);B>$?C=!1:u.truncate(B)}return C}},E};forge$m.rc2.startEncrypting=function(e,r,n){var a=forge$m.rc2.createEncryptionCipher(e,128);return a.start(r,n),a};forge$m.rc2.createEncryptionCipher=function(e,r){return createCipher(e,r,!0)};forge$m.rc2.startDecrypting=function(e,r,n){var a=forge$m.rc2.createDecryptionCipher(e,128);return a.start(r,n),a};forge$m.rc2.createDecryptionCipher=function(e,r){return createCipher(e,r,!1)};var forge$l=forge$C;forge$l.jsbn=forge$l.jsbn||{};var dbits;function BigInteger$4(e,r,n){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,r,n):r==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,r))}forge$l.jsbn.BigInteger=BigInteger$4;function nbi(){return new BigInteger$4(null)}function am1(e,r,n,a,o,u){for(;--u>=0;){var l=r*this.data[e++]+n.data[a]+o;o=Math.floor(l/67108864),n.data[a++]=l&67108863}return o}function am2(e,r,n,a,o,u){for(var l=r&32767,c=r>>15;--u>=0;){var g=this.data[e]&32767,d=this.data[e++]>>15,v=c*g+d*l;g=l*g+((v&32767)<<15)+n.data[a]+(o&1073741823),o=(g>>>30)+(v>>>15)+c*d+(o>>>30),n.data[a++]=g&1073741823}return o}function am3(e,r,n,a,o,u){for(var l=r&16383,c=r>>14;--u>=0;){var g=this.data[e]&16383,d=this.data[e++]>>14,v=c*g+d*l;g=l*g+((v&16383)<<14)+n.data[a]+o,o=(g>>28)+(v>>14)+c*d,n.data[a++]=g&268435455}return o}typeof navigator=="undefined"?(BigInteger$4.prototype.am=am3,dbits=28):navigator.appName=="Microsoft Internet Explorer"?(BigInteger$4.prototype.am=am2,dbits=30):navigator.appName!="Netscape"?(BigInteger$4.prototype.am=am1,dbits=26):(BigInteger$4.prototype.am=am3,dbits=28);BigInteger$4.prototype.DB=dbits;BigInteger$4.prototype.DM=(1<<dbits)-1;BigInteger$4.prototype.DV=1<<dbits;var BI_FP=52;BigInteger$4.prototype.FV=Math.pow(2,BI_FP);BigInteger$4.prototype.F1=BI_FP-dbits;BigInteger$4.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array,rr,vv;rr="0".charCodeAt(0);for(vv=0;vv<=9;++vv)BI_RC[rr++]=vv;rr="a".charCodeAt(0);for(vv=10;vv<36;++vv)BI_RC[rr++]=vv;rr="A".charCodeAt(0);for(vv=10;vv<36;++vv)BI_RC[rr++]=vv;function int2char(e){return BI_RM.charAt(e)}function intAt(e,r){var n=BI_RC[e.charCodeAt(r)];return n==null?-1:n}function bnpCopyTo(e){for(var r=this.t-1;r>=0;--r)e.data[r]=this.data[r];e.t=this.t,e.s=this.s}function bnpFromInt(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function nbv(e){var r=nbi();return r.fromInt(e),r}function bnpFromString(e,r){var n;if(r==16)n=4;else if(r==8)n=3;else if(r==256)n=8;else if(r==2)n=1;else if(r==32)n=5;else if(r==4)n=2;else{this.fromRadix(e,r);return}this.t=0,this.s=0;for(var a=e.length,o=!1,u=0;--a>=0;){var l=n==8?e[a]&255:intAt(e,a);if(l<0){e.charAt(a)=="-"&&(o=!0);continue}o=!1,u==0?this.data[this.t++]=l:u+n>this.DB?(this.data[this.t-1]|=(l&(1<<this.DB-u)-1)<<u,this.data[this.t++]=l>>this.DB-u):this.data[this.t-1]|=l<<u,u+=n,u>=this.DB&&(u-=this.DB)}n==8&&(e[0]&128)!=0&&(this.s=-1,u>0&&(this.data[this.t-1]|=(1<<this.DB-u)-1<<u)),this.clamp(),o&&BigInteger$4.ZERO.subTo(this,this)}function bnpClamp(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function bnToString(e){if(this.s<0)return"-"+this.negate().toString(e);var r;if(e==16)r=4;else if(e==8)r=3;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else return this.toRadix(e);var n=(1<<r)-1,a,o=!1,u="",l=this.t,c=this.DB-l*this.DB%r;if(l-- >0)for(c<this.DB&&(a=this.data[l]>>c)>0&&(o=!0,u=int2char(a));l>=0;)c<r?(a=(this.data[l]&(1<<c)-1)<<r-c,a|=this.data[--l]>>(c+=this.DB-r)):(a=this.data[l]>>(c-=r)&n,c<=0&&(c+=this.DB,--l)),a>0&&(o=!0),o&&(u+=int2char(a));return o?u:"0"}function bnNegate(){var e=nbi();return BigInteger$4.ZERO.subTo(this,e),e}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(e){var r=this.s-e.s;if(r!=0)return r;var n=this.t;if(r=n-e.t,r!=0)return this.s<0?-r:r;for(;--n>=0;)if((r=this.data[n]-e.data[n])!=0)return r;return 0}function nbits(e){var r=1,n;return(n=e>>>16)!=0&&(e=n,r+=16),(n=e>>8)!=0&&(e=n,r+=8),(n=e>>4)!=0&&(e=n,r+=4),(n=e>>2)!=0&&(e=n,r+=2),(n=e>>1)!=0&&(e=n,r+=1),r}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this.data[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(e,r){var n;for(n=this.t-1;n>=0;--n)r.data[n+e]=this.data[n];for(n=e-1;n>=0;--n)r.data[n]=0;r.t=this.t+e,r.s=this.s}function bnpDRShiftTo(e,r){for(var n=e;n<this.t;++n)r.data[n-e]=this.data[n];r.t=Math.max(this.t-e,0),r.s=this.s}function bnpLShiftTo(e,r){var n=e%this.DB,a=this.DB-n,o=(1<<a)-1,u=Math.floor(e/this.DB),l=this.s<<n&this.DM,c;for(c=this.t-1;c>=0;--c)r.data[c+u+1]=this.data[c]>>a|l,l=(this.data[c]&o)<<n;for(c=u-1;c>=0;--c)r.data[c]=0;r.data[u]=l,r.t=this.t+u+1,r.s=this.s,r.clamp()}function bnpRShiftTo(e,r){r.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){r.t=0;return}var a=e%this.DB,o=this.DB-a,u=(1<<a)-1;r.data[0]=this.data[n]>>a;for(var l=n+1;l<this.t;++l)r.data[l-n-1]|=(this.data[l]&u)<<o,r.data[l-n]=this.data[l]>>a;a>0&&(r.data[this.t-n-1]|=(this.s&u)<<o),r.t=this.t-n,r.clamp()}function bnpSubTo(e,r){for(var n=0,a=0,o=Math.min(e.t,this.t);n<o;)a+=this.data[n]-e.data[n],r.data[n++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a-=e.s;n<this.t;)a+=this.data[n],r.data[n++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;n<e.t;)a-=e.data[n],r.data[n++]=a&this.DM,a>>=this.DB;a-=e.s}r.s=a<0?-1:0,a<-1?r.data[n++]=this.DV+a:a>0&&(r.data[n++]=a),r.t=n,r.clamp()}function bnpMultiplyTo(e,r){var n=this.abs(),a=e.abs(),o=n.t;for(r.t=o+a.t;--o>=0;)r.data[o]=0;for(o=0;o<a.t;++o)r.data[o+n.t]=n.am(0,a.data[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=e.s&&BigInteger$4.ZERO.subTo(r,r)}function bnpSquareTo(e){for(var r=this.abs(),n=e.t=2*r.t;--n>=0;)e.data[n]=0;for(n=0;n<r.t-1;++n){var a=r.am(n,r.data[n],e,2*n,0,1);(e.data[n+r.t]+=r.am(n+1,2*r.data[n],e,2*n+1,a,r.t-n-1))>=r.DV&&(e.data[n+r.t]-=r.DV,e.data[n+r.t+1]=1)}e.t>0&&(e.data[e.t-1]+=r.am(n,r.data[n],e,2*n,0,1)),e.s=0,e.clamp()}function bnpDivRemTo(e,r,n){var a=e.abs();if(!(a.t<=0)){var o=this.abs();if(o.t<a.t){r!=null&&r.fromInt(0),n!=null&&this.copyTo(n);return}n==null&&(n=nbi());var u=nbi(),l=this.s,c=e.s,g=this.DB-nbits(a.data[a.t-1]);g>0?(a.lShiftTo(g,u),o.lShiftTo(g,n)):(a.copyTo(u),o.copyTo(n));var d=u.t,v=u.data[d-1];if(v!=0){var x=v*(1<<this.F1)+(d>1?u.data[d-2]>>this.F2:0),m=this.FV/x,E=(1<<this.F1)/x,y=1<<this.F2,C=n.t,b=C-d,$=r==null?nbi():r;for(u.dlShiftTo(b,$),n.compareTo($)>=0&&(n.data[n.t++]=1,n.subTo($,n)),BigInteger$4.ONE.dlShiftTo(d,$),$.subTo(u,u);u.t<d;)u.data[u.t++]=0;for(;--b>=0;){var B=n.data[--C]==v?this.DM:Math.floor(n.data[C]*m+(n.data[C-1]+y)*E);if((n.data[C]+=u.am(0,B,n,b,0,d))<B)for(u.dlShiftTo(b,$),n.subTo($,n);n.data[C]<--B;)n.subTo($,n)}r!=null&&(n.drShiftTo(d,r),l!=c&&BigInteger$4.ZERO.subTo(r,r)),n.t=d,n.clamp(),g>0&&n.rShiftTo(g,n),l<0&&BigInteger$4.ZERO.subTo(n,n)}}}function bnMod(e){var r=nbi();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(BigInteger$4.ZERO)>0&&e.subTo(r,r),r}function Classic(e){this.m=e}function cConvert(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function cRevert(e){return e}function cReduce(e){e.divRemTo(this.m,null,e)}function cMulTo(e,r,n){e.multiplyTo(r,n),this.reduce(n)}function cSqrTo(e,r){e.squareTo(r),this.reduce(r)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var r=e&3;return r=r*(2-(e&15)*r)&15,r=r*(2-(e&255)*r)&255,r=r*(2-((e&65535)*r&65535))&65535,r=r*(2-e*r%this.DV)%this.DV,r>0?this.DV-r:-r}function Montgomery(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function montConvert(e){var r=nbi();return e.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),e.s<0&&r.compareTo(BigInteger$4.ZERO)>0&&this.m.subTo(r,r),r}function montRevert(e){var r=nbi();return e.copyTo(r),this.reduce(r),r}function montReduce(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var r=0;r<this.m.t;++r){var n=e.data[r]&32767,a=n*this.mpl+((n*this.mph+(e.data[r]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=r+this.m.t,e.data[n]+=this.m.am(0,a,e,r,0,this.m.t);e.data[n]>=e.DV;)e.data[n]-=e.DV,e.data[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function montSqrTo(e,r){e.squareTo(r),this.reduce(r)}function montMulTo(e,r,n){e.multiplyTo(r,n),this.reduce(n)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return(this.t>0?this.data[0]&1:this.s)==0}function bnpExp(e,r){if(e>4294967295||e<1)return BigInteger$4.ONE;var n=nbi(),a=nbi(),o=r.convert(this),u=nbits(e)-1;for(o.copyTo(n);--u>=0;)if(r.sqrTo(n,a),(e&1<<u)>0)r.mulTo(a,o,n);else{var l=n;n=a,a=l}return r.revert(n)}function bnModPowInt(e,r){var n;return e<256||r.isEven()?n=new Classic(r):n=new Montgomery(r),this.exp(e,n)}BigInteger$4.prototype.copyTo=bnpCopyTo;BigInteger$4.prototype.fromInt=bnpFromInt;BigInteger$4.prototype.fromString=bnpFromString;BigInteger$4.prototype.clamp=bnpClamp;BigInteger$4.prototype.dlShiftTo=bnpDLShiftTo;BigInteger$4.prototype.drShiftTo=bnpDRShiftTo;BigInteger$4.prototype.lShiftTo=bnpLShiftTo;BigInteger$4.prototype.rShiftTo=bnpRShiftTo;BigInteger$4.prototype.subTo=bnpSubTo;BigInteger$4.prototype.multiplyTo=bnpMultiplyTo;BigInteger$4.prototype.squareTo=bnpSquareTo;BigInteger$4.prototype.divRemTo=bnpDivRemTo;BigInteger$4.prototype.invDigit=bnpInvDigit;BigInteger$4.prototype.isEven=bnpIsEven;BigInteger$4.prototype.exp=bnpExp;BigInteger$4.prototype.toString=bnToString;BigInteger$4.prototype.negate=bnNegate;BigInteger$4.prototype.abs=bnAbs;BigInteger$4.prototype.compareTo=bnCompareTo;BigInteger$4.prototype.bitLength=bnBitLength;BigInteger$4.prototype.mod=bnMod;BigInteger$4.prototype.modPowInt=bnModPowInt;BigInteger$4.ZERO=nbv(0);BigInteger$4.ONE=nbv(1);function bnClone(){var e=nbi();return this.copyTo(e),e}function bnIntValue(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function bnByteValue(){return this.t==0?this.s:this.data[0]<<24>>24}function bnShortValue(){return this.t==0?this.s:this.data[0]<<16>>16}function bnpChunkSize(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function bnSigNum(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function bnpToRadix(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var r=this.chunkSize(e),n=Math.pow(e,r),a=nbv(n),o=nbi(),u=nbi(),l="";for(this.divRemTo(a,o,u);o.signum()>0;)l=(n+u.intValue()).toString(e).substr(1)+l,o.divRemTo(a,o,u);return u.intValue().toString(e)+l}function bnpFromRadix(e,r){this.fromInt(0),r==null&&(r=10);for(var n=this.chunkSize(r),a=Math.pow(r,n),o=!1,u=0,l=0,c=0;c<e.length;++c){var g=intAt(e,c);if(g<0){e.charAt(c)=="-"&&this.signum()==0&&(o=!0);continue}l=r*l+g,++u>=n&&(this.dMultiply(a),this.dAddOffset(l,0),u=0,l=0)}u>0&&(this.dMultiply(Math.pow(r,u)),this.dAddOffset(l,0)),o&&BigInteger$4.ZERO.subTo(this,this)}function bnpFromNumber(e,r,n){if(typeof r=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(BigInteger$4.ONE.shiftLeft(e-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(BigInteger$4.ONE.shiftLeft(e-1),this);else{var a=new Array,o=e&7;a.length=(e>>3)+1,r.nextBytes(a),o>0?a[0]&=(1<<o)-1:a[0]=0,this.fromString(a,256)}}function bnToByteArray(){var e=this.t,r=new Array;r[0]=this.s;var n=this.DB-e*this.DB%8,a,o=0;if(e-- >0)for(n<this.DB&&(a=this.data[e]>>n)!=(this.s&this.DM)>>n&&(r[o++]=a|this.s<<this.DB-n);e>=0;)n<8?(a=(this.data[e]&(1<<n)-1)<<8-n,a|=this.data[--e]>>(n+=this.DB-8)):(a=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),(a&128)!=0&&(a|=-256),o==0&&(this.s&128)!=(a&128)&&++o,(o>0||a!=this.s)&&(r[o++]=a);return r}function bnEquals(e){return this.compareTo(e)==0}function bnMin(e){return this.compareTo(e)<0?this:e}function bnMax(e){return this.compareTo(e)>0?this:e}function bnpBitwiseTo(e,r,n){var a,o,u=Math.min(e.t,this.t);for(a=0;a<u;++a)n.data[a]=r(this.data[a],e.data[a]);if(e.t<this.t){for(o=e.s&this.DM,a=u;a<this.t;++a)n.data[a]=r(this.data[a],o);n.t=this.t}else{for(o=this.s&this.DM,a=u;a<e.t;++a)n.data[a]=r(o,e.data[a]);n.t=e.t}n.s=r(this.s,e.s),n.clamp()}function op_and(e,r){return e&r}function bnAnd(e){var r=nbi();return this.bitwiseTo(e,op_and,r),r}function op_or(e,r){return e|r}function bnOr(e){var r=nbi();return this.bitwiseTo(e,op_or,r),r}function op_xor(e,r){return e^r}function bnXor(e){var r=nbi();return this.bitwiseTo(e,op_xor,r),r}function op_andnot(e,r){return e&~r}function bnAndNot(e){var r=nbi();return this.bitwiseTo(e,op_andnot,r),r}function bnNot(){for(var e=nbi(),r=0;r<this.t;++r)e.data[r]=this.DM&~this.data[r];return e.t=this.t,e.s=~this.s,e}function bnShiftLeft(e){var r=nbi();return e<0?this.rShiftTo(-e,r):this.lShiftTo(e,r),r}function bnShiftRight(e){var r=nbi();return e<0?this.lShiftTo(-e,r):this.rShiftTo(e,r),r}function lbit(e){if(e==0)return-1;var r=0;return(e&65535)==0&&(e>>=16,r+=16),(e&255)==0&&(e>>=8,r+=8),(e&15)==0&&(e>>=4,r+=4),(e&3)==0&&(e>>=2,r+=2),(e&1)==0&&++r,r}function bnGetLowestSetBit(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+lbit(this.data[e]);return this.s<0?this.t*this.DB:-1}function cbit(e){for(var r=0;e!=0;)e&=e-1,++r;return r}function bnBitCount(){for(var e=0,r=this.s&this.DM,n=0;n<this.t;++n)e+=cbit(this.data[n]^r);return e}function bnTestBit(e){var r=Math.floor(e/this.DB);return r>=this.t?this.s!=0:(this.data[r]&1<<e%this.DB)!=0}function bnpChangeBit(e,r){var n=BigInteger$4.ONE.shiftLeft(e);return this.bitwiseTo(n,r,n),n}function bnSetBit(e){return this.changeBit(e,op_or)}function bnClearBit(e){return this.changeBit(e,op_andnot)}function bnFlipBit(e){return this.changeBit(e,op_xor)}function bnpAddTo(e,r){for(var n=0,a=0,o=Math.min(e.t,this.t);n<o;)a+=this.data[n]+e.data[n],r.data[n++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a+=e.s;n<this.t;)a+=this.data[n],r.data[n++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;n<e.t;)a+=e.data[n],r.data[n++]=a&this.DM,a>>=this.DB;a+=e.s}r.s=a<0?-1:0,a>0?r.data[n++]=a:a<-1&&(r.data[n++]=this.DV+a),r.t=n,r.clamp()}function bnAdd(e){var r=nbi();return this.addTo(e,r),r}function bnSubtract(e){var r=nbi();return this.subTo(e,r),r}function bnMultiply(e){var r=nbi();return this.multiplyTo(e,r),r}function bnDivide(e){var r=nbi();return this.divRemTo(e,r,null),r}function bnRemainder(e){var r=nbi();return this.divRemTo(e,null,r),r}function bnDivideAndRemainder(e){var r=nbi(),n=nbi();return this.divRemTo(e,r,n),new Array(r,n)}function bnpDMultiply(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(e,r){if(e!=0){for(;this.t<=r;)this.data[this.t++]=0;for(this.data[r]+=e;this.data[r]>=this.DV;)this.data[r]-=this.DV,++r>=this.t&&(this.data[this.t++]=0),++this.data[r]}}function NullExp(){}function nNop(e){return e}function nMulTo(e,r,n){e.multiplyTo(r,n)}function nSqrTo(e,r){e.squareTo(r)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(e){return this.exp(e,new NullExp)}function bnpMultiplyLowerTo(e,r,n){var a=Math.min(this.t+e.t,r);for(n.s=0,n.t=a;a>0;)n.data[--a]=0;var o;for(o=n.t-this.t;a<o;++a)n.data[a+this.t]=this.am(0,e.data[a],n,a,0,this.t);for(o=Math.min(e.t,r);a<o;++a)this.am(0,e.data[a],n,a,0,r-a);n.clamp()}function bnpMultiplyUpperTo(e,r,n){--r;var a=n.t=this.t+e.t-r;for(n.s=0;--a>=0;)n.data[a]=0;for(a=Math.max(r-this.t,0);a<e.t;++a)n.data[this.t+a-r]=this.am(r-a,e.data[a],n,0,0,this.t+a-r);n.clamp(),n.drShiftTo(1,n)}function Barrett(e){this.r2=nbi(),this.q3=nbi(),BigInteger$4.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function barrettConvert(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var r=nbi();return e.copyTo(r),this.reduce(r),r}function barrettRevert(e){return e}function barrettReduce(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function barrettSqrTo(e,r){e.squareTo(r),this.reduce(r)}function barrettMulTo(e,r,n){e.multiplyTo(r,n),this.reduce(n)}Barrett.prototype.convert=barrettConvert;Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;function bnModPow(e,r){var n=e.bitLength(),a,o=nbv(1),u;if(n<=0)return o;n<18?a=1:n<48?a=3:n<144?a=4:n<768?a=5:a=6,n<8?u=new Classic(r):r.isEven()?u=new Barrett(r):u=new Montgomery(r);var l=new Array,c=3,g=a-1,d=(1<<a)-1;if(l[1]=u.convert(this),a>1){var v=nbi();for(u.sqrTo(l[1],v);c<=d;)l[c]=nbi(),u.mulTo(v,l[c-2],l[c]),c+=2}var x=e.t-1,m,E=!0,y=nbi(),C;for(n=nbits(e.data[x])-1;x>=0;){for(n>=g?m=e.data[x]>>n-g&d:(m=(e.data[x]&(1<<n+1)-1)<<g-n,x>0&&(m|=e.data[x-1]>>this.DB+n-g)),c=a;(m&1)==0;)m>>=1,--c;if((n-=c)<0&&(n+=this.DB,--x),E)l[m].copyTo(o),E=!1;else{for(;c>1;)u.sqrTo(o,y),u.sqrTo(y,o),c-=2;c>0?u.sqrTo(o,y):(C=o,o=y,y=C),u.mulTo(y,l[m],o)}for(;x>=0&&(e.data[x]&1<<n)==0;)u.sqrTo(o,y),C=o,o=y,y=C,--n<0&&(n=this.DB-1,--x)}return u.revert(o)}function bnGCD(e){var r=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(r.compareTo(n)<0){var a=r;r=n,n=a}var o=r.getLowestSetBit(),u=n.getLowestSetBit();if(u<0)return r;for(o<u&&(u=o),u>0&&(r.rShiftTo(u,r),n.rShiftTo(u,n));r.signum()>0;)(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n));return u>0&&n.lShiftTo(u,n),n}function bnpModInt(e){if(e<=0)return 0;var r=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(r==0)n=this.data[0]%e;else for(var a=this.t-1;a>=0;--a)n=(r*n+this.data[a])%e;return n}function bnModInverse(e){var r=e.isEven();if(this.isEven()&&r||e.signum()==0)return BigInteger$4.ZERO;for(var n=e.clone(),a=this.clone(),o=nbv(1),u=nbv(0),l=nbv(0),c=nbv(1);n.signum()!=0;){for(;n.isEven();)n.rShiftTo(1,n),r?((!o.isEven()||!u.isEven())&&(o.addTo(this,o),u.subTo(e,u)),o.rShiftTo(1,o)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);for(;a.isEven();)a.rShiftTo(1,a),r?((!l.isEven()||!c.isEven())&&(l.addTo(this,l),c.subTo(e,c)),l.rShiftTo(1,l)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(a)>=0?(n.subTo(a,n),r&&o.subTo(l,o),u.subTo(c,u)):(a.subTo(n,a),r&&l.subTo(o,l),c.subTo(u,c))}if(a.compareTo(BigInteger$4.ONE)!=0)return BigInteger$4.ZERO;if(c.compareTo(e)>=0)return c.subtract(e);if(c.signum()<0)c.addTo(e,c);else return c;return c.signum()<0?c.add(e):c}var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],lplim=(1<<26)/lowprimes[lowprimes.length-1];function bnIsProbablePrime(e){var r,n=this.abs();if(n.t==1&&n.data[0]<=lowprimes[lowprimes.length-1]){for(r=0;r<lowprimes.length;++r)if(n.data[0]==lowprimes[r])return!0;return!1}if(n.isEven())return!1;for(r=1;r<lowprimes.length;){for(var a=lowprimes[r],o=r+1;o<lowprimes.length&&a<lplim;)a*=lowprimes[o++];for(a=n.modInt(a);r<o;)if(a%lowprimes[r++]==0)return!1}return n.millerRabin(e)}function bnpMillerRabin(e){var r=this.subtract(BigInteger$4.ONE),n=r.getLowestSetBit();if(n<=0)return!1;for(var a=r.shiftRight(n),o=bnGetPrng(),u,l=0;l<e;++l){do u=new BigInteger$4(this.bitLength(),o);while(u.compareTo(BigInteger$4.ONE)<=0||u.compareTo(r)>=0);var c=u.modPow(a,this);if(c.compareTo(BigInteger$4.ONE)!=0&&c.compareTo(r)!=0){for(var g=1;g++<n&&c.compareTo(r)!=0;)if(c=c.modPowInt(2,this),c.compareTo(BigInteger$4.ONE)==0)return!1;if(c.compareTo(r)!=0)return!1}}return!0}function bnGetPrng(){return{nextBytes:function(e){for(var r=0;r<e.length;++r)e[r]=Math.floor(Math.random()*256)}}}BigInteger$4.prototype.chunkSize=bnpChunkSize;BigInteger$4.prototype.toRadix=bnpToRadix;BigInteger$4.prototype.fromRadix=bnpFromRadix;BigInteger$4.prototype.fromNumber=bnpFromNumber;BigInteger$4.prototype.bitwiseTo=bnpBitwiseTo;BigInteger$4.prototype.changeBit=bnpChangeBit;BigInteger$4.prototype.addTo=bnpAddTo;BigInteger$4.prototype.dMultiply=bnpDMultiply;BigInteger$4.prototype.dAddOffset=bnpDAddOffset;BigInteger$4.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger$4.prototype.multiplyUpperTo=bnpMultiplyUpperTo;BigInteger$4.prototype.modInt=bnpModInt;BigInteger$4.prototype.millerRabin=bnpMillerRabin;BigInteger$4.prototype.clone=bnClone;BigInteger$4.prototype.intValue=bnIntValue;BigInteger$4.prototype.byteValue=bnByteValue;BigInteger$4.prototype.shortValue=bnShortValue;BigInteger$4.prototype.signum=bnSigNum;BigInteger$4.prototype.toByteArray=bnToByteArray;BigInteger$4.prototype.equals=bnEquals;BigInteger$4.prototype.min=bnMin;BigInteger$4.prototype.max=bnMax;BigInteger$4.prototype.and=bnAnd;BigInteger$4.prototype.or=bnOr;BigInteger$4.prototype.xor=bnXor;BigInteger$4.prototype.andNot=bnAndNot;BigInteger$4.prototype.not=bnNot;BigInteger$4.prototype.shiftLeft=bnShiftLeft;BigInteger$4.prototype.shiftRight=bnShiftRight;BigInteger$4.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger$4.prototype.bitCount=bnBitCount;BigInteger$4.prototype.testBit=bnTestBit;BigInteger$4.prototype.setBit=bnSetBit;BigInteger$4.prototype.clearBit=bnClearBit;BigInteger$4.prototype.flipBit=bnFlipBit;BigInteger$4.prototype.add=bnAdd;BigInteger$4.prototype.subtract=bnSubtract;BigInteger$4.prototype.multiply=bnMultiply;BigInteger$4.prototype.divide=bnDivide;BigInteger$4.prototype.remainder=bnRemainder;BigInteger$4.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger$4.prototype.modPow=bnModPow;BigInteger$4.prototype.modInverse=bnModInverse;BigInteger$4.prototype.pow=bnPow;BigInteger$4.prototype.gcd=bnGCD;BigInteger$4.prototype.isProbablePrime=bnIsProbablePrime;var forge$k=forge$C,sha1=forge$k.sha1=forge$k.sha1||{};forge$k.md.sha1=forge$k.md.algorithms.sha1=sha1;sha1.create=function(){_initialized$1||_init$1();var e=null,r=forge$k.util.createBuffer(),n=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var o=a.messageLengthSize/4,u=0;u<o;++u)a.fullMessageLength.push(0);return r=forge$k.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a},a.start(),a.update=function(o,u){u==="utf8"&&(o=forge$k.util.encodeUtf8(o));var l=o.length;a.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=l[1],l[1]=l[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,l[0]=l[1]/4294967296>>>0;return r.putBytes(o),_update$1(e,n,r),(r.read>2048||r.length()===0)&&r.compact(),a},a.digest=function(){var o=forge$k.util.createBuffer();o.putBytes(r.bytes());var u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,l=u&a.blockLength-1;o.putBytes(_padding$1.substr(0,a.blockLength-l));for(var c,g,d=a.fullMessageLength[0]*8,v=0;v<a.fullMessageLength.length-1;++v)c=a.fullMessageLength[v+1]*8,g=c/4294967296>>>0,d+=g,o.putInt32(d>>>0),d=c>>>0;o.putInt32(d);var x={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};_update$1(x,n,o);var m=forge$k.util.createBuffer();return m.putInt32(x.h0),m.putInt32(x.h1),m.putInt32(x.h2),m.putInt32(x.h3),m.putInt32(x.h4),m},a};var _padding$1=null,_initialized$1=!1;function _init$1(){_padding$1=String.fromCharCode(128),_padding$1+=forge$k.util.fillString(String.fromCharCode(0),64),_initialized$1=!0}function _update$1(e,r,n){for(var a,o,u,l,c,g,d,v,x=n.length();x>=64;){for(o=e.h0,u=e.h1,l=e.h2,c=e.h3,g=e.h4,v=0;v<16;++v)a=n.getInt32(),r[v]=a,d=c^u&(l^c),a=(o<<5|o>>>27)+d+g+1518500249+a,g=c,c=l,l=(u<<30|u>>>2)>>>0,u=o,o=a;for(;v<20;++v)a=r[v-3]^r[v-8]^r[v-14]^r[v-16],a=a<<1|a>>>31,r[v]=a,d=c^u&(l^c),a=(o<<5|o>>>27)+d+g+1518500249+a,g=c,c=l,l=(u<<30|u>>>2)>>>0,u=o,o=a;for(;v<32;++v)a=r[v-3]^r[v-8]^r[v-14]^r[v-16],a=a<<1|a>>>31,r[v]=a,d=u^l^c,a=(o<<5|o>>>27)+d+g+1859775393+a,g=c,c=l,l=(u<<30|u>>>2)>>>0,u=o,o=a;for(;v<40;++v)a=r[v-6]^r[v-16]^r[v-28]^r[v-32],a=a<<2|a>>>30,r[v]=a,d=u^l^c,a=(o<<5|o>>>27)+d+g+1859775393+a,g=c,c=l,l=(u<<30|u>>>2)>>>0,u=o,o=a;for(;v<60;++v)a=r[v-6]^r[v-16]^r[v-28]^r[v-32],a=a<<2|a>>>30,r[v]=a,d=u&l|c&(u^l),a=(o<<5|o>>>27)+d+g+2400959708+a,g=c,c=l,l=(u<<30|u>>>2)>>>0,u=o,o=a;for(;v<80;++v)a=r[v-6]^r[v-16]^r[v-28]^r[v-32],a=a<<2|a>>>30,r[v]=a,d=u^l^c,a=(o<<5|o>>>27)+d+g+3395469782+a,g=c,c=l,l=(u<<30|u>>>2)>>>0,u=o,o=a;e.h0=e.h0+o|0,e.h1=e.h1+u|0,e.h2=e.h2+l|0,e.h3=e.h3+c|0,e.h4=e.h4+g|0,x-=64}}var forge$j=forge$C,pkcs1=forge$j.pkcs1=forge$j.pkcs1||{};pkcs1.encode_rsa_oaep=function(e,r,n){var a,o,u,l;typeof n=="string"?(a=n,o=arguments[3]||void 0,u=arguments[4]||void 0):n&&(a=n.label||void 0,o=n.seed||void 0,u=n.md||void 0,n.mgf1&&n.mgf1.md&&(l=n.mgf1.md)),u?u.start():u=forge$j.md.sha1.create(),l||(l=u);var c=Math.ceil(e.n.bitLength()/8),g=c-2*u.digestLength-2;if(r.length>g){var d=new Error("RSAES-OAEP input message length is too long.");throw d.length=r.length,d.maxLength=g,d}a||(a=""),u.update(a,"raw");for(var v=u.digest(),x="",m=g-r.length,E=0;E<m;E++)x+="\0";var y=v.getBytes()+x+""+r;if(!o)o=forge$j.random.getBytes(u.digestLength);else if(o.length!==u.digestLength){var d=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw d.seedLength=o.length,d.digestLength=u.digestLength,d}var C=rsa_mgf1(o,c-u.digestLength-1,l),b=forge$j.util.xorBytes(y,C,y.length),$=rsa_mgf1(b,u.digestLength,l),B=forge$j.util.xorBytes(o,$,o.length);return"\0"+B+b};pkcs1.decode_rsa_oaep=function(e,r,n){var a,o,u;typeof n=="string"?(a=n,o=arguments[3]||void 0):n&&(a=n.label||void 0,o=n.md||void 0,n.mgf1&&n.mgf1.md&&(u=n.mgf1.md));var l=Math.ceil(e.n.bitLength()/8);if(r.length!==l){var b=new Error("RSAES-OAEP encoded message length is invalid.");throw b.length=r.length,b.expectedLength=l,b}if(o===void 0?o=forge$j.md.sha1.create():o.start(),u||(u=o),l<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");a||(a=""),o.update(a,"raw");for(var c=o.digest().getBytes(),g=r.charAt(0),d=r.substring(1,o.digestLength+1),v=r.substring(1+o.digestLength),x=rsa_mgf1(v,o.digestLength,u),m=forge$j.util.xorBytes(d,x,d.length),E=rsa_mgf1(m,l-o.digestLength-1,u),y=forge$j.util.xorBytes(v,E,v.length),C=y.substring(0,o.digestLength),b=g!=="\0",$=0;$<o.digestLength;++$)b|=c.charAt($)!==C.charAt($);for(var B=1,w=o.digestLength,F=o.digestLength;F<y.length;F++){var U=y.charCodeAt(F),_=U&1^1,T=B?65534:0;b|=U&T,B=B&_,w+=B}if(b||y.charCodeAt(w)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(w+1)};function rsa_mgf1(e,r,n){n||(n=forge$j.md.sha1.create());for(var a="",o=Math.ceil(r/n.digestLength),u=0;u<o;++u){var l=String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255);n.start(),n.update(e+l),a+=n.digest().getBytes()}return a.substring(0,r)}var forge$i=forge$C;(function(){if(forge$i.prime)return;var e=forge$i.prime=forge$i.prime||{},r=forge$i.jsbn.BigInteger,n=[6,4,2,4,2,4,6,2],a=new r(null);a.fromInt(30);var o=function(x,m){return x|m};e.generateProbablePrime=function(x,m,E){typeof m=="function"&&(E=m,m={}),m=m||{};var y=m.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var C=m.prng||forge$i.random,b={nextBytes:function($){for(var B=C.getBytesSync($.length),w=0;w<$.length;++w)$[w]=B.charCodeAt(w)}};if(y.name==="PRIMEINC")return u(x,b,y.options,E);throw new Error("Invalid prime generation algorithm: "+y.name)};function u(x,m,E,y){return"workers"in E?g(x,m,E,y):l(x,m,E,y)}function l(x,m,E,y){var C=d(x,m),b=0,$=v(C.bitLength());"millerRabinTests"in E&&($=E.millerRabinTests);var B=10;"maxBlockTime"in E&&(B=E.maxBlockTime),c(C,x,m,b,$,B,y)}function c(x,m,E,y,C,b,$){var B=+new Date;do{if(x.bitLength()>m&&(x=d(m,E)),x.isProbablePrime(C))return $(null,x);x.dAddOffset(n[y++%8],0)}while(b<0||+new Date-B<b);forge$i.util.setImmediate(function(){c(x,m,E,y,C,b,$)})}function g(x,m,E,y){if(typeof Worker=="undefined")return l(x,m,E,y);var C=d(x,m),b=E.workers,$=E.workLoad||100,B=$*30/8,w=E.workerScript||"forge/prime.worker.js";if(b===-1)return forge$i.util.estimateCores(function(U,_){U&&(_=2),b=_-1,F()});F();function F(){b=Math.max(1,b);for(var U=[],_=0;_<b;++_)U[_]=new Worker(w);for(var _=0;_<b;++_)U[_].addEventListener("message",k);var T=!1;function k(N){if(!T){var K=N.data;if(K.found){for(var O=0;O<U.length;++O)U[O].terminate();return T=!0,y(null,new r(K.prime,16))}C.bitLength()>x&&(C=d(x,m));var V=C.toString(16);N.target.postMessage({hex:V,workLoad:$}),C.dAddOffset(B,0)}}}}function d(x,m){var E=new r(x,m),y=x-1;return E.testBit(y)||E.bitwiseTo(r.ONE.shiftLeft(y),o,E),E.dAddOffset(31-E.mod(a).byteValue(),0),E}function v(x){return x<=100?27:x<=150?18:x<=200?15:x<=250?12:x<=300?9:x<=350?8:x<=400?7:x<=500?6:x<=600?5:x<=800?4:x<=1250?3:2}})();var forge$h=forge$C;if(typeof BigInteger$3=="undefined")var BigInteger$3=forge$h.jsbn.BigInteger;var _crypto=forge$h.util.isNodejs?require$$1:null,asn1$7=forge$h.asn1,util=forge$h.util;forge$h.pki=forge$h.pki||{};forge$h.pki.rsa=forge$h.rsa=forge$h.rsa||{};var pki$4=forge$h.pki,GCD_30_DELTA=[6,4,2,4,2,4,6,2],privateKeyValidator$1={name:"PrivateKeyInfo",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},rsaPrivateKeyValidator={name:"RSAPrivateKey",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},rsaPublicKeyValidator={name:"RSAPublicKey",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},publicKeyValidator$2=forge$h.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},digestInfoValidator={name:"DigestInfo",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:asn1$7.Class.UNIVERSAL,type:asn1$7.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},emsaPkcs1v15encode=function(e){var r;if(e.algorithm in pki$4.oids)r=pki$4.oids[e.algorithm];else{var n=new Error("Unknown message digest algorithm.");throw n.algorithm=e.algorithm,n}var a=asn1$7.oidToDer(r).getBytes(),o=asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.SEQUENCE,!0,[]),u=asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.SEQUENCE,!0,[]);u.value.push(asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.OID,!1,a)),u.value.push(asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.NULL,!1,""));var l=asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.OCTETSTRING,!1,e.digest().getBytes());return o.value.push(u),o.value.push(l),asn1$7.toDer(o).getBytes()},_modPow=function(e,r,n){if(n)return e.modPow(r.e,r.n);if(!r.p||!r.q)return e.modPow(r.d,r.n);r.dP||(r.dP=r.d.mod(r.p.subtract(BigInteger$3.ONE))),r.dQ||(r.dQ=r.d.mod(r.q.subtract(BigInteger$3.ONE))),r.qInv||(r.qInv=r.q.modInverse(r.p));var a;do a=new BigInteger$3(forge$h.util.bytesToHex(forge$h.random.getBytes(r.n.bitLength()/8)),16);while(a.compareTo(r.n)>=0||!a.gcd(r.n).equals(BigInteger$3.ONE));e=e.multiply(a.modPow(r.e,r.n)).mod(r.n);for(var o=e.mod(r.p).modPow(r.dP,r.p),u=e.mod(r.q).modPow(r.dQ,r.q);o.compareTo(u)<0;)o=o.add(r.p);var l=o.subtract(u).multiply(r.qInv).mod(r.p).multiply(r.q).add(u);return l=l.multiply(a.modInverse(r.n)).mod(r.n),l};pki$4.rsa.encrypt=function(e,r,n){var a=n,o,u=Math.ceil(r.n.bitLength()/8);n!==!1&&n!==!0?(a=n===2,o=_encodePkcs1_v1_5(e,r,n)):(o=forge$h.util.createBuffer(),o.putBytes(e));for(var l=new BigInteger$3(o.toHex(),16),c=_modPow(l,r,a),g=c.toString(16),d=forge$h.util.createBuffer(),v=u-Math.ceil(g.length/2);v>0;)d.putByte(0),--v;return d.putBytes(forge$h.util.hexToBytes(g)),d.getBytes()};pki$4.rsa.decrypt=function(e,r,n,a){var o=Math.ceil(r.n.bitLength()/8);if(e.length!==o){var u=new Error("Encrypted message length is invalid.");throw u.length=e.length,u.expected=o,u}var l=new BigInteger$3(forge$h.util.createBuffer(e).toHex(),16);if(l.compareTo(r.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=_modPow(l,r,n),g=c.toString(16),d=forge$h.util.createBuffer(),v=o-Math.ceil(g.length/2);v>0;)d.putByte(0),--v;return d.putBytes(forge$h.util.hexToBytes(g)),a!==!1?_decodePkcs1_v1_5(d.getBytes(),r,n):d.getBytes()};pki$4.rsa.createKeyPairGenerationState=function(e,r,n){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,n=n||{};var a=n.prng||forge$h.random,o={nextBytes:function(c){for(var g=a.getBytesSync(c.length),d=0;d<c.length;++d)c[d]=g.charCodeAt(d)}},u=n.algorithm||"PRIMEINC",l;if(u==="PRIMEINC")l={algorithm:u,state:0,bits:e,rng:o,eInt:r||65537,e:new BigInteger$3(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},l.e.fromInt(l.eInt);else throw new Error("Invalid key generation algorithm: "+u);return l};pki$4.rsa.stepKeyPairGenerationState=function(e,r){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new BigInteger$3(null);n.fromInt(30);for(var a=0,o=function(x,m){return x|m},u=+new Date,l,c=0;e.keys===null&&(r<=0||c<r);){if(e.state===0){var g=e.p===null?e.pBits:e.qBits,d=g-1;e.pqState===0?(e.num=new BigInteger$3(g,e.rng),e.num.testBit(d)||e.num.bitwiseTo(BigInteger$3.ONE.shiftLeft(d),o,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),a=0,++e.pqState):e.pqState===1?e.num.bitLength()>g?e.pqState=0:e.num.isProbablePrime(_getMillerRabinTests(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(GCD_30_DELTA[a++%8],0):e.pqState===2?e.pqState=e.num.subtract(BigInteger$3.ONE).gcd(e.e).compareTo(BigInteger$3.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(BigInteger$3.ONE),e.q1=e.q.subtract(BigInteger$3.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(BigInteger$3.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var v=e.e.modInverse(e.phi);e.keys={privateKey:pki$4.rsa.setPrivateKey(e.n,e.e,v,e.p,e.q,v.mod(e.p1),v.mod(e.q1),e.q.modInverse(e.p)),publicKey:pki$4.rsa.setPublicKey(e.n,e.e)}}l=+new Date,c+=l-u,u=l}return e.keys!==null};pki$4.rsa.generateKeyPair=function(e,r,n,a){if(arguments.length===1?typeof e=="object"?(n=e,e=void 0):typeof e=="function"&&(a=e,e=void 0):arguments.length===2?typeof e=="number"?typeof r=="function"?(a=r,r=void 0):typeof r!="number"&&(n=r,r=void 0):(n=e,a=r,e=void 0,r=void 0):arguments.length===3&&(typeof r=="number"?typeof n=="function"&&(a=n,n=void 0):(a=n,n=r,r=void 0)),n=n||{},e===void 0&&(e=n.bits||2048),r===void 0&&(r=n.e||65537),!n.prng&&e>=256&&e<=16384&&(r===65537||r===3)){if(a){if(_detectNodeCrypto("generateKeyPair"))return _crypto.generateKeyPair("rsa",{modulusLength:e,publicExponent:r,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(c,g,d){if(c)return a(c);a(null,{privateKey:pki$4.privateKeyFromPem(d),publicKey:pki$4.publicKeyFromPem(g)})});if(_detectSubtleCrypto("generateKey")&&_detectSubtleCrypto("exportKey"))return util.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:_intToUint8Array(r),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(c){return util.globalScope.crypto.subtle.exportKey("pkcs8",c.privateKey)}).then(void 0,function(c){a(c)}).then(function(c){if(c){var g=pki$4.privateKeyFromAsn1(asn1$7.fromDer(forge$h.util.createBuffer(c)));a(null,{privateKey:g,publicKey:pki$4.setRsaPublicKey(g.n,g.e)})}});if(_detectSubtleMsCrypto("generateKey")&&_detectSubtleMsCrypto("exportKey")){var o=util.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:_intToUint8Array(r),hash:{name:"SHA-256"}},!0,["sign","verify"]);o.oncomplete=function(c){var g=c.target.result,d=util.globalScope.msCrypto.subtle.exportKey("pkcs8",g.privateKey);d.oncomplete=function(v){var x=v.target.result,m=pki$4.privateKeyFromAsn1(asn1$7.fromDer(forge$h.util.createBuffer(x)));a(null,{privateKey:m,publicKey:pki$4.setRsaPublicKey(m.n,m.e)})},d.onerror=function(v){a(v)}},o.onerror=function(c){a(c)};return}}else if(_detectNodeCrypto("generateKeyPairSync")){var u=_crypto.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:r,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:pki$4.privateKeyFromPem(u.privateKey),publicKey:pki$4.publicKeyFromPem(u.publicKey)}}}var l=pki$4.rsa.createKeyPairGenerationState(e,r,n);if(!a)return pki$4.rsa.stepKeyPairGenerationState(l,0),l.keys;_generateKeyPair(l,n,a)};pki$4.setRsaPublicKey=pki$4.rsa.setPublicKey=function(e,r){var n={n:e,e:r};return n.encrypt=function(a,o,u){if(typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSAES-PKCS1-V1_5"),o==="RSAES-PKCS1-V1_5")o={encode:function(c,g,d){return _encodePkcs1_v1_5(c,g,2).getBytes()}};else if(o==="RSA-OAEP"||o==="RSAES-OAEP")o={encode:function(c,g){return forge$h.pkcs1.encode_rsa_oaep(g,c,u)}};else if(["RAW","NONE","NULL",null].indexOf(o)!==-1)o={encode:function(c){return c}};else if(typeof o=="string")throw new Error('Unsupported encryption scheme: "'+o+'".');var l=o.encode(a,n,!0);return pki$4.rsa.encrypt(l,n,!0)},n.verify=function(a,o,u,l){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSASSA-PKCS1-V1_5"),l===void 0&&(l={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in l||(l._parseAllDigestBytes=!0),u==="RSASSA-PKCS1-V1_5"?u={verify:function(g,d){d=_decodePkcs1_v1_5(d,n,!0);var v=asn1$7.fromDer(d,{parseAllBytes:l._parseAllDigestBytes}),x={},m=[];if(!asn1$7.validate(v,digestInfoValidator,x,m)){var E=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw E.errors=m,E}var y=asn1$7.derToOid(x.algorithmIdentifier);if(!(y===forge$h.oids.md2||y===forge$h.oids.md5||y===forge$h.oids.sha1||y===forge$h.oids.sha224||y===forge$h.oids.sha256||y===forge$h.oids.sha384||y===forge$h.oids.sha512||y===forge$h.oids["sha512-224"]||y===forge$h.oids["sha512-256"])){var E=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw E.oid=y,E}if((y===forge$h.oids.md2||y===forge$h.oids.md5)&&!("parameters"in x))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return g===x.digest}}:(u==="NONE"||u==="NULL"||u===null)&&(u={verify:function(g,d){return d=_decodePkcs1_v1_5(d,n,!0),g===d}});var c=pki$4.rsa.decrypt(o,n,!0,!1);return u.verify(a,c,n.n.bitLength())},n};pki$4.setRsaPrivateKey=pki$4.rsa.setPrivateKey=function(e,r,n,a,o,u,l,c){var g={n:e,e:r,d:n,p:a,q:o,dP:u,dQ:l,qInv:c};return g.decrypt=function(d,v,x){typeof v=="string"?v=v.toUpperCase():v===void 0&&(v="RSAES-PKCS1-V1_5");var m=pki$4.rsa.decrypt(d,g,!1,!1);if(v==="RSAES-PKCS1-V1_5")v={decode:_decodePkcs1_v1_5};else if(v==="RSA-OAEP"||v==="RSAES-OAEP")v={decode:function(E,y){return forge$h.pkcs1.decode_rsa_oaep(y,E,x)}};else if(["RAW","NONE","NULL",null].indexOf(v)!==-1)v={decode:function(E){return E}};else throw new Error('Unsupported encryption scheme: "'+v+'".');return v.decode(m,g,!1)},g.sign=function(d,v){var x=!1;typeof v=="string"&&(v=v.toUpperCase()),v===void 0||v==="RSASSA-PKCS1-V1_5"?(v={encode:emsaPkcs1v15encode},x=1):(v==="NONE"||v==="NULL"||v===null)&&(v={encode:function(){return d}},x=1);var m=v.encode(d,g.n.bitLength());return pki$4.rsa.encrypt(m,g,x)},g};pki$4.wrapRsaPrivateKey=function(e){return asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.SEQUENCE,!0,[asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,asn1$7.integerToDer(0).getBytes()),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.SEQUENCE,!0,[asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.OID,!1,asn1$7.oidToDer(pki$4.oids.rsaEncryption).getBytes()),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.NULL,!1,"")]),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.OCTETSTRING,!1,asn1$7.toDer(e).getBytes())])};pki$4.privateKeyFromAsn1=function(e){var r={},n=[];if(asn1$7.validate(e,privateKeyValidator$1,r,n)&&(e=asn1$7.fromDer(forge$h.util.createBuffer(r.privateKey))),r={},n=[],!asn1$7.validate(e,rsaPrivateKeyValidator,r,n)){var a=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw a.errors=n,a}var o,u,l,c,g,d,v,x;return o=forge$h.util.createBuffer(r.privateKeyModulus).toHex(),u=forge$h.util.createBuffer(r.privateKeyPublicExponent).toHex(),l=forge$h.util.createBuffer(r.privateKeyPrivateExponent).toHex(),c=forge$h.util.createBuffer(r.privateKeyPrime1).toHex(),g=forge$h.util.createBuffer(r.privateKeyPrime2).toHex(),d=forge$h.util.createBuffer(r.privateKeyExponent1).toHex(),v=forge$h.util.createBuffer(r.privateKeyExponent2).toHex(),x=forge$h.util.createBuffer(r.privateKeyCoefficient).toHex(),pki$4.setRsaPrivateKey(new BigInteger$3(o,16),new BigInteger$3(u,16),new BigInteger$3(l,16),new BigInteger$3(c,16),new BigInteger$3(g,16),new BigInteger$3(d,16),new BigInteger$3(v,16),new BigInteger$3(x,16))};pki$4.privateKeyToAsn1=pki$4.privateKeyToRSAPrivateKey=function(e){return asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.SEQUENCE,!0,[asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,asn1$7.integerToDer(0).getBytes()),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.n)),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.e)),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.d)),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.p)),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.q)),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.dP)),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.dQ)),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.qInv))])};pki$4.publicKeyFromAsn1=function(e){var r={},n=[];if(asn1$7.validate(e,publicKeyValidator$2,r,n)){var a=asn1$7.derToOid(r.publicKeyOid);if(a!==pki$4.oids.rsaEncryption){var o=new Error("Cannot read public key. Unknown OID.");throw o.oid=a,o}e=r.rsaPublicKey}if(n=[],!asn1$7.validate(e,rsaPublicKeyValidator,r,n)){var o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw o.errors=n,o}var u=forge$h.util.createBuffer(r.publicKeyModulus).toHex(),l=forge$h.util.createBuffer(r.publicKeyExponent).toHex();return pki$4.setRsaPublicKey(new BigInteger$3(u,16),new BigInteger$3(l,16))};pki$4.publicKeyToAsn1=pki$4.publicKeyToSubjectPublicKeyInfo=function(e){return asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.SEQUENCE,!0,[asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.SEQUENCE,!0,[asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.OID,!1,asn1$7.oidToDer(pki$4.oids.rsaEncryption).getBytes()),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.NULL,!1,"")]),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.BITSTRING,!1,[pki$4.publicKeyToRSAPublicKey(e)])])};pki$4.publicKeyToRSAPublicKey=function(e){return asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.SEQUENCE,!0,[asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.n)),asn1$7.create(asn1$7.Class.UNIVERSAL,asn1$7.Type.INTEGER,!1,_bnToBytes(e.e))])};function _encodePkcs1_v1_5(e,r,n){var a=forge$h.util.createBuffer(),o=Math.ceil(r.n.bitLength()/8);if(e.length>o-11){var u=new Error("Message is too long for PKCS#1 v1.5 padding.");throw u.length=e.length,u.max=o-11,u}a.putByte(0),a.putByte(n);var l=o-3-e.length,c;if(n===0||n===1){c=n===0?0:255;for(var g=0;g<l;++g)a.putByte(c)}else for(;l>0;){for(var d=0,v=forge$h.random.getBytes(l),g=0;g<l;++g)c=v.charCodeAt(g),c===0?++d:a.putByte(c);l=d}return a.putByte(0),a.putBytes(e),a}function _decodePkcs1_v1_5(e,r,n,a){var o=Math.ceil(r.n.bitLength()/8),u=forge$h.util.createBuffer(e),l=u.getByte(),c=u.getByte();if(l!==0||n&&c!==0&&c!==1||!n&&c!=2||n&&c===0&&typeof a=="undefined")throw new Error("Encryption block is invalid.");var g=0;if(c===0){g=o-3-a;for(var d=0;d<g;++d)if(u.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(c===1)for(g=0;u.length()>1;){if(u.getByte()!==255){--u.read;break}++g}else if(c===2)for(g=0;u.length()>1;){if(u.getByte()===0){--u.read;break}++g}var v=u.getByte();if(v!==0||g!==o-3-u.length())throw new Error("Encryption block is invalid.");return u.getBytes()}function _generateKeyPair(e,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};var a={algorithm:{name:r.algorithm||"PRIMEINC",options:{workers:r.workers||2,workLoad:r.workLoad||100,workerScript:r.workerScript}}};"prng"in r&&(a.prng=r.prng),o();function o(){u(e.pBits,function(c,g){if(c)return n(c);if(e.p=g,e.q!==null)return l(c,e.q);u(e.qBits,l)})}function u(c,g){forge$h.prime.generateProbablePrime(c,a,g)}function l(c,g){if(c)return n(c);if(e.q=g,e.p.compareTo(e.q)<0){var d=e.p;e.p=e.q,e.q=d}if(e.p.subtract(BigInteger$3.ONE).gcd(e.e).compareTo(BigInteger$3.ONE)!==0){e.p=null,o();return}if(e.q.subtract(BigInteger$3.ONE).gcd(e.e).compareTo(BigInteger$3.ONE)!==0){e.q=null,u(e.qBits,l);return}if(e.p1=e.p.subtract(BigInteger$3.ONE),e.q1=e.q.subtract(BigInteger$3.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(BigInteger$3.ONE)!==0){e.p=e.q=null,o();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,u(e.qBits,l);return}var v=e.e.modInverse(e.phi);e.keys={privateKey:pki$4.rsa.setPrivateKey(e.n,e.e,v,e.p,e.q,v.mod(e.p1),v.mod(e.q1),e.q.modInverse(e.p)),publicKey:pki$4.rsa.setPublicKey(e.n,e.e)},n(null,e.keys)}}function _bnToBytes(e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=forge$h.util.hexToBytes(r);return n.length>1&&(n.charCodeAt(0)===0&&(n.charCodeAt(1)&128)===0||n.charCodeAt(0)===255&&(n.charCodeAt(1)&128)===128)?n.substr(1):n}function _getMillerRabinTests(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function _detectNodeCrypto(e){return forge$h.util.isNodejs&&typeof _crypto[e]=="function"}function _detectSubtleCrypto(e){return typeof util.globalScope!="undefined"&&typeof util.globalScope.crypto=="object"&&typeof util.globalScope.crypto.subtle=="object"&&typeof util.globalScope.crypto.subtle[e]=="function"}function _detectSubtleMsCrypto(e){return typeof util.globalScope!="undefined"&&typeof util.globalScope.msCrypto=="object"&&typeof util.globalScope.msCrypto.subtle=="object"&&typeof util.globalScope.msCrypto.subtle[e]=="function"}function _intToUint8Array(e){for(var r=forge$h.util.hexToBytes(e.toString(16)),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}var forge$g=forge$C;if(typeof BigInteger$2=="undefined")var BigInteger$2=forge$g.jsbn.BigInteger;var asn1$6=forge$g.asn1,pki$3=forge$g.pki=forge$g.pki||{};pki$3.pbe=forge$g.pbe=forge$g.pbe||{};var oids$1=pki$3.oids,encryptedPrivateKeyValidator={name:"EncryptedPrivateKeyInfo",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},PBES2AlgorithmsValidator={name:"PBES2Algorithms",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},pkcs12PbeParamsValidator={name:"pkcs-12PbeParams",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:asn1$6.Class.UNIVERSAL,type:asn1$6.Type.INTEGER,constructed:!1,capture:"iterations"}]};pki$3.encryptPrivateKeyInfo=function(e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||"aes128",n.prfAlgorithm=n.prfAlgorithm||"sha1";var a=forge$g.random.getBytesSync(n.saltSize),o=n.count,u=asn1$6.integerToDer(o),l,c,g;if(n.algorithm.indexOf("aes")===0||n.algorithm==="des"){var d,v,x;switch(n.algorithm){case"aes128":l=16,d=16,v=oids$1["aes128-CBC"],x=forge$g.aes.createEncryptionCipher;break;case"aes192":l=24,d=16,v=oids$1["aes192-CBC"],x=forge$g.aes.createEncryptionCipher;break;case"aes256":l=32,d=16,v=oids$1["aes256-CBC"],x=forge$g.aes.createEncryptionCipher;break;case"des":l=8,d=8,v=oids$1.desCBC,x=forge$g.des.createEncryptionCipher;break;default:var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=n.algorithm,m}var E="hmacWith"+n.prfAlgorithm.toUpperCase(),y=prfAlgorithmToMessageDigest(E),C=forge$g.pkcs5.pbkdf2(r,a,o,l,y),b=forge$g.random.getBytesSync(d),$=x(C);$.start(b),$.update(asn1$6.toDer(e)),$.finish(),g=$.output.getBytes();var B=createPbkdf2Params(a,u,l,E);c=asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OID,!1,asn1$6.oidToDer(oids$1.pkcs5PBES2).getBytes()),asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OID,!1,asn1$6.oidToDer(oids$1.pkcs5PBKDF2).getBytes()),B]),asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OID,!1,asn1$6.oidToDer(v).getBytes()),asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OCTETSTRING,!1,b)])])])}else if(n.algorithm==="3des"){l=24;var w=new forge$g.util.ByteBuffer(a),C=pki$3.pbe.generatePkcs12Key(r,w,1,o,l),b=pki$3.pbe.generatePkcs12Key(r,w,2,o,l),$=forge$g.des.createEncryptionCipher(C);$.start(b),$.update(asn1$6.toDer(e)),$.finish(),g=$.output.getBytes(),c=asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OID,!1,asn1$6.oidToDer(oids$1["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OCTETSTRING,!1,a),asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.INTEGER,!1,u.getBytes())])])}else{var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=n.algorithm,m}var F=asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[c,asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OCTETSTRING,!1,g)]);return F};pki$3.decryptPrivateKeyInfo=function(e,r){var n=null,a={},o=[];if(!asn1$6.validate(e,encryptedPrivateKeyValidator,a,o)){var u=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=o,u}var l=asn1$6.derToOid(a.encryptionOid),c=pki$3.pbe.getCipher(l,a.encryptionParams,r),g=forge$g.util.createBuffer(a.encryptedData);return c.update(g),c.finish()&&(n=asn1$6.fromDer(c.output)),n};pki$3.encryptedPrivateKeyToPem=function(e,r){var n={type:"ENCRYPTED PRIVATE KEY",body:asn1$6.toDer(e).getBytes()};return forge$g.pem.encode(n,{maxline:r})};pki$3.encryptedPrivateKeyFromPem=function(e){var r=forge$g.pem.decode(e)[0];if(r.type!=="ENCRYPTED PRIVATE KEY"){var n=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw n.headerType=r.type,n}if(r.procType&&r.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return asn1$6.fromDer(r.body)};pki$3.encryptRsaPrivateKey=function(e,r,n){if(n=n||{},!n.legacy){var a=pki$3.wrapRsaPrivateKey(pki$3.privateKeyToAsn1(e));return a=pki$3.encryptPrivateKeyInfo(a,r,n),pki$3.encryptedPrivateKeyToPem(a)}var o,u,l,c;switch(n.algorithm){case"aes128":o="AES-128-CBC",l=16,u=forge$g.random.getBytesSync(16),c=forge$g.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",l=24,u=forge$g.random.getBytesSync(16),c=forge$g.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",l=32,u=forge$g.random.getBytesSync(16),c=forge$g.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",l=24,u=forge$g.random.getBytesSync(8),c=forge$g.des.createEncryptionCipher;break;case"des":o="DES-CBC",l=8,u=forge$g.random.getBytesSync(8),c=forge$g.des.createEncryptionCipher;break;default:var g=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw g.algorithm=n.algorithm,g}var d=forge$g.pbe.opensslDeriveBytes(r,u.substr(0,8),l),v=c(d);v.start(u),v.update(asn1$6.toDer(pki$3.privateKeyToAsn1(e))),v.finish();var x={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:forge$g.util.bytesToHex(u).toUpperCase()},body:v.output.getBytes()};return forge$g.pem.encode(x)};pki$3.decryptRsaPrivateKey=function(e,r){var n=null,a=forge$g.pem.decode(e)[0];if(a.type!=="ENCRYPTED PRIVATE KEY"&&a.type!=="PRIVATE KEY"&&a.type!=="RSA PRIVATE KEY"){var o=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw o.headerType=o,o}if(a.procType&&a.procType.type==="ENCRYPTED"){var u,l;switch(a.dekInfo.algorithm){case"DES-CBC":u=8,l=forge$g.des.createDecryptionCipher;break;case"DES-EDE3-CBC":u=24,l=forge$g.des.createDecryptionCipher;break;case"AES-128-CBC":u=16,l=forge$g.aes.createDecryptionCipher;break;case"AES-192-CBC":u=24,l=forge$g.aes.createDecryptionCipher;break;case"AES-256-CBC":u=32,l=forge$g.aes.createDecryptionCipher;break;case"RC2-40-CBC":u=5,l=function(x){return forge$g.rc2.createDecryptionCipher(x,40)};break;case"RC2-64-CBC":u=8,l=function(x){return forge$g.rc2.createDecryptionCipher(x,64)};break;case"RC2-128-CBC":u=16,l=function(x){return forge$g.rc2.createDecryptionCipher(x,128)};break;default:var o=new Error('Could not decrypt private key; unsupported encryption algorithm "'+a.dekInfo.algorithm+'".');throw o.algorithm=a.dekInfo.algorithm,o}var c=forge$g.util.hexToBytes(a.dekInfo.parameters),g=forge$g.pbe.opensslDeriveBytes(r,c.substr(0,8),u),d=l(g);if(d.start(c),d.update(forge$g.util.createBuffer(a.body)),d.finish())n=d.output.getBytes();else return n}else n=a.body;return a.type==="ENCRYPTED PRIVATE KEY"?n=pki$3.decryptPrivateKeyInfo(asn1$6.fromDer(n),r):n=asn1$6.fromDer(n),n!==null&&(n=pki$3.privateKeyFromAsn1(n)),n};pki$3.pbe.generatePkcs12Key=function(e,r,n,a,o,u){var l,c;if(typeof u=="undefined"||u===null){if(!("sha1"in forge$g.md))throw new Error('"sha1" hash algorithm unavailable.');u=forge$g.md.sha1.create()}var g=u.digestLength,d=u.blockLength,v=new forge$g.util.ByteBuffer,x=new forge$g.util.ByteBuffer;if(e!=null){for(c=0;c<e.length;c++)x.putInt16(e.charCodeAt(c));x.putInt16(0)}var m=x.length(),E=r.length(),y=new forge$g.util.ByteBuffer;y.fillWithByte(n,d);var C=d*Math.ceil(E/d),b=new forge$g.util.ByteBuffer;for(c=0;c<C;c++)b.putByte(r.at(c%E));var $=d*Math.ceil(m/d),B=new forge$g.util.ByteBuffer;for(c=0;c<$;c++)B.putByte(x.at(c%m));var w=b;w.putBuffer(B);for(var F=Math.ceil(o/g),U=1;U<=F;U++){var _=new forge$g.util.ByteBuffer;_.putBytes(y.bytes()),_.putBytes(w.bytes());for(var T=0;T<a;T++)u.start(),u.update(_.getBytes()),_=u.digest();var k=new forge$g.util.ByteBuffer;for(c=0;c<d;c++)k.putByte(_.at(c%g));var N=Math.ceil(E/d)+Math.ceil(m/d),K=new forge$g.util.ByteBuffer;for(l=0;l<N;l++){var O=new forge$g.util.ByteBuffer(w.getBytes(d)),V=511;for(c=k.length()-1;c>=0;c--)V=V>>8,V+=k.at(c)+O.at(c),O.setAt(c,V&255);K.putBuffer(O)}w=K,v.putBuffer(_)}return v.truncate(v.length()-o),v};pki$3.pbe.getCipher=function(e,r,n){switch(e){case pki$3.oids.pkcs5PBES2:return pki$3.pbe.getCipherForPBES2(e,r,n);case pki$3.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case pki$3.oids["pbewithSHAAnd40BitRC2-CBC"]:return pki$3.pbe.getCipherForPKCS12PBE(e,r,n);default:var a=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw a.oid=e,a.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],a}};pki$3.pbe.getCipherForPBES2=function(e,r,n){var a={},o=[];if(!asn1$6.validate(r,PBES2AlgorithmsValidator,a,o)){var u=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=o,u}if(e=asn1$6.derToOid(a.kdfOid),e!==pki$3.oids.pkcs5PBKDF2){var u=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw u.oid=e,u.supportedOids=["pkcs5PBKDF2"],u}if(e=asn1$6.derToOid(a.encOid),e!==pki$3.oids["aes128-CBC"]&&e!==pki$3.oids["aes192-CBC"]&&e!==pki$3.oids["aes256-CBC"]&&e!==pki$3.oids["des-EDE3-CBC"]&&e!==pki$3.oids.desCBC){var u=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw u.oid=e,u.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],u}var l=a.kdfSalt,c=forge$g.util.createBuffer(a.kdfIterationCount);c=c.getInt(c.length()<<3);var g,d;switch(pki$3.oids[e]){case"aes128-CBC":g=16,d=forge$g.aes.createDecryptionCipher;break;case"aes192-CBC":g=24,d=forge$g.aes.createDecryptionCipher;break;case"aes256-CBC":g=32,d=forge$g.aes.createDecryptionCipher;break;case"des-EDE3-CBC":g=24,d=forge$g.des.createDecryptionCipher;break;case"desCBC":g=8,d=forge$g.des.createDecryptionCipher;break}var v=prfOidToMessageDigest(a.prfOid),x=forge$g.pkcs5.pbkdf2(n,l,c,g,v),m=a.encIv,E=d(x);return E.start(m),E};pki$3.pbe.getCipherForPKCS12PBE=function(e,r,n){var a={},o=[];if(!asn1$6.validate(r,pkcs12PbeParamsValidator,a,o)){var u=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=o,u}var l=forge$g.util.createBuffer(a.salt),c=forge$g.util.createBuffer(a.iterations);c=c.getInt(c.length()<<3);var g,d,v;switch(e){case pki$3.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:g=24,d=8,v=forge$g.des.startDecrypting;break;case pki$3.oids["pbewithSHAAnd40BitRC2-CBC"]:g=5,d=8,v=function(C,b){var $=forge$g.rc2.createDecryptionCipher(C,40);return $.start(b,null),$};break;default:var u=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw u.oid=e,u}var x=prfOidToMessageDigest(a.prfOid),m=pki$3.pbe.generatePkcs12Key(n,l,1,c,g,x);x.start();var E=pki$3.pbe.generatePkcs12Key(n,l,2,c,d,x);return v(m,E)};pki$3.pbe.opensslDeriveBytes=function(e,r,n,a){if(typeof a=="undefined"||a===null){if(!("md5"in forge$g.md))throw new Error('"md5" hash algorithm unavailable.');a=forge$g.md.md5.create()}r===null&&(r="");for(var o=[hash(a,e+r)],u=16,l=1;u<n;++l,u+=16)o.push(hash(a,o[l-1]+e+r));return o.join("").substr(0,n)};function hash(e,r){return e.start().update(r).digest().getBytes()}function prfOidToMessageDigest(e){var r;if(!e)r="hmacWithSHA1";else if(r=pki$3.oids[asn1$6.derToOid(e)],!r){var n=new Error("Unsupported PRF OID.");throw n.oid=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}return prfAlgorithmToMessageDigest(r)}function prfAlgorithmToMessageDigest(e){var r=forge$g.md;switch(e){case"hmacWithSHA224":r=forge$g.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var n=new Error("Unsupported PRF algorithm.");throw n.algorithm=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}if(!r||!(e in r))throw new Error("Unknown hash algorithm: "+e);return r[e].create()}function createPbkdf2Params(e,r,n,a){var o=asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OCTETSTRING,!1,e),asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.INTEGER,!1,r.getBytes())]);return a!=="hmacWithSHA1"&&o.value.push(asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.INTEGER,!1,forge$g.util.hexToBytes(n.toString(16))),asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.SEQUENCE,!0,[asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.OID,!1,asn1$6.oidToDer(pki$3.oids[a]).getBytes()),asn1$6.create(asn1$6.Class.UNIVERSAL,asn1$6.Type.NULL,!1,"")])),o}var forge$f=forge$C,asn1$5=forge$f.asn1,p7v=forge$f.pkcs7asn1=forge$f.pkcs7asn1||{};forge$f.pkcs7=forge$f.pkcs7||{};forge$f.pkcs7.asn1=p7v;var contentInfoValidator$1={name:"ContentInfo",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:asn1$5.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};p7v.contentInfoValidator=contentInfoValidator$1;var encryptedContentInfoValidator={name:"EncryptedContentInfo",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:asn1$5.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:asn1$5.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};p7v.envelopedDataValidator={name:"EnvelopedData",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(encryptedContentInfoValidator)};p7v.encryptedDataValidator={name:"EncryptedData",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"version"}].concat(encryptedContentInfoValidator)};var signerValidator={name:"SignerInfo",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:asn1$5.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:asn1$5.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:asn1$5.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};p7v.signedDataValidator={name:"SignedData",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},contentInfoValidator$1,{name:"SignedData.Certificates",tagClass:asn1$5.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:asn1$5.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SET,capture:"signerInfos",optional:!0,value:[signerValidator]}]};p7v.recipientInfoValidator={name:"RecipientInfo",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:asn1$5.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var forge$e=forge$C;forge$e.mgf=forge$e.mgf||{};var mgf1=forge$e.mgf.mgf1=forge$e.mgf1=forge$e.mgf1||{};mgf1.create=function(e){var r={generate:function(n,a){for(var o=new forge$e.util.ByteBuffer,u=Math.ceil(a/e.digestLength),l=0;l<u;l++){var c=new forge$e.util.ByteBuffer;c.putInt32(l),e.start(),e.update(n+c.getBytes()),o.putBuffer(e.digest())}return o.truncate(o.length()-a),o.getBytes()}};return r};var forge$d=forge$C;forge$d.mgf=forge$d.mgf||{};forge$d.mgf.mgf1=forge$d.mgf1;var forge$c=forge$C,pss=forge$c.pss=forge$c.pss||{};pss.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var r=e.md,n=e.mgf,a=r.digestLength,o=e.salt||null;typeof o=="string"&&(o=forge$c.util.createBuffer(o));var u;if("saltLength"in e)u=e.saltLength;else if(o!==null)u=o.length();else throw new Error("Salt length not specified or specific salt not given.");if(o!==null&&o.length()!==u)throw new Error("Given salt length does not match length of given salt.");var l=e.prng||forge$c.random,c={};return c.encode=function(g,d){var v,x=d-1,m=Math.ceil(x/8),E=g.digest().getBytes();if(m<a+u+2)throw new Error("Message is too long to encrypt.");var y;o===null?y=l.getBytesSync(u):y=o.bytes();var C=new forge$c.util.ByteBuffer;C.fillWithByte(0,8),C.putBytes(E),C.putBytes(y),r.start(),r.update(C.getBytes());var b=r.digest().getBytes(),$=new forge$c.util.ByteBuffer;$.fillWithByte(0,m-u-a-2),$.putByte(1),$.putBytes(y);var B=$.getBytes(),w=m-a-1,F=n.generate(b,w),U="";for(v=0;v<w;v++)U+=String.fromCharCode(B.charCodeAt(v)^F.charCodeAt(v));var _=65280>>8*m-x&255;return U=String.fromCharCode(U.charCodeAt(0)&~_)+U.substr(1),U+b+String.fromCharCode(188)},c.verify=function(g,d,v){var x,m=v-1,E=Math.ceil(m/8);if(d=d.substr(-E),E<a+u+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(d.charCodeAt(E-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var y=E-a-1,C=d.substr(0,y),b=d.substr(y,a),$=65280>>8*E-m&255;if((C.charCodeAt(0)&$)!==0)throw new Error("Bits beyond keysize not zero as expected.");var B=n.generate(b,y),w="";for(x=0;x<y;x++)w+=String.fromCharCode(C.charCodeAt(x)^B.charCodeAt(x));w=String.fromCharCode(w.charCodeAt(0)&~$)+w.substr(1);var F=E-a-u-2;for(x=0;x<F;x++)if(w.charCodeAt(x)!==0)throw new Error("Leftmost octets not zero as expected");if(w.charCodeAt(F)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var U=w.substr(-u),_=new forge$c.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(g),_.putBytes(U),r.start(),r.update(_.getBytes());var T=r.digest().getBytes();return b===T},c};var forge$b=forge$C,asn1$4=forge$b.asn1,pki$2=forge$b.pki=forge$b.pki||{},oids=pki$2.oids,_shortNames={};_shortNames.CN=oids.commonName;_shortNames.commonName="CN";_shortNames.C=oids.countryName;_shortNames.countryName="C";_shortNames.L=oids.localityName;_shortNames.localityName="L";_shortNames.ST=oids.stateOrProvinceName;_shortNames.stateOrProvinceName="ST";_shortNames.O=oids.organizationName;_shortNames.organizationName="O";_shortNames.OU=oids.organizationalUnitName;_shortNames.organizationalUnitName="OU";_shortNames.E=oids.emailAddress;_shortNames.emailAddress="E";var publicKeyValidator$1=forge$b.pki.rsa.publicKeyValidator,x509CertificateValidator={name:"Certificate",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:asn1$4.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},publicKeyValidator$1,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:asn1$4.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},rsassaPssParameterValidator={name:"rsapss",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},certificationRequestInfoValidator={name:"CertificationRequestInfo",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},publicKeyValidator$1,{name:"CertificationRequestInfo.attributes",tagClass:asn1$4.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SET,constructed:!0}]}]}]},certificationRequestValidator={name:"CertificationRequest",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[certificationRequestInfoValidator,{name:"CertificationRequest.signatureAlgorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:asn1$4.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};pki$2.RDNAttributesAsArray=function(e,r){for(var n=[],a,o,u,l=0;l<e.value.length;++l){a=e.value[l];for(var c=0;c<a.value.length;++c)u={},o=a.value[c],u.type=asn1$4.derToOid(o.value[0].value),u.value=o.value[1].value,u.valueTagClass=o.value[1].type,u.type in oids&&(u.name=oids[u.type],u.name in _shortNames&&(u.shortName=_shortNames[u.name])),r&&(r.update(u.type),r.update(u.value)),n.push(u)}return n};pki$2.CRIAttributesAsArray=function(e){for(var r=[],n=0;n<e.length;++n)for(var a=e[n],o=asn1$4.derToOid(a.value[0].value),u=a.value[1].value,l=0;l<u.length;++l){var c={};if(c.type=o,c.value=u[l].value,c.valueTagClass=u[l].type,c.type in oids&&(c.name=oids[c.type],c.name in _shortNames&&(c.shortName=_shortNames[c.name])),c.type===oids.extensionRequest){c.extensions=[];for(var g=0;g<c.value.length;++g)c.extensions.push(pki$2.certificateExtensionFromAsn1(c.value[g]))}r.push(c)}return r};function _getAttribute(e,r){typeof r=="string"&&(r={shortName:r});for(var n=null,a,o=0;n===null&&o<e.attributes.length;++o)a=e.attributes[o],(r.type&&r.type===a.type||r.name&&r.name===a.name||r.shortName&&r.shortName===a.shortName)&&(n=a);return n}var _readSignatureParameters=function(e,r,n){var a={};if(e!==oids["RSASSA-PSS"])return a;n&&(a={hash:{algorithmOid:oids.sha1},mgf:{algorithmOid:oids.mgf1,hash:{algorithmOid:oids.sha1}},saltLength:20});var o={},u=[];if(!asn1$4.validate(r,rsassaPssParameterValidator,o,u)){var l=new Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=u,l}return o.hashOid!==void 0&&(a.hash=a.hash||{},a.hash.algorithmOid=asn1$4.derToOid(o.hashOid)),o.maskGenOid!==void 0&&(a.mgf=a.mgf||{},a.mgf.algorithmOid=asn1$4.derToOid(o.maskGenOid),a.mgf.hash=a.mgf.hash||{},a.mgf.hash.algorithmOid=asn1$4.derToOid(o.maskGenHashOid)),o.saltLength!==void 0&&(a.saltLength=o.saltLength.charCodeAt(0)),a},_createSignatureDigest=function(e){switch(oids[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return forge$b.md.sha1.create();case"md5WithRSAEncryption":return forge$b.md.md5.create();case"sha256WithRSAEncryption":return forge$b.md.sha256.create();case"sha384WithRSAEncryption":return forge$b.md.sha384.create();case"sha512WithRSAEncryption":return forge$b.md.sha512.create();case"RSASSA-PSS":return forge$b.md.sha256.create();default:var r=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw r.signatureOid=e.signatureOid,r}},_verifySignature=function(e){var r=e.certificate,n;switch(r.signatureOid){case oids.sha1WithRSAEncryption:case oids.sha1WithRSASignature:break;case oids["RSASSA-PSS"]:var a,o;if(a=oids[r.signatureParameters.mgf.hash.algorithmOid],a===void 0||forge$b.md[a]===void 0){var u=new Error("Unsupported MGF hash function.");throw u.oid=r.signatureParameters.mgf.hash.algorithmOid,u.name=a,u}if(o=oids[r.signatureParameters.mgf.algorithmOid],o===void 0||forge$b.mgf[o]===void 0){var u=new Error("Unsupported MGF function.");throw u.oid=r.signatureParameters.mgf.algorithmOid,u.name=o,u}if(o=forge$b.mgf[o].create(forge$b.md[a].create()),a=oids[r.signatureParameters.hash.algorithmOid],a===void 0||forge$b.md[a]===void 0){var u=new Error("Unsupported RSASSA-PSS hash function.");throw u.oid=r.signatureParameters.hash.algorithmOid,u.name=a,u}n=forge$b.pss.create(forge$b.md[a].create(),o,r.signatureParameters.saltLength);break}return r.publicKey.verify(e.md.digest().getBytes(),e.signature,n)};pki$2.certificateFromPem=function(e,r,n){var a=forge$b.pem.decode(e)[0];if(a.type!=="CERTIFICATE"&&a.type!=="X509 CERTIFICATE"&&a.type!=="TRUSTED CERTIFICATE"){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=a.type,o}if(a.procType&&a.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=asn1$4.fromDer(a.body,n);return pki$2.certificateFromAsn1(u,r)};pki$2.certificateToPem=function(e,r){var n={type:"CERTIFICATE",body:asn1$4.toDer(pki$2.certificateToAsn1(e)).getBytes()};return forge$b.pem.encode(n,{maxline:r})};pki$2.publicKeyFromPem=function(e){var r=forge$b.pem.decode(e)[0];if(r.type!=="PUBLIC KEY"&&r.type!=="RSA PUBLIC KEY"){var n=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw n.headerType=r.type,n}if(r.procType&&r.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=asn1$4.fromDer(r.body);return pki$2.publicKeyFromAsn1(a)};pki$2.publicKeyToPem=function(e,r){var n={type:"PUBLIC KEY",body:asn1$4.toDer(pki$2.publicKeyToAsn1(e)).getBytes()};return forge$b.pem.encode(n,{maxline:r})};pki$2.publicKeyToRSAPublicKeyPem=function(e,r){var n={type:"RSA PUBLIC KEY",body:asn1$4.toDer(pki$2.publicKeyToRSAPublicKey(e)).getBytes()};return forge$b.pem.encode(n,{maxline:r})};pki$2.getPublicKeyFingerprint=function(e,r){r=r||{};var n=r.md||forge$b.md.sha1.create(),a=r.type||"RSAPublicKey",o;switch(a){case"RSAPublicKey":o=asn1$4.toDer(pki$2.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":o=asn1$4.toDer(pki$2.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+r.type+'".')}n.start(),n.update(o);var u=n.digest();if(r.encoding==="hex"){var l=u.toHex();return r.delimiter?l.match(/.{2}/g).join(r.delimiter):l}else{if(r.encoding==="binary")return u.getBytes();if(r.encoding)throw new Error('Unknown encoding "'+r.encoding+'".')}return u};pki$2.certificationRequestFromPem=function(e,r,n){var a=forge$b.pem.decode(e)[0];if(a.type!=="CERTIFICATE REQUEST"){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=a.type,o}if(a.procType&&a.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=asn1$4.fromDer(a.body,n);return pki$2.certificationRequestFromAsn1(u,r)};pki$2.certificationRequestToPem=function(e,r){var n={type:"CERTIFICATE REQUEST",body:asn1$4.toDer(pki$2.certificationRequestToAsn1(e)).getBytes()};return forge$b.pem.encode(n,{maxline:r})};pki$2.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(r){return _getAttribute(e.issuer,r)},e.issuer.addField=function(r){_fillMissingFields([r]),e.issuer.attributes.push(r)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(r){return _getAttribute(e.subject,r)},e.subject.addField=function(r){_fillMissingFields([r]),e.subject.attributes.push(r)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(r,n){_fillMissingFields(r),e.subject.attributes=r,delete e.subject.uniqueId,n&&(e.subject.uniqueId=n),e.subject.hash=null},e.setIssuer=function(r,n){_fillMissingFields(r),e.issuer.attributes=r,delete e.issuer.uniqueId,n&&(e.issuer.uniqueId=n),e.issuer.hash=null},e.setExtensions=function(r){for(var n=0;n<r.length;++n)_fillMissingExtensionFields(r[n],{cert:e});e.extensions=r},e.getExtension=function(r){typeof r=="string"&&(r={name:r});for(var n=null,a,o=0;n===null&&o<e.extensions.length;++o)a=e.extensions[o],(r.id&&a.id===r.id||r.name&&a.name===r.name)&&(n=a);return n},e.sign=function(r,n){e.md=n||forge$b.md.sha1.create();var a=oids[e.md.algorithm+"WithRSAEncryption"];if(!a){var o=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw o.algorithm=e.md.algorithm,o}e.signatureOid=e.siginfo.algorithmOid=a,e.tbsCertificate=pki$2.getTBSCertificate(e);var u=asn1$4.toDer(e.tbsCertificate);e.md.update(u.getBytes()),e.signature=r.sign(e.md)},e.verify=function(r){var n=!1;if(!e.issued(r)){var a=r.issuer,o=e.subject,u=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw u.expectedIssuer=o.attributes,u.actualIssuer=a.attributes,u}var l=r.md;if(l===null){l=_createSignatureDigest({signatureOid:r.signatureOid,type:"certificate"});var c=r.tbsCertificate||pki$2.getTBSCertificate(r),g=asn1$4.toDer(c);l.update(g.getBytes())}return l!==null&&(n=_verifySignature({certificate:e,md:l,signature:r.signature})),n},e.isIssuer=function(r){var n=!1,a=e.issuer,o=r.subject;if(a.hash&&o.hash)n=a.hash===o.hash;else if(a.attributes.length===o.attributes.length){n=!0;for(var u,l,c=0;n&&c<a.attributes.length;++c)u=a.attributes[c],l=o.attributes[c],(u.type!==l.type||u.value!==l.value)&&(n=!1)}return n},e.issued=function(r){return r.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return pki$2.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var r=oids.subjectKeyIdentifier,n=0;n<e.extensions.length;++n){var a=e.extensions[n];if(a.id===r){var o=e.generateSubjectKeyIdentifier().getBytes();return forge$b.util.hexToBytes(a.subjectKeyIdentifier)===o}}return!1},e};pki$2.certificateFromAsn1=function(e,r){var n={},a=[];if(!asn1$4.validate(e,x509CertificateValidator,n,a)){var o=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw o.errors=a,o}var u=asn1$4.derToOid(n.publicKeyOid);if(u!==pki$2.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=pki$2.createCertificate();l.version=n.certVersion?n.certVersion.charCodeAt(0):0;var c=forge$b.util.createBuffer(n.certSerialNumber);l.serialNumber=c.toHex(),l.signatureOid=forge$b.asn1.derToOid(n.certSignatureOid),l.signatureParameters=_readSignatureParameters(l.signatureOid,n.certSignatureParams,!0),l.siginfo.algorithmOid=forge$b.asn1.derToOid(n.certinfoSignatureOid),l.siginfo.parameters=_readSignatureParameters(l.siginfo.algorithmOid,n.certinfoSignatureParams,!1),l.signature=n.certSignature;var g=[];if(n.certValidity1UTCTime!==void 0&&g.push(asn1$4.utcTimeToDate(n.certValidity1UTCTime)),n.certValidity2GeneralizedTime!==void 0&&g.push(asn1$4.generalizedTimeToDate(n.certValidity2GeneralizedTime)),n.certValidity3UTCTime!==void 0&&g.push(asn1$4.utcTimeToDate(n.certValidity3UTCTime)),n.certValidity4GeneralizedTime!==void 0&&g.push(asn1$4.generalizedTimeToDate(n.certValidity4GeneralizedTime)),g.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(g.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=g[0],l.validity.notAfter=g[1],l.tbsCertificate=n.tbsCertificate,r){l.md=_createSignatureDigest({signatureOid:l.signatureOid,type:"certificate"});var d=asn1$4.toDer(l.tbsCertificate);l.md.update(d.getBytes())}var v=forge$b.md.sha1.create(),x=asn1$4.toDer(n.certIssuer);v.update(x.getBytes()),l.issuer.getField=function(y){return _getAttribute(l.issuer,y)},l.issuer.addField=function(y){_fillMissingFields([y]),l.issuer.attributes.push(y)},l.issuer.attributes=pki$2.RDNAttributesAsArray(n.certIssuer),n.certIssuerUniqueId&&(l.issuer.uniqueId=n.certIssuerUniqueId),l.issuer.hash=v.digest().toHex();var m=forge$b.md.sha1.create(),E=asn1$4.toDer(n.certSubject);return m.update(E.getBytes()),l.subject.getField=function(y){return _getAttribute(l.subject,y)},l.subject.addField=function(y){_fillMissingFields([y]),l.subject.attributes.push(y)},l.subject.attributes=pki$2.RDNAttributesAsArray(n.certSubject),n.certSubjectUniqueId&&(l.subject.uniqueId=n.certSubjectUniqueId),l.subject.hash=m.digest().toHex(),n.certExtensions?l.extensions=pki$2.certificateExtensionsFromAsn1(n.certExtensions):l.extensions=[],l.publicKey=pki$2.publicKeyFromAsn1(n.subjectPublicKeyInfo),l};pki$2.certificateExtensionsFromAsn1=function(e){for(var r=[],n=0;n<e.value.length;++n)for(var a=e.value[n],o=0;o<a.value.length;++o)r.push(pki$2.certificateExtensionFromAsn1(a.value[o]));return r};pki$2.certificateExtensionFromAsn1=function(e){var r={};if(r.id=asn1$4.derToOid(e.value[0].value),r.critical=!1,e.value[1].type===asn1$4.Type.BOOLEAN?(r.critical=e.value[1].value.charCodeAt(0)!==0,r.value=e.value[2].value):r.value=e.value[1].value,r.id in oids){if(r.name=oids[r.id],r.name==="keyUsage"){var n=asn1$4.fromDer(r.value),a=0,o=0;n.value.length>1&&(a=n.value.charCodeAt(1),o=n.value.length>2?n.value.charCodeAt(2):0),r.digitalSignature=(a&128)===128,r.nonRepudiation=(a&64)===64,r.keyEncipherment=(a&32)===32,r.dataEncipherment=(a&16)===16,r.keyAgreement=(a&8)===8,r.keyCertSign=(a&4)===4,r.cRLSign=(a&2)===2,r.encipherOnly=(a&1)===1,r.decipherOnly=(o&128)===128}else if(r.name==="basicConstraints"){var n=asn1$4.fromDer(r.value);n.value.length>0&&n.value[0].type===asn1$4.Type.BOOLEAN?r.cA=n.value[0].value.charCodeAt(0)!==0:r.cA=!1;var u=null;n.value.length>0&&n.value[0].type===asn1$4.Type.INTEGER?u=n.value[0].value:n.value.length>1&&(u=n.value[1].value),u!==null&&(r.pathLenConstraint=asn1$4.derToInteger(u))}else if(r.name==="extKeyUsage")for(var n=asn1$4.fromDer(r.value),l=0;l<n.value.length;++l){var c=asn1$4.derToOid(n.value[l].value);c in oids?r[oids[c]]=!0:r[c]=!0}else if(r.name==="nsCertType"){var n=asn1$4.fromDer(r.value),a=0;n.value.length>1&&(a=n.value.charCodeAt(1)),r.client=(a&128)===128,r.server=(a&64)===64,r.email=(a&32)===32,r.objsign=(a&16)===16,r.reserved=(a&8)===8,r.sslCA=(a&4)===4,r.emailCA=(a&2)===2,r.objCA=(a&1)===1}else if(r.name==="subjectAltName"||r.name==="issuerAltName"){r.altNames=[];for(var g,n=asn1$4.fromDer(r.value),d=0;d<n.value.length;++d){g=n.value[d];var v={type:g.type,value:g.value};switch(r.altNames.push(v),g.type){case 1:case 2:case 6:break;case 7:v.ip=forge$b.util.bytesToIP(g.value);break;case 8:v.oid=asn1$4.derToOid(g.value);break}}}else if(r.name==="subjectKeyIdentifier"){var n=asn1$4.fromDer(r.value);r.subjectKeyIdentifier=forge$b.util.bytesToHex(n.value)}}return r};pki$2.certificationRequestFromAsn1=function(e,r){var n={},a=[];if(!asn1$4.validate(e,certificationRequestValidator,n,a)){var o=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw o.errors=a,o}var u=asn1$4.derToOid(n.publicKeyOid);if(u!==pki$2.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=pki$2.createCertificationRequest();if(l.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,l.signatureOid=forge$b.asn1.derToOid(n.csrSignatureOid),l.signatureParameters=_readSignatureParameters(l.signatureOid,n.csrSignatureParams,!0),l.siginfo.algorithmOid=forge$b.asn1.derToOid(n.csrSignatureOid),l.siginfo.parameters=_readSignatureParameters(l.siginfo.algorithmOid,n.csrSignatureParams,!1),l.signature=n.csrSignature,l.certificationRequestInfo=n.certificationRequestInfo,r){l.md=_createSignatureDigest({signatureOid:l.signatureOid,type:"certification request"});var c=asn1$4.toDer(l.certificationRequestInfo);l.md.update(c.getBytes())}var g=forge$b.md.sha1.create();return l.subject.getField=function(d){return _getAttribute(l.subject,d)},l.subject.addField=function(d){_fillMissingFields([d]),l.subject.attributes.push(d)},l.subject.attributes=pki$2.RDNAttributesAsArray(n.certificationRequestInfoSubject,g),l.subject.hash=g.digest().toHex(),l.publicKey=pki$2.publicKeyFromAsn1(n.subjectPublicKeyInfo),l.getAttribute=function(d){return _getAttribute(l,d)},l.addAttribute=function(d){_fillMissingFields([d]),l.attributes.push(d)},l.attributes=pki$2.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),l};pki$2.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(r){return _getAttribute(e.subject,r)},e.subject.addField=function(r){_fillMissingFields([r]),e.subject.attributes.push(r)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(r){return _getAttribute(e,r)},e.addAttribute=function(r){_fillMissingFields([r]),e.attributes.push(r)},e.md=null,e.setSubject=function(r){_fillMissingFields(r),e.subject.attributes=r,e.subject.hash=null},e.setAttributes=function(r){_fillMissingFields(r),e.attributes=r},e.sign=function(r,n){e.md=n||forge$b.md.sha1.create();var a=oids[e.md.algorithm+"WithRSAEncryption"];if(!a){var o=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw o.algorithm=e.md.algorithm,o}e.signatureOid=e.siginfo.algorithmOid=a,e.certificationRequestInfo=pki$2.getCertificationRequestInfo(e);var u=asn1$4.toDer(e.certificationRequestInfo);e.md.update(u.getBytes()),e.signature=r.sign(e.md)},e.verify=function(){var r=!1,n=e.md;if(n===null){n=_createSignatureDigest({signatureOid:e.signatureOid,type:"certification request"});var a=e.certificationRequestInfo||pki$2.getCertificationRequestInfo(e),o=asn1$4.toDer(a);n.update(o.getBytes())}return n!==null&&(r=_verifySignature({certificate:e,md:n,signature:e.signature})),r},e};function _dnToAsn1(e){for(var r=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]),n,a,o=e.attributes,u=0;u<o.length;++u){n=o[u];var l=n.value,c=asn1$4.Type.PRINTABLESTRING;"valueTagClass"in n&&(c=n.valueTagClass,c===asn1$4.Type.UTF8&&(l=forge$b.util.encodeUtf8(l))),a=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SET,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(n.type).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,c,!1,l)])]),r.value.push(a)}return r}function _fillMissingFields(e){for(var r,n=0;n<e.length;++n){if(r=e[n],typeof r.name=="undefined"&&(r.type&&r.type in pki$2.oids?r.name=pki$2.oids[r.type]:r.shortName&&r.shortName in _shortNames&&(r.name=pki$2.oids[_shortNames[r.shortName]])),typeof r.type=="undefined")if(r.name&&r.name in pki$2.oids)r.type=pki$2.oids[r.name];else{var a=new Error("Attribute type not specified.");throw a.attribute=r,a}if(typeof r.shortName=="undefined"&&r.name&&r.name in _shortNames&&(r.shortName=_shortNames[r.name]),r.type===oids.extensionRequest&&(r.valueConstructed=!0,r.valueTagClass=asn1$4.Type.SEQUENCE,!r.value&&r.extensions)){r.value=[];for(var o=0;o<r.extensions.length;++o)r.value.push(pki$2.certificateExtensionToAsn1(_fillMissingExtensionFields(r.extensions[o])))}if(typeof r.value=="undefined"){var a=new Error("Attribute value not specified.");throw a.attribute=r,a}}}function _fillMissingExtensionFields(e,r){if(r=r||{},typeof e.name=="undefined"&&e.id&&e.id in pki$2.oids&&(e.name=pki$2.oids[e.id]),typeof e.id=="undefined")if(e.name&&e.name in pki$2.oids)e.id=pki$2.oids[e.name];else{var n=new Error("Extension ID not specified.");throw n.extension=e,n}if(typeof e.value!="undefined")return e;if(e.name==="keyUsage"){var a=0,o=0,u=0;e.digitalSignature&&(o|=128,a=7),e.nonRepudiation&&(o|=64,a=6),e.keyEncipherment&&(o|=32,a=5),e.dataEncipherment&&(o|=16,a=4),e.keyAgreement&&(o|=8,a=3),e.keyCertSign&&(o|=4,a=2),e.cRLSign&&(o|=2,a=1),e.encipherOnly&&(o|=1,a=0),e.decipherOnly&&(u|=128,a=7);var l=String.fromCharCode(a);u!==0?l+=String.fromCharCode(o)+String.fromCharCode(u):o!==0&&(l+=String.fromCharCode(o)),e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.BITSTRING,!1,l)}else if(e.name==="basicConstraints")e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.INTEGER,!1,asn1$4.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]);var c=e.value.value;for(var g in e)e[g]===!0&&(g in oids?c.push(asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(oids[g]).getBytes())):g.indexOf(".")!==-1&&c.push(asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(g).getBytes())))}else if(e.name==="nsCertType"){var a=0,o=0;e.client&&(o|=128,a=7),e.server&&(o|=64,a=6),e.email&&(o|=32,a=5),e.objsign&&(o|=16,a=4),e.reserved&&(o|=8,a=3),e.sslCA&&(o|=4,a=2),e.emailCA&&(o|=2,a=1),e.objCA&&(o|=1,a=0);var l=String.fromCharCode(a);o!==0&&(l+=String.fromCharCode(o)),e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.BITSTRING,!1,l)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]);for(var d,v=0;v<e.altNames.length;++v){d=e.altNames[v];var l=d.value;if(d.type===7&&d.ip){if(l=forge$b.util.bytesFromIP(d.ip),l===null){var n=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw n.extension=e,n}}else d.type===8&&(d.oid?l=asn1$4.oidToDer(asn1$4.oidToDer(d.oid)):l=asn1$4.oidToDer(l));e.value.value.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,d.type,!1,l))}}else if(e.name==="nsComment"&&r.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&r.cert){var x=r.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=x.toHex(),e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OCTETSTRING,!1,x.getBytes())}else if(e.name==="authorityKeyIdentifier"&&r.cert){e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]);var c=e.value.value;if(e.keyIdentifier){var m=e.keyIdentifier===!0?r.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;c.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,0,!1,m))}if(e.authorityCertIssuer){var E=[asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,4,!0,[_dnToAsn1(e.authorityCertIssuer===!0?r.cert.issuer:e.authorityCertIssuer)])];c.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,1,!0,E))}if(e.serialNumber){var y=forge$b.util.hexToBytes(e.serialNumber===!0?r.cert.serialNumber:e.serialNumber);c.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if(e.name==="cRLDistributionPoints"){e.value=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]);for(var c=e.value.value,C=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]),b=asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,0,!0,[]),d,v=0;v<e.altNames.length;++v){d=e.altNames[v];var l=d.value;if(d.type===7&&d.ip){if(l=forge$b.util.bytesFromIP(d.ip),l===null){var n=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw n.extension=e,n}}else d.type===8&&(d.oid?l=asn1$4.oidToDer(asn1$4.oidToDer(d.oid)):l=asn1$4.oidToDer(l));b.value.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,d.type,!1,l))}C.value.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,0,!0,[b])),c.push(C)}if(typeof e.value=="undefined"){var n=new Error("Extension value not specified.");throw n.extension=e,n}return e}function _signatureParametersToAsn1(e,r){switch(e){case oids["RSASSA-PSS"]:var n=[];return r.hash.algorithmOid!==void 0&&n.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,0,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(r.hash.algorithmOid).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.NULL,!1,"")])])),r.mgf.algorithmOid!==void 0&&n.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,1,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(r.mgf.algorithmOid).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(r.mgf.hash.algorithmOid).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.NULL,!1,"")])])])),r.saltLength!==void 0&&n.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,2,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.INTEGER,!1,asn1$4.integerToDer(r.saltLength).getBytes())])),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,n);default:return asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.NULL,!1,"")}}function _CRIAttributesToAsn1(e){var r=asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return r;for(var n=e.attributes,a=0;a<n.length;++a){var o=n[a],u=o.value,l=asn1$4.Type.UTF8;"valueTagClass"in o&&(l=o.valueTagClass),l===asn1$4.Type.UTF8&&(u=forge$b.util.encodeUtf8(u));var c=!1;"valueConstructed"in o&&(c=o.valueConstructed);var g=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(o.type).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SET,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,l,c,u)])]);r.value.push(g)}return r}var jan_1_1950=new Date("1950-01-01T00:00:00Z"),jan_1_2050=new Date("2050-01-01T00:00:00Z");function _dateToAsn1(e){return e>=jan_1_1950&&e<jan_1_2050?asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.UTCTIME,!1,asn1$4.dateToUtcTime(e)):asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.GENERALIZEDTIME,!1,asn1$4.dateToGeneralizedTime(e))}pki$2.getTBSCertificate=function(e){var r=_dateToAsn1(e.validity.notBefore),n=_dateToAsn1(e.validity.notAfter),a=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,0,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.INTEGER,!1,asn1$4.integerToDer(e.version).getBytes())]),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.INTEGER,!1,forge$b.util.hexToBytes(e.serialNumber)),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(e.siginfo.algorithmOid).getBytes()),_signatureParametersToAsn1(e.siginfo.algorithmOid,e.siginfo.parameters)]),_dnToAsn1(e.issuer),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[r,n]),_dnToAsn1(e.subject),pki$2.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&a.value.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,1,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&a.value.push(asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,2,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&a.value.push(pki$2.certificateExtensionsToAsn1(e.extensions)),a};pki$2.getCertificationRequestInfo=function(e){var r=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.INTEGER,!1,asn1$4.integerToDer(e.version).getBytes()),_dnToAsn1(e.subject),pki$2.publicKeyToAsn1(e.publicKey),_CRIAttributesToAsn1(e)]);return r};pki$2.distinguishedNameToAsn1=function(e){return _dnToAsn1(e)};pki$2.certificateToAsn1=function(e){var r=e.tbsCertificate||pki$2.getTBSCertificate(e);return asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[r,asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(e.signatureOid).getBytes()),_signatureParametersToAsn1(e.signatureOid,e.signatureParameters)]),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};pki$2.certificateExtensionsToAsn1=function(e){var r=asn1$4.create(asn1$4.Class.CONTEXT_SPECIFIC,3,!0,[]),n=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]);r.value.push(n);for(var a=0;a<e.length;++a)n.value.push(pki$2.certificateExtensionToAsn1(e[a]));return r};pki$2.certificateExtensionToAsn1=function(e){var r=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[]);r.value.push(asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(e.id).getBytes())),e.critical&&r.value.push(asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=e.value;return typeof e.value!="string"&&(n=asn1$4.toDer(n).getBytes()),r.value.push(asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OCTETSTRING,!1,n)),r};pki$2.certificationRequestToAsn1=function(e){var r=e.certificationRequestInfo||pki$2.getCertificationRequestInfo(e);return asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[r,asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(e.signatureOid).getBytes()),_signatureParametersToAsn1(e.signatureOid,e.signatureParameters)]),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};pki$2.createCaStore=function(e){var r={certs:{}};r.getIssuer=function(l){var c=n(l.issuer);return c},r.addCertificate=function(l){if(typeof l=="string"&&(l=forge$b.pki.certificateFromPem(l)),a(l.subject),!r.hasCertificate(l))if(l.subject.hash in r.certs){var c=r.certs[l.subject.hash];forge$b.util.isArray(c)||(c=[c]),c.push(l),r.certs[l.subject.hash]=c}else r.certs[l.subject.hash]=l},r.hasCertificate=function(l){typeof l=="string"&&(l=forge$b.pki.certificateFromPem(l));var c=n(l.subject);if(!c)return!1;forge$b.util.isArray(c)||(c=[c]);for(var g=asn1$4.toDer(pki$2.certificateToAsn1(l)).getBytes(),d=0;d<c.length;++d){var v=asn1$4.toDer(pki$2.certificateToAsn1(c[d])).getBytes();if(g===v)return!0}return!1},r.listAllCertificates=function(){var l=[];for(var c in r.certs)if(r.certs.hasOwnProperty(c)){var g=r.certs[c];if(!forge$b.util.isArray(g))l.push(g);else for(var d=0;d<g.length;++d)l.push(g[d])}return l},r.removeCertificate=function(l){var c;if(typeof l=="string"&&(l=forge$b.pki.certificateFromPem(l)),a(l.subject),!r.hasCertificate(l))return null;var g=n(l.subject);if(!forge$b.util.isArray(g))return c=r.certs[l.subject.hash],delete r.certs[l.subject.hash],c;for(var d=asn1$4.toDer(pki$2.certificateToAsn1(l)).getBytes(),v=0;v<g.length;++v){var x=asn1$4.toDer(pki$2.certificateToAsn1(g[v])).getBytes();d===x&&(c=g[v],g.splice(v,1))}return g.length===0&&delete r.certs[l.subject.hash],c};function n(l){return a(l),r.certs[l.hash]||null}function a(l){if(!l.hash){var c=forge$b.md.sha1.create();l.attributes=pki$2.RDNAttributesAsArray(_dnToAsn1(l),c),l.hash=c.digest().toHex()}}if(e)for(var o=0;o<e.length;++o){var u=e[o];r.addCertificate(u)}return r};pki$2.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};pki$2.verifyCertificateChain=function(e,r,n){typeof n=="function"&&(n={verify:n}),n=n||{},r=r.slice(0);var a=r.slice(0),o=n.validityCheckDate;typeof o=="undefined"&&(o=new Date);var u=!0,l=null,c=0;do{var g=r.shift(),d=null,v=!1;if(o&&(o<g.validity.notBefore||o>g.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:pki$2.certificateError.certificate_expired,notBefore:g.validity.notBefore,notAfter:g.validity.notAfter,now:o}),l===null){if(d=r[0]||e.getIssuer(g),d===null&&g.isIssuer(g)&&(v=!0,d=g),d){var x=d;forge$b.util.isArray(x)||(x=[x]);for(var m=!1;!m&&x.length>0;){d=x.shift();try{m=d.verify(g)}catch{}}m||(l={message:"Certificate signature is invalid.",error:pki$2.certificateError.bad_certificate})}l===null&&(!d||v)&&!e.hasCertificate(g)&&(l={message:"Certificate is not trusted.",error:pki$2.certificateError.unknown_ca})}if(l===null&&d&&!g.isIssuer(d)&&(l={message:"Certificate issuer is invalid.",error:pki$2.certificateError.bad_certificate}),l===null)for(var E={keyUsage:!0,basicConstraints:!0},y=0;l===null&&y<g.extensions.length;++y){var C=g.extensions[y];C.critical&&!(C.name in E)&&(l={message:"Certificate has an unsupported critical extension.",error:pki$2.certificateError.unsupported_certificate})}if(l===null&&(!u||r.length===0&&(!d||v))){var b=g.getExtension("basicConstraints"),$=g.getExtension("keyUsage");if($!==null&&(!$.keyCertSign||b===null)&&(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:pki$2.certificateError.bad_certificate}),l===null&&b!==null&&!b.cA&&(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:pki$2.certificateError.bad_certificate}),l===null&&$!==null&&"pathLenConstraint"in b){var B=c-1;B>b.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:pki$2.certificateError.bad_certificate})}}var w=l===null?!0:l.error,F=n.verify?n.verify(w,c,a):w;if(F===!0)l=null;else throw w===!0&&(l={message:"The application rejected the certificate.",error:pki$2.certificateError.bad_certificate}),(F||F===0)&&(typeof F=="object"&&!forge$b.util.isArray(F)?(F.message&&(l.message=F.message),F.error&&(l.error=F.error)):typeof F=="string"&&(l.error=F)),l;u=!1,++c}while(r.length>0);return!0};var forge$a=forge$C,asn1$3=forge$a.asn1,pki$1=forge$a.pki,p12=forge$a.pkcs12=forge$a.pkcs12||{},contentInfoValidator={name:"ContentInfo",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},pfxValidator={name:"PFX",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1,capture:"version"},contentInfoValidator,{name:"PFX.macData",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:asn1$3.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},safeBagValidator={name:"SafeBag",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},attributeValidator={name:"Attribute",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SET,constructed:!0,capture:"values"}]},certBagValidator={name:"CertBag",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function _getBagsByAttribute(e,r,n,a){for(var o=[],u=0;u<e.length;u++)for(var l=0;l<e[u].safeBags.length;l++){var c=e[u].safeBags[l];if(!(a!==void 0&&c.type!==a)){if(r===null){o.push(c);continue}c.attributes[r]!==void 0&&c.attributes[r].indexOf(n)>=0&&o.push(c)}}return o}p12.pkcs12FromAsn1=function(e,r,n){typeof r=="string"?(n=r,r=!0):r===void 0&&(r=!0);var a={},o=[];if(!asn1$3.validate(e,pfxValidator,a,o)){var u=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw u.errors=u,u}var l={version:a.version.charCodeAt(0),safeContents:[],getBags:function(b){var $={},B;return"localKeyId"in b?B=b.localKeyId:"localKeyIdHex"in b&&(B=forge$a.util.hexToBytes(b.localKeyIdHex)),B===void 0&&!("friendlyName"in b)&&"bagType"in b&&($[b.bagType]=_getBagsByAttribute(l.safeContents,null,null,b.bagType)),B!==void 0&&($.localKeyId=_getBagsByAttribute(l.safeContents,"localKeyId",B,b.bagType)),"friendlyName"in b&&($.friendlyName=_getBagsByAttribute(l.safeContents,"friendlyName",b.friendlyName,b.bagType)),$},getBagsByFriendlyName:function(b,$){return _getBagsByAttribute(l.safeContents,"friendlyName",b,$)},getBagsByLocalKeyId:function(b,$){return _getBagsByAttribute(l.safeContents,"localKeyId",b,$)}};if(a.version.charCodeAt(0)!==3){var u=new Error("PKCS#12 PFX of version other than 3 not supported.");throw u.version=a.version.charCodeAt(0),u}if(asn1$3.derToOid(a.contentType)!==pki$1.oids.data){var u=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw u.oid=asn1$3.derToOid(a.contentType),u}var c=a.content.value[0];if(c.tagClass!==asn1$3.Class.UNIVERSAL||c.type!==asn1$3.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(c=_decodePkcs7Data(c),a.mac){var g=null,d=0,v=asn1$3.derToOid(a.macAlgorithm);switch(v){case pki$1.oids.sha1:g=forge$a.md.sha1.create(),d=20;break;case pki$1.oids.sha256:g=forge$a.md.sha256.create(),d=32;break;case pki$1.oids.sha384:g=forge$a.md.sha384.create(),d=48;break;case pki$1.oids.sha512:g=forge$a.md.sha512.create(),d=64;break;case pki$1.oids.md5:g=forge$a.md.md5.create(),d=16;break}if(g===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+v);var x=new forge$a.util.ByteBuffer(a.macSalt),m="macIterations"in a?parseInt(forge$a.util.bytesToHex(a.macIterations),16):1,E=p12.generateKey(n,x,3,m,d,g),y=forge$a.hmac.create();y.start(g,E),y.update(c.value);var C=y.getMac();if(C.getBytes()!==a.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return _decodeAuthenticatedSafe(l,c.value,r,n),l};function _decodePkcs7Data(e){if(e.composed||e.constructed){for(var r=forge$a.util.createBuffer(),n=0;n<e.value.length;++n)r.putBytes(e.value[n].value);e.composed=e.constructed=!1,e.value=r.getBytes()}return e}function _decodeAuthenticatedSafe(e,r,n,a){if(r=asn1$3.fromDer(r,n),r.tagClass!==asn1$3.Class.UNIVERSAL||r.type!==asn1$3.Type.SEQUENCE||r.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var o=0;o<r.value.length;o++){var u=r.value[o],l={},c=[];if(!asn1$3.validate(u,contentInfoValidator,l,c)){var g=new Error("Cannot read ContentInfo.");throw g.errors=c,g}var d={encrypted:!1},v=null,x=l.content.value[0];switch(asn1$3.derToOid(l.contentType)){case pki$1.oids.data:if(x.tagClass!==asn1$3.Class.UNIVERSAL||x.type!==asn1$3.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");v=_decodePkcs7Data(x).value;break;case pki$1.oids.encryptedData:v=_decryptSafeContents(x,a),d.encrypted=!0;break;default:var g=new Error("Unsupported PKCS#12 contentType.");throw g.contentType=asn1$3.derToOid(l.contentType),g}d.safeBags=_decodeSafeContents(v,n,a),e.safeContents.push(d)}}function _decryptSafeContents(e,r){var n={},a=[];if(!asn1$3.validate(e,forge$a.pkcs7.asn1.encryptedDataValidator,n,a)){var o=new Error("Cannot read EncryptedContentInfo.");throw o.errors=a,o}var u=asn1$3.derToOid(n.contentType);if(u!==pki$1.oids.data){var o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw o.oid=u,o}u=asn1$3.derToOid(n.encAlgorithm);var l=pki$1.pbe.getCipher(u,n.encParameter,r),c=_decodePkcs7Data(n.encryptedContentAsn1),g=forge$a.util.createBuffer(c.value);if(l.update(g),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}function _decodeSafeContents(e,r,n){if(!r&&e.length===0)return[];if(e=asn1$3.fromDer(e,r),e.tagClass!==asn1$3.Class.UNIVERSAL||e.type!==asn1$3.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var a=[],o=0;o<e.value.length;o++){var u=e.value[o],l={},c=[];if(!asn1$3.validate(u,safeBagValidator,l,c)){var g=new Error("Cannot read SafeBag.");throw g.errors=c,g}var d={type:asn1$3.derToOid(l.bagId),attributes:_decodeBagAttributes(l.bagAttributes)};a.push(d);var v,x,m=l.bagValue.value[0];switch(d.type){case pki$1.oids.pkcs8ShroudedKeyBag:if(m=pki$1.decryptPrivateKeyInfo(m,n),m===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case pki$1.oids.keyBag:try{d.key=pki$1.privateKeyFromAsn1(m)}catch{d.key=null,d.asn1=m}continue;case pki$1.oids.certBag:v=certBagValidator,x=function(){if(asn1$3.derToOid(l.certId)!==pki$1.oids.x509Certificate){var y=new Error("Unsupported certificate type, only X.509 supported.");throw y.oid=asn1$3.derToOid(l.certId),y}var C=asn1$3.fromDer(l.cert,r);try{d.cert=pki$1.certificateFromAsn1(C,!0)}catch{d.cert=null,d.asn1=C}};break;default:var g=new Error("Unsupported PKCS#12 SafeBag type.");throw g.oid=d.type,g}if(v!==void 0&&!asn1$3.validate(m,v,l,c)){var g=new Error("Cannot read PKCS#12 "+v.name);throw g.errors=c,g}x()}return a}function _decodeBagAttributes(e){var r={};if(e!==void 0)for(var n=0;n<e.length;++n){var a={},o=[];if(!asn1$3.validate(e[n],attributeValidator,a,o)){var u=new Error("Cannot read PKCS#12 BagAttribute.");throw u.errors=o,u}var l=asn1$3.derToOid(a.oid);if(pki$1.oids[l]!==void 0){r[pki$1.oids[l]]=[];for(var c=0;c<a.values.length;++c)r[pki$1.oids[l]].push(a.values[c].value)}}return r}p12.toPkcs12Asn1=function(e,r,n,a){a=a||{},a.saltSize=a.saltSize||8,a.count=a.count||2048,a.algorithm=a.algorithm||a.encAlgorithm||"aes128","useMac"in a||(a.useMac=!0),"localKeyId"in a||(a.localKeyId=null),"generateLocalKeyId"in a||(a.generateLocalKeyId=!0);var o=a.localKeyId,u;if(o!==null)o=forge$a.util.hexToBytes(o);else if(a.generateLocalKeyId)if(r){var l=forge$a.util.isArray(r)?r[0]:r;typeof l=="string"&&(l=pki$1.certificateFromPem(l));var c=forge$a.md.sha1.create();c.update(asn1$3.toDer(pki$1.certificateToAsn1(l)).getBytes()),o=c.digest().getBytes()}else o=forge$a.random.getBytes(20);var g=[];o!==null&&g.push(asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.localKeyId).getBytes()),asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SET,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OCTETSTRING,!1,o)])])),"friendlyName"in a&&g.push(asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.friendlyName).getBytes()),asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SET,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.BMPSTRING,!1,a.friendlyName)])])),g.length>0&&(u=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SET,!0,g));var d=[],v=[];r!==null&&(forge$a.util.isArray(r)?v=r:v=[r]);for(var x=[],m=0;m<v.length;++m){r=v[m],typeof r=="string"&&(r=pki$1.certificateFromPem(r));var E=m===0?u:void 0,y=pki$1.certificateToAsn1(r),C=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.certBag).getBytes()),asn1$3.create(asn1$3.Class.CONTEXT_SPECIFIC,0,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.x509Certificate).getBytes()),asn1$3.create(asn1$3.Class.CONTEXT_SPECIFIC,0,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OCTETSTRING,!1,asn1$3.toDer(y).getBytes())])])]),E]);x.push(C)}if(x.length>0){var b=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,x),$=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.data).getBytes()),asn1$3.create(asn1$3.Class.CONTEXT_SPECIFIC,0,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OCTETSTRING,!1,asn1$3.toDer(b).getBytes())])]);d.push($)}var B=null;if(e!==null){var w=pki$1.wrapRsaPrivateKey(pki$1.privateKeyToAsn1(e));n===null?B=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.keyBag).getBytes()),asn1$3.create(asn1$3.Class.CONTEXT_SPECIFIC,0,!0,[w]),u]):B=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.pkcs8ShroudedKeyBag).getBytes()),asn1$3.create(asn1$3.Class.CONTEXT_SPECIFIC,0,!0,[pki$1.encryptPrivateKeyInfo(w,n,a)]),u]);var F=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[B]),U=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.data).getBytes()),asn1$3.create(asn1$3.Class.CONTEXT_SPECIFIC,0,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OCTETSTRING,!1,asn1$3.toDer(F).getBytes())])]);d.push(U)}var _=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,d),T;if(a.useMac){var c=forge$a.md.sha1.create(),k=new forge$a.util.ByteBuffer(forge$a.random.getBytes(a.saltSize)),N=a.count,e=p12.generateKey(n,k,3,N,20),K=forge$a.hmac.create();K.start(c,e),K.update(asn1$3.toDer(_).getBytes());var O=K.getMac();T=asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.sha1).getBytes()),asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.NULL,!1,"")]),asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OCTETSTRING,!1,O.getBytes())]),asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OCTETSTRING,!1,k.getBytes()),asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.INTEGER,!1,asn1$3.integerToDer(N).getBytes())])}return asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.INTEGER,!1,asn1$3.integerToDer(3).getBytes()),asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.SEQUENCE,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OID,!1,asn1$3.oidToDer(pki$1.oids.data).getBytes()),asn1$3.create(asn1$3.Class.CONTEXT_SPECIFIC,0,!0,[asn1$3.create(asn1$3.Class.UNIVERSAL,asn1$3.Type.OCTETSTRING,!1,asn1$3.toDer(_).getBytes())])]),T])};p12.generateKey=forge$a.pbe.generatePkcs12Key;var forge$9=forge$C,asn1$2=forge$9.asn1,pki=forge$9.pki=forge$9.pki||{};pki.pemToDer=function(e){var r=forge$9.pem.decode(e)[0];if(r.procType&&r.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return forge$9.util.createBuffer(r.body)};pki.privateKeyFromPem=function(e){var r=forge$9.pem.decode(e)[0];if(r.type!=="PRIVATE KEY"&&r.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw n.headerType=r.type,n}if(r.procType&&r.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=asn1$2.fromDer(r.body);return pki.privateKeyFromAsn1(a)};pki.privateKeyToPem=function(e,r){var n={type:"RSA PRIVATE KEY",body:asn1$2.toDer(pki.privateKeyToAsn1(e)).getBytes()};return forge$9.pem.encode(n,{maxline:r})};pki.privateKeyInfoToPem=function(e,r){var n={type:"PRIVATE KEY",body:asn1$2.toDer(e).getBytes()};return forge$9.pem.encode(n,{maxline:r})};var forge$8=forge$C,prf_TLS1=function(e,r,n,a){var o=forge$8.util.createBuffer(),u=e.length>>1,l=u+(e.length&1),c=e.substr(0,l),g=e.substr(u,l),d=forge$8.util.createBuffer(),v=forge$8.hmac.create();n=r+n;var x=Math.ceil(a/16),m=Math.ceil(a/20);v.start("MD5",c);var E=forge$8.util.createBuffer();d.putBytes(n);for(var y=0;y<x;++y)v.start(null,null),v.update(d.getBytes()),d.putBuffer(v.digest()),v.start(null,null),v.update(d.bytes()+n),E.putBuffer(v.digest());v.start("SHA1",g);var C=forge$8.util.createBuffer();d.clear(),d.putBytes(n);for(var y=0;y<m;++y)v.start(null,null),v.update(d.getBytes()),d.putBuffer(v.digest()),v.start(null,null),v.update(d.bytes()+n),C.putBuffer(v.digest());return o.putBytes(forge$8.util.xorBytes(E.getBytes(),C.getBytes(),a)),o},hmac_sha1=function(e,r,n){var a=forge$8.hmac.create();a.start("SHA1",e);var o=forge$8.util.createBuffer();return o.putInt32(r[0]),o.putInt32(r[1]),o.putByte(n.type),o.putByte(n.version.major),o.putByte(n.version.minor),o.putInt16(n.length),o.putBytes(n.fragment.bytes()),a.update(o.getBytes()),a.digest().getBytes()},deflate=function(e,r,n){var a=!1;try{var o=e.deflate(r.fragment.getBytes());r.fragment=forge$8.util.createBuffer(o),r.length=o.length,a=!0}catch{}return a},inflate=function(e,r,n){var a=!1;try{var o=e.inflate(r.fragment.getBytes());r.fragment=forge$8.util.createBuffer(o),r.length=o.length,a=!0}catch{}return a},readVector=function(e,r){var n=0;switch(r){case 1:n=e.getByte();break;case 2:n=e.getInt16();break;case 3:n=e.getInt24();break;case 4:n=e.getInt32();break}return forge$8.util.createBuffer(e.getBytes(n))},writeVector=function(e,r,n){e.putInt(n.length(),r<<3),e.putBuffer(n)},tls$1={};tls$1.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};tls$1.SupportedVersions=[tls$1.Versions.TLS_1_1,tls$1.Versions.TLS_1_0];tls$1.Version=tls$1.SupportedVersions[0];tls$1.MaxFragment=16384-1024;tls$1.ConnectionEnd={server:0,client:1};tls$1.PRFAlgorithm={tls_prf_sha256:0};tls$1.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};tls$1.CipherType={stream:0,block:1,aead:2};tls$1.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};tls$1.CompressionMethod={none:0,deflate:1};tls$1.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};tls$1.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};tls$1.Alert={};tls$1.Alert.Level={warning:1,fatal:2};tls$1.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};tls$1.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};tls$1.CipherSuites={};tls$1.getCipherSuite=function(e){var r=null;for(var n in tls$1.CipherSuites){var a=tls$1.CipherSuites[n];if(a.id[0]===e.charCodeAt(0)&&a.id[1]===e.charCodeAt(1)){r=a;break}}return r};tls$1.handleUnexpected=function(e,r){var n=!e.open&&e.entity===tls$1.ConnectionEnd.client;n||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.unexpected_message}})};tls$1.handleHelloRequest=function(e,r,n){!e.handshaking&&e.handshakes>0&&(tls$1.queue(e,tls$1.createAlert(e,{level:tls$1.Alert.Level.warning,description:tls$1.Alert.Description.no_renegotiation})),tls$1.flush(e)),e.process()};tls$1.parseHelloMessage=function(e,r,n){var a=null,o=e.entity===tls$1.ConnectionEnd.client;if(n<38)e.error(e,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.illegal_parameter}});else{var u=r.fragment,l=u.length();if(a={version:{major:u.getByte(),minor:u.getByte()},random:forge$8.util.createBuffer(u.getBytes(32)),session_id:readVector(u,1),extensions:[]},o?(a.cipher_suite=u.getBytes(2),a.compression_method=u.getByte()):(a.cipher_suites=readVector(u,2),a.compression_methods=readVector(u,1)),l=n-(l-u.length()),l>0){for(var c=readVector(u,2);c.length()>0;)a.extensions.push({type:[c.getByte(),c.getByte()],data:readVector(c,2)});if(!o)for(var g=0;g<a.extensions.length;++g){var d=a.extensions[g];if(d.type[0]===0&&d.type[1]===0)for(var v=readVector(d.data,2);v.length()>0;){var x=v.getByte();if(x!==0)break;e.session.extensions.server_name.serverNameList.push(readVector(v,2).getBytes())}}}if(e.session.version&&(a.version.major!==e.session.version.major||a.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.protocol_version}});if(o)e.session.cipherSuite=tls$1.getCipherSuite(a.cipher_suite);else for(var m=forge$8.util.createBuffer(a.cipher_suites.bytes());m.length()>0&&(e.session.cipherSuite=tls$1.getCipherSuite(m.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.handshake_failure},cipherSuite:forge$8.util.bytesToHex(a.cipher_suite)});o?e.session.compressionMethod=a.compression_method:e.session.compressionMethod=tls$1.CompressionMethod.none}return a};tls$1.createSecurityParameters=function(e,r){var n=e.entity===tls$1.ConnectionEnd.client,a=r.random.bytes(),o=n?e.session.sp.client_random:a,u=n?a:tls$1.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:tls$1.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:o,server_random:u}};tls$1.handleServerHello=function(e,r,n){var a=tls$1.parseHelloMessage(e,r,n);if(!e.fail){if(a.version.minor<=e.version.minor)e.version.minor=a.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.protocol_version}});e.session.version=e.version;var o=a.session_id.bytes();o.length>0&&o===e.session.id?(e.expect=SCC,e.session.resuming=!0,e.session.sp.server_random=a.random.bytes()):(e.expect=SCE,e.session.resuming=!1,tls$1.createSecurityParameters(e,a)),e.session.id=o,e.process()}};tls$1.handleClientHello=function(e,r,n){var a=tls$1.parseHelloMessage(e,r,n);if(!e.fail){var o=a.session_id.bytes(),u=null;if(e.sessionCache&&(u=e.sessionCache.getSession(o),u===null?o="":(u.version.major!==a.version.major||u.version.minor>a.version.minor)&&(u=null,o="")),o.length===0&&(o=forge$8.random.getBytes(32)),e.session.id=o,e.session.clientHelloVersion=a.version,e.session.sp={},u)e.version=e.session.version=u.version,e.session.sp=u.sp;else{for(var l,c=1;c<tls$1.SupportedVersions.length&&(l=tls$1.SupportedVersions[c],!(l.minor<=a.version.minor));++c);e.version={major:l.major,minor:l.minor},e.session.version=e.version}u!==null?(e.expect=CCC,e.session.resuming=!0,e.session.sp.client_random=a.random.bytes()):(e.expect=e.verifyClient!==!1?CCE:CKE,e.session.resuming=!1,tls$1.createSecurityParameters(e,a)),e.open=!0,tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createServerHello(e)})),e.session.resuming?(tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.change_cipher_spec,data:tls$1.createChangeCipherSpec()})),e.state.pending=tls$1.createConnectionState(e),e.state.current.write=e.state.pending.write,tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createFinished(e)}))):(tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createCertificate(e)})),e.fail||(tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createServerKeyExchange(e)})),e.verifyClient!==!1&&tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createCertificateRequest(e)})),tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createServerHelloDone(e)})))),tls$1.flush(e),e.process()}};tls$1.handleCertificate=function(e,r,n){if(n<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.illegal_parameter}});var a=r.fragment,o={certificate_list:readVector(a,3)},u,l,c=[];try{for(;o.certificate_list.length()>0;)u=readVector(o.certificate_list,3),l=forge$8.asn1.fromDer(u),u=forge$8.pki.certificateFromAsn1(l,!0),c.push(u)}catch(d){return e.error(e,{message:"Could not parse certificate list.",cause:d,send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.bad_certificate}})}var g=e.entity===tls$1.ConnectionEnd.client;(g||e.verifyClient===!0)&&c.length===0?e.error(e,{message:g?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.illegal_parameter}}):c.length===0?e.expect=g?SKE:CKE:(g?e.session.serverCertificate=c[0]:e.session.clientCertificate=c[0],tls$1.verifyCertificateChain(e,c)&&(e.expect=g?SKE:CKE)),e.process()};tls$1.handleServerKeyExchange=function(e,r,n){if(n>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.unsupported_certificate}});e.expect=SCR,e.process()};tls$1.handleClientKeyExchange=function(e,r,n){if(n<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.unsupported_certificate}});var a=r.fragment,o={enc_pre_master_secret:readVector(a,2).getBytes()},u=null;if(e.getPrivateKey)try{u=e.getPrivateKey(e,e.session.serverCertificate),u=forge$8.pki.privateKeyFromPem(u)}catch(g){e.error(e,{message:"Could not get private key.",cause:g,send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.internal_error}})}if(u===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.internal_error}});try{var l=e.session.sp;l.pre_master_secret=u.decrypt(o.enc_pre_master_secret);var c=e.session.clientHelloVersion;if(c.major!==l.pre_master_secret.charCodeAt(0)||c.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{l.pre_master_secret=forge$8.random.getBytes(48)}e.expect=CCC,e.session.clientCertificate!==null&&(e.expect=CCV),e.process()};tls$1.handleCertificateRequest=function(e,r,n){if(n<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.illegal_parameter}});var a=r.fragment,o={certificate_types:readVector(a,1),certificate_authorities:readVector(a,2)};e.session.certificateRequest=o,e.expect=SHD,e.process()};tls$1.handleCertificateVerify=function(e,r,n){if(n<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.illegal_parameter}});var a=r.fragment;a.read-=4;var o=a.bytes();a.read+=4;var u={signature:readVector(a,2).getBytes()},l=forge$8.util.createBuffer();l.putBuffer(e.session.md5.digest()),l.putBuffer(e.session.sha1.digest()),l=l.getBytes();try{var c=e.session.clientCertificate;if(!c.publicKey.verify(l,u.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(o),e.session.sha1.update(o)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.handshake_failure}})}e.expect=CCC,e.process()};tls$1.handleServerHelloDone=function(e,r,n){if(n>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.record_overflow}});if(e.serverCertificate===null){var a={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.insufficient_security}},o=0,u=e.verify(e,a.alert.description,o,[]);if(u!==!0)return(u||u===0)&&(typeof u=="object"&&!forge$8.util.isArray(u)?(u.message&&(a.message=u.message),u.alert&&(a.alert.description=u.alert)):typeof u=="number"&&(a.alert.description=u)),e.error(e,a)}e.session.certificateRequest!==null&&(r=tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createCertificate(e)}),tls$1.queue(e,r)),r=tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createClientKeyExchange(e)}),tls$1.queue(e,r),e.expect=SER;var l=function(c,g){c.session.certificateRequest!==null&&c.session.clientCertificate!==null&&tls$1.queue(c,tls$1.createRecord(c,{type:tls$1.ContentType.handshake,data:tls$1.createCertificateVerify(c,g)})),tls$1.queue(c,tls$1.createRecord(c,{type:tls$1.ContentType.change_cipher_spec,data:tls$1.createChangeCipherSpec()})),c.state.pending=tls$1.createConnectionState(c),c.state.current.write=c.state.pending.write,tls$1.queue(c,tls$1.createRecord(c,{type:tls$1.ContentType.handshake,data:tls$1.createFinished(c)})),c.expect=SCC,tls$1.flush(c),c.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return l(e,null);tls$1.getClientSignature(e,l)};tls$1.handleChangeCipherSpec=function(e,r){if(r.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.illegal_parameter}});var n=e.entity===tls$1.ConnectionEnd.client;(e.session.resuming&&n||!e.session.resuming&&!n)&&(e.state.pending=tls$1.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&n||e.session.resuming&&!n)&&(e.state.pending=null),e.expect=n?SFI:CFI,e.process()};tls$1.handleFinished=function(e,r,n){var a=r.fragment;a.read-=4;var o=a.bytes();a.read+=4;var u=r.fragment.getBytes();a=forge$8.util.createBuffer(),a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest());var l=e.entity===tls$1.ConnectionEnd.client,c=l?"server finished":"client finished",g=e.session.sp,d=12,v=prf_TLS1;if(a=v(g.master_secret,c,a.getBytes(),d),a.getBytes()!==u)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.decrypt_error}});e.session.md5.update(o),e.session.sha1.update(o),(e.session.resuming&&l||!e.session.resuming&&!l)&&(tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.change_cipher_spec,data:tls$1.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.handshake,data:tls$1.createFinished(e)}))),e.expect=l?SAD:CAD,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,tls$1.flush(e),e.isConnected=!0,e.connected(e),e.process()};tls$1.handleAlert=function(e,r){var n=r.fragment,a={level:n.getByte(),description:n.getByte()},o;switch(a.description){case tls$1.Alert.Description.close_notify:o="Connection closed.";break;case tls$1.Alert.Description.unexpected_message:o="Unexpected message.";break;case tls$1.Alert.Description.bad_record_mac:o="Bad record MAC.";break;case tls$1.Alert.Description.decryption_failed:o="Decryption failed.";break;case tls$1.Alert.Description.record_overflow:o="Record overflow.";break;case tls$1.Alert.Description.decompression_failure:o="Decompression failed.";break;case tls$1.Alert.Description.handshake_failure:o="Handshake failure.";break;case tls$1.Alert.Description.bad_certificate:o="Bad certificate.";break;case tls$1.Alert.Description.unsupported_certificate:o="Unsupported certificate.";break;case tls$1.Alert.Description.certificate_revoked:o="Certificate revoked.";break;case tls$1.Alert.Description.certificate_expired:o="Certificate expired.";break;case tls$1.Alert.Description.certificate_unknown:o="Certificate unknown.";break;case tls$1.Alert.Description.illegal_parameter:o="Illegal parameter.";break;case tls$1.Alert.Description.unknown_ca:o="Unknown certificate authority.";break;case tls$1.Alert.Description.access_denied:o="Access denied.";break;case tls$1.Alert.Description.decode_error:o="Decode error.";break;case tls$1.Alert.Description.decrypt_error:o="Decrypt error.";break;case tls$1.Alert.Description.export_restriction:o="Export restriction.";break;case tls$1.Alert.Description.protocol_version:o="Unsupported protocol version.";break;case tls$1.Alert.Description.insufficient_security:o="Insufficient security.";break;case tls$1.Alert.Description.internal_error:o="Internal error.";break;case tls$1.Alert.Description.user_canceled:o="User canceled.";break;case tls$1.Alert.Description.no_renegotiation:o="Renegotiation not supported.";break;default:o="Unknown error.";break}if(a.description===tls$1.Alert.Description.close_notify)return e.close();e.error(e,{message:o,send:!1,origin:e.entity===tls$1.ConnectionEnd.client?"server":"client",alert:a}),e.process()};tls$1.handleHandshake=function(e,r){var n=r.fragment,a=n.getByte(),o=n.getInt24();if(o>n.length())return e.fragmented=r,r.fragment=forge$8.util.createBuffer(),n.read-=4,e.process();e.fragmented=null,n.read-=4;var u=n.bytes(o+4);n.read+=4,a in hsTable[e.entity][e.expect]?(e.entity===tls$1.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:forge$8.md.md5.create(),sha1:forge$8.md.sha1.create()}),a!==tls$1.HandshakeType.hello_request&&a!==tls$1.HandshakeType.certificate_verify&&a!==tls$1.HandshakeType.finished&&(e.session.md5.update(u),e.session.sha1.update(u)),hsTable[e.entity][e.expect][a](e,r,o)):tls$1.handleUnexpected(e,r)};tls$1.handleApplicationData=function(e,r){e.data.putBuffer(r.fragment),e.dataReady(e),e.process()};tls$1.handleHeartbeat=function(e,r){var n=r.fragment,a=n.getByte(),o=n.getInt16(),u=n.getBytes(o);if(a===tls$1.HeartbeatMessageType.heartbeat_request){if(e.handshaking||o>u.length)return e.process();tls$1.queue(e,tls$1.createRecord(e,{type:tls$1.ContentType.heartbeat,data:tls$1.createHeartbeat(tls$1.HeartbeatMessageType.heartbeat_response,u)})),tls$1.flush(e)}else if(a===tls$1.HeartbeatMessageType.heartbeat_response){if(u!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,forge$8.util.createBuffer(u))}e.process()};var SHE=0,SCE=1,SKE=2,SCR=3,SHD=4,SCC=5,SFI=6,SAD=7,SER=8,CHE=0,CCE=1,CKE=2,CCV=3,CCC=4,CFI=5,CAD=6,__=tls$1.handleUnexpected,R0=tls$1.handleChangeCipherSpec,R1=tls$1.handleAlert,R2=tls$1.handleHandshake,R3=tls$1.handleApplicationData,R4=tls$1.handleHeartbeat,ctTable=[];ctTable[tls$1.ConnectionEnd.client]=[[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[R0,R1,__,__,R4],[__,R1,R2,__,R4],[__,R1,R2,R3,R4],[__,R1,R2,__,R4]];ctTable[tls$1.ConnectionEnd.server]=[[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[R0,R1,__,__,R4],[__,R1,R2,__,R4],[__,R1,R2,R3,R4],[__,R1,R2,__,R4]];var H0=tls$1.handleHelloRequest,H1=tls$1.handleServerHello,H2=tls$1.handleCertificate,H3=tls$1.handleServerKeyExchange,H4=tls$1.handleCertificateRequest,H5=tls$1.handleServerHelloDone,H6=tls$1.handleFinished,hsTable=[];hsTable[tls$1.ConnectionEnd.client]=[[__,__,H1,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,H2,H3,H4,H5,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,H3,H4,H5,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,H4,H5,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,H5,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,H6],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__]];var H7=tls$1.handleClientHello,H8=tls$1.handleClientKeyExchange,H9=tls$1.handleCertificateVerify;hsTable[tls$1.ConnectionEnd.server]=[[__,H7,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,H2,__,__,__,__,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,H8,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,H9,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,H6],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__]];tls$1.generateKeys=function(e,r){var n=prf_TLS1,a=r.client_random+r.server_random;e.session.resuming||(r.master_secret=n(r.pre_master_secret,"master secret",a,48).bytes(),r.pre_master_secret=null),a=r.server_random+r.client_random;var o=2*r.mac_key_length+2*r.enc_key_length,u=e.version.major===tls$1.Versions.TLS_1_0.major&&e.version.minor===tls$1.Versions.TLS_1_0.minor;u&&(o+=2*r.fixed_iv_length);var l=n(r.master_secret,"key expansion",a,o),c={client_write_MAC_key:l.getBytes(r.mac_key_length),server_write_MAC_key:l.getBytes(r.mac_key_length),client_write_key:l.getBytes(r.enc_key_length),server_write_key:l.getBytes(r.enc_key_length)};return u&&(c.client_write_IV=l.getBytes(r.fixed_iv_length),c.server_write_IV=l.getBytes(r.fixed_iv_length)),c};tls$1.createConnectionState=function(e){var r=e.entity===tls$1.ConnectionEnd.client,n=function(){var u={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(l){return!0},compressionState:null,compressFunction:function(l){return!0},updateSequenceNumber:function(){u.sequenceNumber[1]===4294967295?(u.sequenceNumber[1]=0,++u.sequenceNumber[0]):++u.sequenceNumber[1]}};return u},a={read:n(),write:n()};if(a.read.update=function(u,l){return a.read.cipherFunction(l,a.read)?a.read.compressFunction(u,l,a.read)||u.error(u,{message:"Could not decompress record.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.decompression_failure}}):u.error(u,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.bad_record_mac}}),!u.fail},a.write.update=function(u,l){return a.write.compressFunction(u,l,a.write)?a.write.cipherFunction(l,a.write)||u.error(u,{message:"Could not encrypt record.",send:!1,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.internal_error}}):u.error(u,{message:"Could not compress record.",send:!1,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.internal_error}}),!u.fail},e.session){var o=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(o),o.keys=tls$1.generateKeys(e,o),a.read.macKey=r?o.keys.server_write_MAC_key:o.keys.client_write_MAC_key,a.write.macKey=r?o.keys.client_write_MAC_key:o.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(a,e,o),o.compression_algorithm){case tls$1.CompressionMethod.none:break;case tls$1.CompressionMethod.deflate:a.read.compressFunction=inflate,a.write.compressFunction=deflate;break;default:throw new Error("Unsupported compression algorithm.")}}return a};tls$1.createRandom=function(){var e=new Date,r=+e+e.getTimezoneOffset()*6e4,n=forge$8.util.createBuffer();return n.putInt32(r),n.putBytes(forge$8.random.getBytes(28)),n};tls$1.createRecord=function(e,r){if(!r.data)return null;var n={type:r.type,version:{major:e.version.major,minor:e.version.minor},length:r.data.length(),fragment:r.data};return n};tls$1.createAlert=function(e,r){var n=forge$8.util.createBuffer();return n.putByte(r.level),n.putByte(r.description),tls$1.createRecord(e,{type:tls$1.ContentType.alert,data:n})};tls$1.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var r=forge$8.util.createBuffer(),n=0;n<e.cipherSuites.length;++n){var a=e.cipherSuites[n];r.putByte(a.id[0]),r.putByte(a.id[1])}var o=r.length(),u=forge$8.util.createBuffer();u.putByte(tls$1.CompressionMethod.none);var l=u.length(),c=forge$8.util.createBuffer();if(e.virtualHost){var g=forge$8.util.createBuffer();g.putByte(0),g.putByte(0);var d=forge$8.util.createBuffer();d.putByte(0),writeVector(d,2,forge$8.util.createBuffer(e.virtualHost));var v=forge$8.util.createBuffer();writeVector(v,2,d),writeVector(g,2,v),c.putBuffer(g)}var x=c.length();x>0&&(x+=2);var m=e.session.id,E=m.length+1+2+4+28+2+o+1+l+x,y=forge$8.util.createBuffer();return y.putByte(tls$1.HandshakeType.client_hello),y.putInt24(E),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),writeVector(y,1,forge$8.util.createBuffer(m)),writeVector(y,2,r),writeVector(y,1,u),x>0&&writeVector(y,2,c),y};tls$1.createServerHello=function(e){var r=e.session.id,n=r.length+1+2+4+28+2+1,a=forge$8.util.createBuffer();return a.putByte(tls$1.HandshakeType.server_hello),a.putInt24(n),a.putByte(e.version.major),a.putByte(e.version.minor),a.putBytes(e.session.sp.server_random),writeVector(a,1,forge$8.util.createBuffer(r)),a.putByte(e.session.cipherSuite.id[0]),a.putByte(e.session.cipherSuite.id[1]),a.putByte(e.session.compressionMethod),a};tls$1.createCertificate=function(e){var r=e.entity===tls$1.ConnectionEnd.client,n=null;if(e.getCertificate){var a;r?a=e.session.certificateRequest:a=e.session.extensions.server_name.serverNameList,n=e.getCertificate(e,a)}var o=forge$8.util.createBuffer();if(n!==null)try{forge$8.util.isArray(n)||(n=[n]);for(var u=null,l=0;l<n.length;++l){var c=forge$8.pem.decode(n[l])[0];if(c.type!=="CERTIFICATE"&&c.type!=="X509 CERTIFICATE"&&c.type!=="TRUSTED CERTIFICATE"){var g=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw g.headerType=c.type,g}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=forge$8.util.createBuffer(c.body);u===null&&(u=forge$8.asn1.fromDer(d.bytes(),!1));var v=forge$8.util.createBuffer();writeVector(v,3,d),o.putBuffer(v)}n=forge$8.pki.certificateFromAsn1(u),r?e.session.clientCertificate=n:e.session.serverCertificate=n}catch(E){return e.error(e,{message:"Could not send certificate list.",cause:E,send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.bad_certificate}})}var x=3+o.length(),m=forge$8.util.createBuffer();return m.putByte(tls$1.HandshakeType.certificate),m.putInt24(x),writeVector(m,3,o),m};tls$1.createClientKeyExchange=function(e){var r=forge$8.util.createBuffer();r.putByte(e.session.clientHelloVersion.major),r.putByte(e.session.clientHelloVersion.minor),r.putBytes(forge$8.random.getBytes(46));var n=e.session.sp;n.pre_master_secret=r.getBytes();var a=e.session.serverCertificate.publicKey;r=a.encrypt(n.pre_master_secret);var o=r.length+2,u=forge$8.util.createBuffer();return u.putByte(tls$1.HandshakeType.client_key_exchange),u.putInt24(o),u.putInt16(r.length),u.putBytes(r),u};tls$1.createServerKeyExchange=function(e){var r=forge$8.util.createBuffer();return r};tls$1.getClientSignature=function(e,r){var n=forge$8.util.createBuffer();n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest()),n=n.getBytes(),e.getSignature=e.getSignature||function(a,o,u){var l=null;if(a.getPrivateKey)try{l=a.getPrivateKey(a,a.session.clientCertificate),l=forge$8.pki.privateKeyFromPem(l)}catch(c){a.error(a,{message:"Could not get private key.",cause:c,send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.internal_error}})}l===null?a.error(a,{message:"No private key set.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.internal_error}}):o=l.sign(o,null),u(a,o)},e.getSignature(e,n,r)};tls$1.createCertificateVerify=function(e,r){var n=r.length+2,a=forge$8.util.createBuffer();return a.putByte(tls$1.HandshakeType.certificate_verify),a.putInt24(n),a.putInt16(r.length),a.putBytes(r),a};tls$1.createCertificateRequest=function(e){var r=forge$8.util.createBuffer();r.putByte(1);var n=forge$8.util.createBuffer();for(var a in e.caStore.certs){var o=e.caStore.certs[a],u=forge$8.pki.distinguishedNameToAsn1(o.subject),l=forge$8.asn1.toDer(u);n.putInt16(l.length()),n.putBuffer(l)}var c=1+r.length()+2+n.length(),g=forge$8.util.createBuffer();return g.putByte(tls$1.HandshakeType.certificate_request),g.putInt24(c),writeVector(g,1,r),writeVector(g,2,n),g};tls$1.createServerHelloDone=function(e){var r=forge$8.util.createBuffer();return r.putByte(tls$1.HandshakeType.server_hello_done),r.putInt24(0),r};tls$1.createChangeCipherSpec=function(){var e=forge$8.util.createBuffer();return e.putByte(1),e};tls$1.createFinished=function(e){var r=forge$8.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest());var n=e.entity===tls$1.ConnectionEnd.client,a=e.session.sp,o=12,u=prf_TLS1,l=n?"client finished":"server finished";r=u(a.master_secret,l,r.getBytes(),o);var c=forge$8.util.createBuffer();return c.putByte(tls$1.HandshakeType.finished),c.putInt24(r.length()),c.putBuffer(r),c};tls$1.createHeartbeat=function(e,r,n){typeof n=="undefined"&&(n=r.length);var a=forge$8.util.createBuffer();a.putByte(e),a.putInt16(n),a.putBytes(r);var o=a.length(),u=Math.max(16,o-n-3);return a.putBytes(forge$8.random.getBytes(u)),a};tls$1.queue=function(e,r){if(!!r&&!(r.fragment.length()===0&&(r.type===tls$1.ContentType.handshake||r.type===tls$1.ContentType.alert||r.type===tls$1.ContentType.change_cipher_spec))){if(r.type===tls$1.ContentType.handshake){var n=r.fragment.bytes();e.session.md5.update(n),e.session.sha1.update(n),n=null}var a;if(r.fragment.length()<=tls$1.MaxFragment)a=[r];else{a=[];for(var o=r.fragment.bytes();o.length>tls$1.MaxFragment;)a.push(tls$1.createRecord(e,{type:r.type,data:forge$8.util.createBuffer(o.slice(0,tls$1.MaxFragment))})),o=o.slice(tls$1.MaxFragment);o.length>0&&a.push(tls$1.createRecord(e,{type:r.type,data:forge$8.util.createBuffer(o)}))}for(var u=0;u<a.length&&!e.fail;++u){var l=a[u],c=e.state.current.write;c.update(e,l)&&e.records.push(l)}}};tls$1.flush=function(e){for(var r=0;r<e.records.length;++r){var n=e.records[r];e.tlsData.putByte(n.type),e.tlsData.putByte(n.version.major),e.tlsData.putByte(n.version.minor),e.tlsData.putInt16(n.fragment.length()),e.tlsData.putBuffer(e.records[r].fragment)}return e.records=[],e.tlsDataReady(e)};var _certErrorToAlertDesc=function(e){switch(e){case!0:return!0;case forge$8.pki.certificateError.bad_certificate:return tls$1.Alert.Description.bad_certificate;case forge$8.pki.certificateError.unsupported_certificate:return tls$1.Alert.Description.unsupported_certificate;case forge$8.pki.certificateError.certificate_revoked:return tls$1.Alert.Description.certificate_revoked;case forge$8.pki.certificateError.certificate_expired:return tls$1.Alert.Description.certificate_expired;case forge$8.pki.certificateError.certificate_unknown:return tls$1.Alert.Description.certificate_unknown;case forge$8.pki.certificateError.unknown_ca:return tls$1.Alert.Description.unknown_ca;default:return tls$1.Alert.Description.bad_certificate}},_alertDescToCertError=function(e){switch(e){case!0:return!0;case tls$1.Alert.Description.bad_certificate:return forge$8.pki.certificateError.bad_certificate;case tls$1.Alert.Description.unsupported_certificate:return forge$8.pki.certificateError.unsupported_certificate;case tls$1.Alert.Description.certificate_revoked:return forge$8.pki.certificateError.certificate_revoked;case tls$1.Alert.Description.certificate_expired:return forge$8.pki.certificateError.certificate_expired;case tls$1.Alert.Description.certificate_unknown:return forge$8.pki.certificateError.certificate_unknown;case tls$1.Alert.Description.unknown_ca:return forge$8.pki.certificateError.unknown_ca;default:return forge$8.pki.certificateError.bad_certificate}};tls$1.verifyCertificateChain=function(e,r){try{var n={};for(var a in e.verifyOptions)n[a]=e.verifyOptions[a];n.verify=function(u,l,c){var g=_certErrorToAlertDesc(u),d=e.verify(e,u,l,c);if(d!==!0){if(typeof d=="object"&&!forge$8.util.isArray(d)){var v=new Error("The application rejected the certificate.");throw v.send=!0,v.alert={level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.bad_certificate},d.message&&(v.message=d.message),d.alert&&(v.alert.description=d.alert),v}d!==u&&(d=_alertDescToCertError(d))}return d},forge$8.pki.verifyCertificateChain(e.caStore,r,n)}catch(u){var o=u;(typeof o!="object"||forge$8.util.isArray(o))&&(o={send:!0,alert:{level:tls$1.Alert.Level.fatal,description:_certErrorToAlertDesc(u)}}),"send"in o||(o.send=!0),"alert"in o||(o.alert={level:tls$1.Alert.Level.fatal,description:_certErrorToAlertDesc(o.error)}),e.error(e,o)}return!e.fail};tls$1.createSessionCache=function(e,r){var n=null;if(e&&e.getSession&&e.setSession&&e.order)n=e;else{n={},n.cache=e||{},n.capacity=Math.max(r||100,1),n.order=[];for(var a in e)n.order.length<=r?n.order.push(a):delete e[a];n.getSession=function(o){var u=null,l=null;if(o?l=forge$8.util.bytesToHex(o):n.order.length>0&&(l=n.order[0]),l!==null&&l in n.cache){u=n.cache[l],delete n.cache[l];for(var c in n.order)if(n.order[c]===l){n.order.splice(c,1);break}}return u},n.setSession=function(o,u){if(n.order.length===n.capacity){var l=n.order.shift();delete n.cache[l]}var l=forge$8.util.bytesToHex(o);n.order.push(l),n.cache[l]=u}}return n};tls$1.createConnection=function(e){var r=null;e.caStore?forge$8.util.isArray(e.caStore)?r=forge$8.pki.createCaStore(e.caStore):r=e.caStore:r=forge$8.pki.createCaStore();var n=e.cipherSuites||null;if(n===null){n=[];for(var a in tls$1.CipherSuites)n.push(tls$1.CipherSuites[a])}var o=e.server?tls$1.ConnectionEnd.server:tls$1.ConnectionEnd.client,u=e.sessionCache?tls$1.createSessionCache(e.sessionCache):null,l={version:{major:tls$1.Version.major,minor:tls$1.Version.minor},entity:o,sessionId:e.sessionId,caStore:r,sessionCache:u,cipherSuites:n,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(v,x,m,E){return x},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:forge$8.util.createBuffer(),tlsData:forge$8.util.createBuffer(),data:forge$8.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(v,x){x.origin=x.origin||(v.entity===tls$1.ConnectionEnd.client?"client":"server"),x.send&&(tls$1.queue(v,tls$1.createAlert(v,x.alert)),tls$1.flush(v));var m=x.fatal!==!1;m&&(v.fail=!0),e.error(v,x),m&&v.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};l.reset=function(v){l.version={major:tls$1.Version.major,minor:tls$1.Version.minor},l.record=null,l.session=null,l.peerCertificate=null,l.state={pending:null,current:null},l.expect=l.entity===tls$1.ConnectionEnd.client?SHE:CHE,l.fragmented=null,l.records=[],l.open=!1,l.handshakes=0,l.handshaking=!1,l.isConnected=!1,l.fail=!(v||typeof v=="undefined"),l.input.clear(),l.tlsData.clear(),l.data.clear(),l.state.current=tls$1.createConnectionState(l)},l.reset();var c=function(v,x){var m=x.type-tls$1.ContentType.change_cipher_spec,E=ctTable[v.entity][v.expect];m in E?E[m](v,x):tls$1.handleUnexpected(v,x)},g=function(v){var x=0,m=v.input,E=m.length();if(E<5)x=5-E;else{v.record={type:m.getByte(),version:{major:m.getByte(),minor:m.getByte()},length:m.getInt16(),fragment:forge$8.util.createBuffer(),ready:!1};var y=v.record.version.major===v.version.major;y&&v.session&&v.session.version&&(y=v.record.version.minor===v.version.minor),y||v.error(v,{message:"Incompatible TLS version.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.protocol_version}})}return x},d=function(v){var x=0,m=v.input,E=m.length();if(E<v.record.length)x=v.record.length-E;else{v.record.fragment.putBytes(m.getBytes(v.record.length)),m.compact();var y=v.state.current.read;y.update(v,v.record)&&(v.fragmented!==null&&(v.fragmented.type===v.record.type?(v.fragmented.fragment.putBuffer(v.record.fragment),v.record=v.fragmented):v.error(v,{message:"Invalid fragmented record.",send:!0,alert:{level:tls$1.Alert.Level.fatal,description:tls$1.Alert.Description.unexpected_message}})),v.record.ready=!0)}return x};return l.handshake=function(v){if(l.entity!==tls$1.ConnectionEnd.client)l.error(l,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(l.handshaking)l.error(l,{message:"Handshake already in progress.",fatal:!1});else{l.fail&&!l.open&&l.handshakes===0&&(l.fail=!1),l.handshaking=!0,v=v||"";var x=null;v.length>0&&(l.sessionCache&&(x=l.sessionCache.getSession(v)),x===null&&(v="")),v.length===0&&l.sessionCache&&(x=l.sessionCache.getSession(),x!==null&&(v=x.id)),l.session={id:v,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:forge$8.md.md5.create(),sha1:forge$8.md.sha1.create()},x&&(l.version=x.version,l.session.sp=x.sp),l.session.sp.client_random=tls$1.createRandom().getBytes(),l.open=!0,tls$1.queue(l,tls$1.createRecord(l,{type:tls$1.ContentType.handshake,data:tls$1.createClientHello(l)})),tls$1.flush(l)}},l.process=function(v){var x=0;return v&&l.input.putBytes(v),l.fail||(l.record!==null&&l.record.ready&&l.record.fragment.isEmpty()&&(l.record=null),l.record===null&&(x=g(l)),!l.fail&&l.record!==null&&!l.record.ready&&(x=d(l)),!l.fail&&l.record!==null&&l.record.ready&&c(l,l.record)),x},l.prepare=function(v){return tls$1.queue(l,tls$1.createRecord(l,{type:tls$1.ContentType.application_data,data:forge$8.util.createBuffer(v)})),tls$1.flush(l)},l.prepareHeartbeatRequest=function(v,x){return v instanceof forge$8.util.ByteBuffer&&(v=v.bytes()),typeof x=="undefined"&&(x=v.length),l.expectedHeartbeatPayload=v,tls$1.queue(l,tls$1.createRecord(l,{type:tls$1.ContentType.heartbeat,data:tls$1.createHeartbeat(tls$1.HeartbeatMessageType.heartbeat_request,v,x)})),tls$1.flush(l)},l.close=function(v){if(!l.fail&&l.sessionCache&&l.session){var x={id:l.session.id,version:l.session.version,sp:l.session.sp};x.sp.keys=null,l.sessionCache.setSession(x.id,x)}l.open&&(l.open=!1,l.input.clear(),(l.isConnected||l.handshaking)&&(l.isConnected=l.handshaking=!1,tls$1.queue(l,tls$1.createAlert(l,{level:tls$1.Alert.Level.warning,description:tls$1.Alert.Description.close_notify})),tls$1.flush(l)),l.closed(l)),l.reset(v)},l};forge$8.tls=forge$8.tls||{};for(var key in tls$1)typeof tls$1[key]!="function"&&(forge$8.tls[key]=tls$1[key]);forge$8.tls.prf_tls1=prf_TLS1;forge$8.tls.hmac_sha1=hmac_sha1;forge$8.tls.createSessionCache=tls$1.createSessionCache;forge$8.tls.createConnection=tls$1.createConnection;var forge$7=forge$C,tls=forge$7.tls;tls.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=tls.BulkCipherAlgorithm.aes,e.cipher_type=tls.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=tls.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState};tls.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=tls.BulkCipherAlgorithm.aes,e.cipher_type=tls.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=tls.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState};function initConnectionState(e,r,n){var a=r.entity===forge$7.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:forge$7.cipher.createDecipher("AES-CBC",a?n.keys.server_write_key:n.keys.client_write_key),iv:a?n.keys.server_write_IV:n.keys.client_write_IV},e.write.cipherState={init:!1,cipher:forge$7.cipher.createCipher("AES-CBC",a?n.keys.client_write_key:n.keys.server_write_key),iv:a?n.keys.client_write_IV:n.keys.server_write_IV},e.read.cipherFunction=decrypt_aes_cbc_sha1,e.write.cipherFunction=encrypt_aes_cbc_sha1,e.read.macLength=e.write.macLength=n.mac_length,e.read.macFunction=e.write.macFunction=tls.hmac_sha1}function encrypt_aes_cbc_sha1(e,r){var n=!1,a=r.macFunction(r.macKey,r.sequenceNumber,e);e.fragment.putBytes(a),r.updateSequenceNumber();var o;e.version.minor===tls.Versions.TLS_1_0.minor?o=r.cipherState.init?null:r.cipherState.iv:o=forge$7.random.getBytesSync(16),r.cipherState.init=!0;var u=r.cipherState.cipher;return u.start({iv:o}),e.version.minor>=tls.Versions.TLS_1_1.minor&&u.output.putBytes(o),u.update(e.fragment),u.finish(encrypt_aes_cbc_sha1_padding)&&(e.fragment=u.output,e.length=e.fragment.length(),n=!0),n}function encrypt_aes_cbc_sha1_padding(e,r,n){if(!n){var a=e-r.length()%e;r.fillWithByte(a-1,a)}return!0}function decrypt_aes_cbc_sha1_padding(e,r,n){var a=!0;if(n){for(var o=r.length(),u=r.last(),l=o-1-u;l<o-1;++l)a=a&&r.at(l)==u;a&&r.truncate(u+1)}return a}function decrypt_aes_cbc_sha1(e,r){var n=!1,a;e.version.minor===tls.Versions.TLS_1_0.minor?a=r.cipherState.init?null:r.cipherState.iv:a=e.fragment.getBytes(16),r.cipherState.init=!0;var o=r.cipherState.cipher;o.start({iv:a}),o.update(e.fragment),n=o.finish(decrypt_aes_cbc_sha1_padding);var u=r.macLength,l=forge$7.random.getBytesSync(u),c=o.output.length();c>=u?(e.fragment=o.output.getBytes(c-u),l=o.output.getBytes(u)):e.fragment=o.output.getBytes(),e.fragment=forge$7.util.createBuffer(e.fragment),e.length=e.fragment.length();var g=r.macFunction(r.macKey,r.sequenceNumber,e);return r.updateSequenceNumber(),n=compareMacs(r.macKey,l,g)&&n,n}function compareMacs(e,r,n){var a=forge$7.hmac.create();return a.start("SHA1",e),a.update(r),r=a.digest().getBytes(),a.start(null,null),a.update(n),n=a.digest().getBytes(),r===n}var forge$6=forge$C,sha512$1=forge$6.sha512=forge$6.sha512||{};forge$6.md.sha512=forge$6.md.algorithms.sha512=sha512$1;var sha384=forge$6.sha384=forge$6.sha512.sha384=forge$6.sha512.sha384||{};sha384.create=function(){return sha512$1.create("SHA-384")};forge$6.md.sha384=forge$6.md.algorithms.sha384=sha384;forge$6.sha512.sha256=forge$6.sha512.sha256||{create:function(){return sha512$1.create("SHA-512/256")}};forge$6.md["sha512/256"]=forge$6.md.algorithms["sha512/256"]=forge$6.sha512.sha256;forge$6.sha512.sha224=forge$6.sha512.sha224||{create:function(){return sha512$1.create("SHA-512/224")}};forge$6.md["sha512/224"]=forge$6.md.algorithms["sha512/224"]=forge$6.sha512.sha224;sha512$1.create=function(e){if(_initialized||_init(),typeof e=="undefined"&&(e="SHA-512"),!(e in _states))throw new Error("Invalid SHA-512 algorithm: "+e);for(var r=_states[e],n=null,a=forge$6.util.createBuffer(),o=new Array(80),u=0;u<80;++u)o[u]=new Array(2);var l=64;switch(e){case"SHA-384":l=48;break;case"SHA-512/256":l=32;break;case"SHA-512/224":l=28;break}var c={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:l,messageLength:0,fullMessageLength:null,messageLengthSize:16};return c.start=function(){c.messageLength=0,c.fullMessageLength=c.messageLength128=[];for(var g=c.messageLengthSize/4,d=0;d<g;++d)c.fullMessageLength.push(0);a=forge$6.util.createBuffer(),n=new Array(r.length);for(var d=0;d<r.length;++d)n[d]=r[d].slice(0);return c},c.start(),c.update=function(g,d){d==="utf8"&&(g=forge$6.util.encodeUtf8(g));var v=g.length;c.messageLength+=v,v=[v/4294967296>>>0,v>>>0];for(var x=c.fullMessageLength.length-1;x>=0;--x)c.fullMessageLength[x]+=v[1],v[1]=v[0]+(c.fullMessageLength[x]/4294967296>>>0),c.fullMessageLength[x]=c.fullMessageLength[x]>>>0,v[0]=v[1]/4294967296>>>0;return a.putBytes(g),_update(n,o,a),(a.read>2048||a.length()===0)&&a.compact(),c},c.digest=function(){var g=forge$6.util.createBuffer();g.putBytes(a.bytes());var d=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize,v=d&c.blockLength-1;g.putBytes(_padding.substr(0,c.blockLength-v));for(var x,m,E=c.fullMessageLength[0]*8,y=0;y<c.fullMessageLength.length-1;++y)x=c.fullMessageLength[y+1]*8,m=x/4294967296>>>0,E+=m,g.putInt32(E>>>0),E=x>>>0;g.putInt32(E);for(var C=new Array(n.length),y=0;y<n.length;++y)C[y]=n[y].slice(0);_update(C,o,g);var b=forge$6.util.createBuffer(),$;e==="SHA-512"?$=C.length:e==="SHA-384"?$=C.length-2:$=C.length-4;for(var y=0;y<$;++y)b.putInt32(C[y][0]),(y!==$-1||e!=="SHA-512/224")&&b.putInt32(C[y][1]);return b},c};var _padding=null,_initialized=!1,_k=null,_states=null;function _init(){_padding=String.fromCharCode(128),_padding+=forge$6.util.fillString(String.fromCharCode(0),128),_k=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],_states={},_states["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],_states["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],_states["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],_states["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],_initialized=!0}function _update(e,r,n){for(var a,o,u,l,c,g,d,v,x,m,E,y,C,b,$,B,w,F,U,_,T,k,N,K,O,V,J,H,G,te,Q,xe,ce,de,W,re=n.length();re>=128;){for(G=0;G<16;++G)r[G][0]=n.getInt32()>>>0,r[G][1]=n.getInt32()>>>0;for(;G<80;++G)xe=r[G-2],te=xe[0],Q=xe[1],a=((te>>>19|Q<<13)^(Q>>>29|te<<3)^te>>>6)>>>0,o=((te<<13|Q>>>19)^(Q<<3|te>>>29)^(te<<26|Q>>>6))>>>0,de=r[G-15],te=de[0],Q=de[1],u=((te>>>1|Q<<31)^(te>>>8|Q<<24)^te>>>7)>>>0,l=((te<<31|Q>>>1)^(te<<24|Q>>>8)^(te<<25|Q>>>7))>>>0,ce=r[G-7],W=r[G-16],Q=o+ce[1]+l+W[1],r[G][0]=a+ce[0]+u+W[0]+(Q/4294967296>>>0)>>>0,r[G][1]=Q>>>0;for(C=e[0][0],b=e[0][1],$=e[1][0],B=e[1][1],w=e[2][0],F=e[2][1],U=e[3][0],_=e[3][1],T=e[4][0],k=e[4][1],N=e[5][0],K=e[5][1],O=e[6][0],V=e[6][1],J=e[7][0],H=e[7][1],G=0;G<80;++G)d=((T>>>14|k<<18)^(T>>>18|k<<14)^(k>>>9|T<<23))>>>0,v=((T<<18|k>>>14)^(T<<14|k>>>18)^(k<<23|T>>>9))>>>0,x=(O^T&(N^O))>>>0,m=(V^k&(K^V))>>>0,c=((C>>>28|b<<4)^(b>>>2|C<<30)^(b>>>7|C<<25))>>>0,g=((C<<4|b>>>28)^(b<<30|C>>>2)^(b<<25|C>>>7))>>>0,E=(C&$|w&(C^$))>>>0,y=(b&B|F&(b^B))>>>0,Q=H+v+m+_k[G][1]+r[G][1],a=J+d+x+_k[G][0]+r[G][0]+(Q/4294967296>>>0)>>>0,o=Q>>>0,Q=g+y,u=c+E+(Q/4294967296>>>0)>>>0,l=Q>>>0,J=O,H=V,O=N,V=K,N=T,K=k,Q=_+o,T=U+a+(Q/4294967296>>>0)>>>0,k=Q>>>0,U=w,_=F,w=$,F=B,$=C,B=b,Q=o+l,C=a+u+(Q/4294967296>>>0)>>>0,b=Q>>>0;Q=e[0][1]+b,e[0][0]=e[0][0]+C+(Q/4294967296>>>0)>>>0,e[0][1]=Q>>>0,Q=e[1][1]+B,e[1][0]=e[1][0]+$+(Q/4294967296>>>0)>>>0,e[1][1]=Q>>>0,Q=e[2][1]+F,e[2][0]=e[2][0]+w+(Q/4294967296>>>0)>>>0,e[2][1]=Q>>>0,Q=e[3][1]+_,e[3][0]=e[3][0]+U+(Q/4294967296>>>0)>>>0,e[3][1]=Q>>>0,Q=e[4][1]+k,e[4][0]=e[4][0]+T+(Q/4294967296>>>0)>>>0,e[4][1]=Q>>>0,Q=e[5][1]+K,e[5][0]=e[5][0]+N+(Q/4294967296>>>0)>>>0,e[5][1]=Q>>>0,Q=e[6][1]+V,e[6][0]=e[6][0]+O+(Q/4294967296>>>0)>>>0,e[6][1]=Q>>>0,Q=e[7][1]+H,e[7][0]=e[7][0]+J+(Q/4294967296>>>0)>>>0,e[7][1]=Q>>>0,re-=128}}var asn1Validator$1={},forge$5=forge$C,asn1$1=forge$5.asn1;asn1Validator$1.privateKeyValidator={name:"PrivateKeyInfo",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};asn1Validator$1.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var forge$4=forge$C,asn1Validator=asn1Validator$1,publicKeyValidator=asn1Validator.publicKeyValidator,privateKeyValidator=asn1Validator.privateKeyValidator;if(typeof BigInteger$1=="undefined")var BigInteger$1=forge$4.jsbn.BigInteger;var ByteBuffer=forge$4.util.ByteBuffer,NativeBuffer=typeof Buffer=="undefined"?Uint8Array:Buffer;forge$4.pki=forge$4.pki||{};forge$4.pki.ed25519=forge$4.ed25519=forge$4.ed25519||{};var ed25519=forge$4.ed25519;ed25519.constants={};ed25519.constants.PUBLIC_KEY_BYTE_LENGTH=32;ed25519.constants.PRIVATE_KEY_BYTE_LENGTH=64;ed25519.constants.SEED_BYTE_LENGTH=32;ed25519.constants.SIGN_BYTE_LENGTH=64;ed25519.constants.HASH_BYTE_LENGTH=64;ed25519.generateKeyPair=function(e){e=e||{};var r=e.seed;if(r===void 0)r=forge$4.random.getBytesSync(ed25519.constants.SEED_BYTE_LENGTH);else if(typeof r=="string"){if(r.length!==ed25519.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ed25519.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(r instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');r=messageToNativeBuffer({message:r,encoding:"binary"});for(var n=new NativeBuffer(ed25519.constants.PUBLIC_KEY_BYTE_LENGTH),a=new NativeBuffer(ed25519.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)a[o]=r[o];return crypto_sign_keypair(n,a),{publicKey:n,privateKey:a}};ed25519.privateKeyFromAsn1=function(e){var r={},n=[],a=forge$4.asn1.validate(e,privateKeyValidator,r,n);if(!a){var o=new Error("Invalid Key.");throw o.errors=n,o}var u=forge$4.asn1.derToOid(r.privateKeyOid),l=forge$4.oids.EdDSA25519;if(u!==l)throw new Error('Invalid OID "'+u+'"; OID must be "'+l+'".');var c=r.privateKey,g=messageToNativeBuffer({message:forge$4.asn1.fromDer(c).value,encoding:"binary"});return{privateKeyBytes:g}};ed25519.publicKeyFromAsn1=function(e){var r={},n=[],a=forge$4.asn1.validate(e,publicKeyValidator,r,n);if(!a){var o=new Error("Invalid Key.");throw o.errors=n,o}var u=forge$4.asn1.derToOid(r.publicKeyOid),l=forge$4.oids.EdDSA25519;if(u!==l)throw new Error('Invalid OID "'+u+'"; OID must be "'+l+'".');var c=r.ed25519PublicKey;if(c.length!==ed25519.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return messageToNativeBuffer({message:c,encoding:"binary"})};ed25519.publicKeyFromPrivateKey=function(e){e=e||{};var r=messageToNativeBuffer({message:e.privateKey,encoding:"binary"});if(r.length!==ed25519.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ed25519.constants.PRIVATE_KEY_BYTE_LENGTH);for(var n=new NativeBuffer(ed25519.constants.PUBLIC_KEY_BYTE_LENGTH),a=0;a<n.length;++a)n[a]=r[32+a];return n};ed25519.sign=function(e){e=e||{};var r=messageToNativeBuffer(e),n=messageToNativeBuffer({message:e.privateKey,encoding:"binary"});if(n.length===ed25519.constants.SEED_BYTE_LENGTH){var a=ed25519.generateKeyPair({seed:n});n=a.privateKey}else if(n.length!==ed25519.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ed25519.constants.SEED_BYTE_LENGTH+" or "+ed25519.constants.PRIVATE_KEY_BYTE_LENGTH);var o=new NativeBuffer(ed25519.constants.SIGN_BYTE_LENGTH+r.length);crypto_sign(o,r,r.length,n);for(var u=new NativeBuffer(ed25519.constants.SIGN_BYTE_LENGTH),l=0;l<u.length;++l)u[l]=o[l];return u};ed25519.verify=function(e){e=e||{};var r=messageToNativeBuffer(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=messageToNativeBuffer({message:e.signature,encoding:"binary"});if(n.length!==ed25519.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+ed25519.constants.SIGN_BYTE_LENGTH);var a=messageToNativeBuffer({message:e.publicKey,encoding:"binary"});if(a.length!==ed25519.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+ed25519.constants.PUBLIC_KEY_BYTE_LENGTH);var o=new NativeBuffer(ed25519.constants.SIGN_BYTE_LENGTH+r.length),u=new NativeBuffer(ed25519.constants.SIGN_BYTE_LENGTH+r.length),l;for(l=0;l<ed25519.constants.SIGN_BYTE_LENGTH;++l)o[l]=n[l];for(l=0;l<r.length;++l)o[l+ed25519.constants.SIGN_BYTE_LENGTH]=r[l];return crypto_sign_open(u,o,o.length,a)>=0};function messageToNativeBuffer(e){var r=e.message;if(r instanceof Uint8Array||r instanceof NativeBuffer)return r;var n=e.encoding;if(r===void 0)if(e.md)r=e.md.digest().getBytes(),n="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof r=="string"&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof r=="string"){if(typeof Buffer!="undefined")return Buffer.from(r,n);r=new ByteBuffer(r,n)}else if(!(r instanceof ByteBuffer))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var a=new NativeBuffer(r.length()),o=0;o<a.length;++o)a[o]=r.at(o);return a}var gf0=gf(),gf1=gf([1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function sha512(e,r){var n=forge$4.md.sha512.create(),a=new ByteBuffer(e);n.update(a.getBytes(r),"binary");var o=n.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(o,"binary");for(var u=new NativeBuffer(ed25519.constants.HASH_BYTE_LENGTH),l=0;l<64;++l)u[l]=o.charCodeAt(l);return u}function crypto_sign_keypair(e,r){var n=[gf(),gf(),gf(),gf()],a,o=sha512(r,32);for(o[0]&=248,o[31]&=127,o[31]|=64,scalarbase(n,o),pack(e,n),a=0;a<32;++a)r[a+32]=e[a];return 0}function crypto_sign(e,r,n,a){var o,u,l=new Float64Array(64),c=[gf(),gf(),gf(),gf()],g=sha512(a,32);g[0]&=248,g[31]&=127,g[31]|=64;var d=n+64;for(o=0;o<n;++o)e[64+o]=r[o];for(o=0;o<32;++o)e[32+o]=g[32+o];var v=sha512(e.subarray(32),n+32);for(reduce(v),scalarbase(c,v),pack(e,c),o=32;o<64;++o)e[o]=a[o];var x=sha512(e,n+64);for(reduce(x),o=32;o<64;++o)l[o]=0;for(o=0;o<32;++o)l[o]=v[o];for(o=0;o<32;++o)for(u=0;u<32;u++)l[o+u]+=x[o]*g[u];return modL(e.subarray(32),l),d}function crypto_sign_open(e,r,n,a){var o,u,l=new NativeBuffer(32),c=[gf(),gf(),gf(),gf()],g=[gf(),gf(),gf(),gf()];if(u=-1,n<64||unpackneg(g,a))return-1;for(o=0;o<n;++o)e[o]=r[o];for(o=0;o<32;++o)e[o+32]=a[o];var d=sha512(e,n);if(reduce(d),scalarmult(c,g,d),scalarbase(g,r.subarray(32)),add(c,g),pack(l,c),n-=64,crypto_verify_32(r,0,l,0)){for(o=0;o<n;++o)e[o]=0;return-1}for(o=0;o<n;++o)e[o]=r[o+64];return u=n,u}function modL(e,r){var n,a,o,u;for(a=63;a>=32;--a){for(n=0,o=a-32,u=a-12;o<u;++o)r[o]+=n-16*r[a]*L[o-(a-32)],n=r[o]+128>>8,r[o]-=n*256;r[o]+=n,r[a]=0}for(n=0,o=0;o<32;++o)r[o]+=n-(r[31]>>4)*L[o],n=r[o]>>8,r[o]&=255;for(o=0;o<32;++o)r[o]-=n*L[o];for(a=0;a<32;++a)r[a+1]+=r[a]>>8,e[a]=r[a]&255}function reduce(e){for(var r=new Float64Array(64),n=0;n<64;++n)r[n]=e[n],e[n]=0;modL(e,r)}function add(e,r){var n=gf(),a=gf(),o=gf(),u=gf(),l=gf(),c=gf(),g=gf(),d=gf(),v=gf();Z(n,e[1],e[0]),Z(v,r[1],r[0]),M(n,n,v),A(a,e[0],e[1]),A(v,r[0],r[1]),M(a,a,v),M(o,e[3],r[3]),M(o,o,D2),M(u,e[2],r[2]),A(u,u,u),Z(l,a,n),Z(c,u,o),A(g,u,o),A(d,a,n),M(e[0],l,c),M(e[1],d,g),M(e[2],g,c),M(e[3],l,d)}function cswap(e,r,n){for(var a=0;a<4;++a)sel25519(e[a],r[a],n)}function pack(e,r){var n=gf(),a=gf(),o=gf();inv25519(o,r[2]),M(n,r[0],o),M(a,r[1],o),pack25519(e,a),e[31]^=par25519(n)<<7}function pack25519(e,r){var n,a,o,u=gf(),l=gf();for(n=0;n<16;++n)l[n]=r[n];for(car25519(l),car25519(l),car25519(l),a=0;a<2;++a){for(u[0]=l[0]-65517,n=1;n<15;++n)u[n]=l[n]-65535-(u[n-1]>>16&1),u[n-1]&=65535;u[15]=l[15]-32767-(u[14]>>16&1),o=u[15]>>16&1,u[14]&=65535,sel25519(l,u,1-o)}for(n=0;n<16;n++)e[2*n]=l[n]&255,e[2*n+1]=l[n]>>8}function unpackneg(e,r){var n=gf(),a=gf(),o=gf(),u=gf(),l=gf(),c=gf(),g=gf();return set25519(e[2],gf1),unpack25519(e[1],r),S(o,e[1]),M(u,o,D),Z(o,o,e[2]),A(u,e[2],u),S(l,u),S(c,l),M(g,c,l),M(n,g,o),M(n,n,u),pow2523(n,n),M(n,n,o),M(n,n,u),M(n,n,u),M(e[0],n,u),S(a,e[0]),M(a,a,u),neq25519(a,o)&&M(e[0],e[0],I),S(a,e[0]),M(a,a,u),neq25519(a,o)?-1:(par25519(e[0])===r[31]>>7&&Z(e[0],gf0,e[0]),M(e[3],e[0],e[1]),0)}function unpack25519(e,r){var n;for(n=0;n<16;++n)e[n]=r[2*n]+(r[2*n+1]<<8);e[15]&=32767}function pow2523(e,r){var n=gf(),a;for(a=0;a<16;++a)n[a]=r[a];for(a=250;a>=0;--a)S(n,n),a!==1&&M(n,n,r);for(a=0;a<16;++a)e[a]=n[a]}function neq25519(e,r){var n=new NativeBuffer(32),a=new NativeBuffer(32);return pack25519(n,e),pack25519(a,r),crypto_verify_32(n,0,a,0)}function crypto_verify_32(e,r,n,a){return vn(e,r,n,a,32)}function vn(e,r,n,a,o){var u,l=0;for(u=0;u<o;++u)l|=e[r+u]^n[a+u];return(1&l-1>>>8)-1}function par25519(e){var r=new NativeBuffer(32);return pack25519(r,e),r[0]&1}function scalarmult(e,r,n){var a,o;for(set25519(e[0],gf0),set25519(e[1],gf1),set25519(e[2],gf1),set25519(e[3],gf0),o=255;o>=0;--o)a=n[o/8|0]>>(o&7)&1,cswap(e,r,a),add(r,e),add(e,e),cswap(e,r,a)}function scalarbase(e,r){var n=[gf(),gf(),gf(),gf()];set25519(n[0],X),set25519(n[1],Y),set25519(n[2],gf1),M(n[3],X,Y),scalarmult(e,n,r)}function set25519(e,r){var n;for(n=0;n<16;n++)e[n]=r[n]|0}function inv25519(e,r){var n=gf(),a;for(a=0;a<16;++a)n[a]=r[a];for(a=253;a>=0;--a)S(n,n),a!==2&&a!==4&&M(n,n,r);for(a=0;a<16;++a)e[a]=n[a]}function car25519(e){var r,n,a=1;for(r=0;r<16;++r)n=e[r]+a+65535,a=Math.floor(n/65536),e[r]=n-a*65536;e[0]+=a-1+37*(a-1)}function sel25519(e,r,n){for(var a,o=~(n-1),u=0;u<16;++u)a=o&(e[u]^r[u]),e[u]^=a,r[u]^=a}function gf(e){var r,n=new Float64Array(16);if(e)for(r=0;r<e.length;++r)n[r]=e[r];return n}function A(e,r,n){for(var a=0;a<16;++a)e[a]=r[a]+n[a]}function Z(e,r,n){for(var a=0;a<16;++a)e[a]=r[a]-n[a]}function S(e,r){M(e,r,r)}function M(e,r,n){var a,o,u=0,l=0,c=0,g=0,d=0,v=0,x=0,m=0,E=0,y=0,C=0,b=0,$=0,B=0,w=0,F=0,U=0,_=0,T=0,k=0,N=0,K=0,O=0,V=0,J=0,H=0,G=0,te=0,Q=0,xe=0,ce=0,de=n[0],W=n[1],re=n[2],q=n[3],ie=n[4],ne=n[5],ue=n[6],se=n[7],oe=n[8],Se=n[9],be=n[10],$e=n[11],ye=n[12],j=n[13],ee=n[14],ae=n[15];a=r[0],u+=a*de,l+=a*W,c+=a*re,g+=a*q,d+=a*ie,v+=a*ne,x+=a*ue,m+=a*se,E+=a*oe,y+=a*Se,C+=a*be,b+=a*$e,$+=a*ye,B+=a*j,w+=a*ee,F+=a*ae,a=r[1],l+=a*de,c+=a*W,g+=a*re,d+=a*q,v+=a*ie,x+=a*ne,m+=a*ue,E+=a*se,y+=a*oe,C+=a*Se,b+=a*be,$+=a*$e,B+=a*ye,w+=a*j,F+=a*ee,U+=a*ae,a=r[2],c+=a*de,g+=a*W,d+=a*re,v+=a*q,x+=a*ie,m+=a*ne,E+=a*ue,y+=a*se,C+=a*oe,b+=a*Se,$+=a*be,B+=a*$e,w+=a*ye,F+=a*j,U+=a*ee,_+=a*ae,a=r[3],g+=a*de,d+=a*W,v+=a*re,x+=a*q,m+=a*ie,E+=a*ne,y+=a*ue,C+=a*se,b+=a*oe,$+=a*Se,B+=a*be,w+=a*$e,F+=a*ye,U+=a*j,_+=a*ee,T+=a*ae,a=r[4],d+=a*de,v+=a*W,x+=a*re,m+=a*q,E+=a*ie,y+=a*ne,C+=a*ue,b+=a*se,$+=a*oe,B+=a*Se,w+=a*be,F+=a*$e,U+=a*ye,_+=a*j,T+=a*ee,k+=a*ae,a=r[5],v+=a*de,x+=a*W,m+=a*re,E+=a*q,y+=a*ie,C+=a*ne,b+=a*ue,$+=a*se,B+=a*oe,w+=a*Se,F+=a*be,U+=a*$e,_+=a*ye,T+=a*j,k+=a*ee,N+=a*ae,a=r[6],x+=a*de,m+=a*W,E+=a*re,y+=a*q,C+=a*ie,b+=a*ne,$+=a*ue,B+=a*se,w+=a*oe,F+=a*Se,U+=a*be,_+=a*$e,T+=a*ye,k+=a*j,N+=a*ee,K+=a*ae,a=r[7],m+=a*de,E+=a*W,y+=a*re,C+=a*q,b+=a*ie,$+=a*ne,B+=a*ue,w+=a*se,F+=a*oe,U+=a*Se,_+=a*be,T+=a*$e,k+=a*ye,N+=a*j,K+=a*ee,O+=a*ae,a=r[8],E+=a*de,y+=a*W,C+=a*re,b+=a*q,$+=a*ie,B+=a*ne,w+=a*ue,F+=a*se,U+=a*oe,_+=a*Se,T+=a*be,k+=a*$e,N+=a*ye,K+=a*j,O+=a*ee,V+=a*ae,a=r[9],y+=a*de,C+=a*W,b+=a*re,$+=a*q,B+=a*ie,w+=a*ne,F+=a*ue,U+=a*se,_+=a*oe,T+=a*Se,k+=a*be,N+=a*$e,K+=a*ye,O+=a*j,V+=a*ee,J+=a*ae,a=r[10],C+=a*de,b+=a*W,$+=a*re,B+=a*q,w+=a*ie,F+=a*ne,U+=a*ue,_+=a*se,T+=a*oe,k+=a*Se,N+=a*be,K+=a*$e,O+=a*ye,V+=a*j,J+=a*ee,H+=a*ae,a=r[11],b+=a*de,$+=a*W,B+=a*re,w+=a*q,F+=a*ie,U+=a*ne,_+=a*ue,T+=a*se,k+=a*oe,N+=a*Se,K+=a*be,O+=a*$e,V+=a*ye,J+=a*j,H+=a*ee,G+=a*ae,a=r[12],$+=a*de,B+=a*W,w+=a*re,F+=a*q,U+=a*ie,_+=a*ne,T+=a*ue,k+=a*se,N+=a*oe,K+=a*Se,O+=a*be,V+=a*$e,J+=a*ye,H+=a*j,G+=a*ee,te+=a*ae,a=r[13],B+=a*de,w+=a*W,F+=a*re,U+=a*q,_+=a*ie,T+=a*ne,k+=a*ue,N+=a*se,K+=a*oe,O+=a*Se,V+=a*be,J+=a*$e,H+=a*ye,G+=a*j,te+=a*ee,Q+=a*ae,a=r[14],w+=a*de,F+=a*W,U+=a*re,_+=a*q,T+=a*ie,k+=a*ne,N+=a*ue,K+=a*se,O+=a*oe,V+=a*Se,J+=a*be,H+=a*$e,G+=a*ye,te+=a*j,Q+=a*ee,xe+=a*ae,a=r[15],F+=a*de,U+=a*W,_+=a*re,T+=a*q,k+=a*ie,N+=a*ne,K+=a*ue,O+=a*se,V+=a*oe,J+=a*Se,H+=a*be,G+=a*$e,te+=a*ye,Q+=a*j,xe+=a*ee,ce+=a*ae,u+=38*U,l+=38*_,c+=38*T,g+=38*k,d+=38*N,v+=38*K,x+=38*O,m+=38*V,E+=38*J,y+=38*H,C+=38*G,b+=38*te,$+=38*Q,B+=38*xe,w+=38*ce,o=1,a=u+o+65535,o=Math.floor(a/65536),u=a-o*65536,a=l+o+65535,o=Math.floor(a/65536),l=a-o*65536,a=c+o+65535,o=Math.floor(a/65536),c=a-o*65536,a=g+o+65535,o=Math.floor(a/65536),g=a-o*65536,a=d+o+65535,o=Math.floor(a/65536),d=a-o*65536,a=v+o+65535,o=Math.floor(a/65536),v=a-o*65536,a=x+o+65535,o=Math.floor(a/65536),x=a-o*65536,a=m+o+65535,o=Math.floor(a/65536),m=a-o*65536,a=E+o+65535,o=Math.floor(a/65536),E=a-o*65536,a=y+o+65535,o=Math.floor(a/65536),y=a-o*65536,a=C+o+65535,o=Math.floor(a/65536),C=a-o*65536,a=b+o+65535,o=Math.floor(a/65536),b=a-o*65536,a=$+o+65535,o=Math.floor(a/65536),$=a-o*65536,a=B+o+65535,o=Math.floor(a/65536),B=a-o*65536,a=w+o+65535,o=Math.floor(a/65536),w=a-o*65536,a=F+o+65535,o=Math.floor(a/65536),F=a-o*65536,u+=o-1+37*(o-1),o=1,a=u+o+65535,o=Math.floor(a/65536),u=a-o*65536,a=l+o+65535,o=Math.floor(a/65536),l=a-o*65536,a=c+o+65535,o=Math.floor(a/65536),c=a-o*65536,a=g+o+65535,o=Math.floor(a/65536),g=a-o*65536,a=d+o+65535,o=Math.floor(a/65536),d=a-o*65536,a=v+o+65535,o=Math.floor(a/65536),v=a-o*65536,a=x+o+65535,o=Math.floor(a/65536),x=a-o*65536,a=m+o+65535,o=Math.floor(a/65536),m=a-o*65536,a=E+o+65535,o=Math.floor(a/65536),E=a-o*65536,a=y+o+65535,o=Math.floor(a/65536),y=a-o*65536,a=C+o+65535,o=Math.floor(a/65536),C=a-o*65536,a=b+o+65535,o=Math.floor(a/65536),b=a-o*65536,a=$+o+65535,o=Math.floor(a/65536),$=a-o*65536,a=B+o+65535,o=Math.floor(a/65536),B=a-o*65536,a=w+o+65535,o=Math.floor(a/65536),w=a-o*65536,a=F+o+65535,o=Math.floor(a/65536),F=a-o*65536,u+=o-1+37*(o-1),e[0]=u,e[1]=l,e[2]=c,e[3]=g,e[4]=d,e[5]=v,e[6]=x,e[7]=m,e[8]=E,e[9]=y,e[10]=C,e[11]=b,e[12]=$,e[13]=B,e[14]=w,e[15]=F}var forge$3=forge$C;forge$3.kem=forge$3.kem||{};var BigInteger=forge$3.jsbn.BigInteger;forge$3.kem.rsa={};forge$3.kem.rsa.create=function(e,r){r=r||{};var n=r.prng||forge$3.random,a={};return a.encrypt=function(o,u){var l=Math.ceil(o.n.bitLength()/8),c;do c=new BigInteger(forge$3.util.bytesToHex(n.getBytesSync(l)),16).mod(o.n);while(c.compareTo(BigInteger.ONE)<=0);c=forge$3.util.hexToBytes(c.toString(16));var g=l-c.length;g>0&&(c=forge$3.util.fillString(String.fromCharCode(0),g)+c);var d=o.encrypt(c,"NONE"),v=e.generate(c,u);return{encapsulation:d,key:v}},a.decrypt=function(o,u,l){var c=o.decrypt(u,"NONE");return e.generate(c,l)},a};forge$3.kem.kdf1=function(e,r){_createKDF(this,e,0,r||e.digestLength)};forge$3.kem.kdf2=function(e,r){_createKDF(this,e,1,r||e.digestLength)};function _createKDF(e,r,n,a){e.generate=function(o,u){for(var l=new forge$3.util.ByteBuffer,c=Math.ceil(u/a)+n,g=new forge$3.util.ByteBuffer,d=n;d<c;++d){g.putInt32(d),r.start(),r.update(o+g.getBytes());var v=r.digest();l.putBytes(v.getBytes(a))}return l.truncate(l.length()-u),l.getBytes()}}var forge$2=forge$C;forge$2.log=forge$2.log||{};forge$2.log.levels=["none","error","warning","info","debug","verbose","max"];var sLevelInfo={},sLoggers=[],sConsoleLogger=null;forge$2.log.LEVEL_LOCKED=1<<1;forge$2.log.NO_LEVEL_CHECK=1<<2;forge$2.log.INTERPOLATE=1<<3;for(var i=0;i<forge$2.log.levels.length;++i){var level=forge$2.log.levels[i];sLevelInfo[level]={index:i,name:level.toUpperCase()}}forge$2.log.logMessage=function(e){for(var r=sLevelInfo[e.level].index,n=0;n<sLoggers.length;++n){var a=sLoggers[n];if(a.flags&forge$2.log.NO_LEVEL_CHECK)a.f(e);else{var o=sLevelInfo[a.level].index;r<=o&&a.f(a,e)}}};forge$2.log.prepareStandard=function(e){"standard"in e||(e.standard=sLevelInfo[e.level].name+" ["+e.category+"] "+e.message)};forge$2.log.prepareFull=function(e){if(!("full"in e)){var r=[e.message];r=r.concat([]),e.full=forge$2.util.format.apply(this,r)}};forge$2.log.prepareStandardFull=function(e){"standardFull"in e||(forge$2.log.prepareStandard(e),e.standardFull=e.standard)};for(var levels=["error","warning","info","debug","verbose"],i=0;i<levels.length;++i)(function(r){forge$2.log[r]=function(n,a){var o=Array.prototype.slice.call(arguments).slice(2),u={timestamp:new Date,level:r,category:n,message:a,arguments:o};forge$2.log.logMessage(u)}})(levels[i]);forge$2.log.makeLogger=function(e){var r={flags:0,f:e};return forge$2.log.setLevel(r,"none"),r};forge$2.log.setLevel=function(e,r){var n=!1;if(e&&!(e.flags&forge$2.log.LEVEL_LOCKED))for(var a=0;a<forge$2.log.levels.length;++a){var o=forge$2.log.levels[a];if(r==o){e.level=r,n=!0;break}}return n};forge$2.log.lock=function(e,r){typeof r=="undefined"||r?e.flags|=forge$2.log.LEVEL_LOCKED:e.flags&=~forge$2.log.LEVEL_LOCKED};forge$2.log.addLogger=function(e){sLoggers.push(e)};if(typeof console!="undefined"&&"log"in console){var logger;if(console.error&&console.warn&&console.info&&console.debug){var levelHandlers={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},f=function(e,r){forge$2.log.prepareStandard(r);var n=levelHandlers[r.level],a=[r.standard];a=a.concat(r.arguments.slice()),n.apply(console,a)};logger=forge$2.log.makeLogger(f)}else{var f=function(r,n){forge$2.log.prepareStandardFull(n),console.log(n.standardFull)};logger=forge$2.log.makeLogger(f)}forge$2.log.setLevel(logger,"debug"),forge$2.log.addLogger(logger),sConsoleLogger=logger}else console={log:function(){}};if(sConsoleLogger!==null&&typeof window!="undefined"&&window.location){var query=new URL(window.location.href).searchParams;if(query.has("console.level")&&forge$2.log.setLevel(sConsoleLogger,query.get("console.level").slice(-1)[0]),query.has("console.lock")){var lock=query.get("console.lock").slice(-1)[0];lock=="true"&&forge$2.log.lock(sConsoleLogger)}}forge$2.log.consoleLogger=sConsoleLogger;var forge$1=forge$C,asn1=forge$1.asn1,p7=forge$1.pkcs7=forge$1.pkcs7||{};p7.messageFromPem=function(e){var r=forge$1.pem.decode(e)[0];if(r.type!=="PKCS7"){var n=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw n.headerType=r.type,n}if(r.procType&&r.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=asn1.fromDer(r.body);return p7.messageFromAsn1(a)};p7.messageToPem=function(e,r){var n={type:"PKCS7",body:asn1.toDer(e.toAsn1()).getBytes()};return forge$1.pem.encode(n,{maxline:r})};p7.messageFromAsn1=function(e){var r={},n=[];if(!asn1.validate(e,p7.asn1.contentInfoValidator,r,n)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=n,a}var o=asn1.derToOid(r.contentType),u;switch(o){case forge$1.pki.oids.envelopedData:u=p7.createEnvelopedData();break;case forge$1.pki.oids.encryptedData:u=p7.createEncryptedData();break;case forge$1.pki.oids.signedData:u=p7.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+o+" is not (yet) supported.")}return u.fromAsn1(r.content.value[0]),u};p7.createSignedData=function(){var e=null;return e={type:forge$1.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(a){if(_fromAsn1(e,a,p7.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var o=e.rawCapture.certificates.value,u=0;u<o.length;++u)e.certificates.push(forge$1.pki.certificateFromAsn1(o[u]))},toAsn1:function(){e.contentInfo||e.sign();for(var a=[],o=0;o<e.certificates.length;++o)a.push(forge$1.pki.certificateToAsn1(e.certificates[o]));var u=[],l=asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(e.version).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return a.length>0&&l.value[0].value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,a)),u.length>0&&l.value[0].value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,1,!0,u)),l.value[0].value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,e.signerInfos)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(e.type).getBytes()),l])},addSigner:function(a){var o=a.issuer,u=a.serialNumber;if(a.certificate){var l=a.certificate;typeof l=="string"&&(l=forge$1.pki.certificateFromPem(l)),o=l.issuer.attributes,u=l.serialNumber}var c=a.key;if(!c)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof c=="string"&&(c=forge$1.pki.privateKeyFromPem(c));var g=a.digestAlgorithm||forge$1.pki.oids.sha1;switch(g){case forge$1.pki.oids.sha1:case forge$1.pki.oids.sha256:case forge$1.pki.oids.sha384:case forge$1.pki.oids.sha512:case forge$1.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+g)}var d=a.authenticatedAttributes||[];if(d.length>0){for(var v=!1,x=!1,m=0;m<d.length;++m){var E=d[m];if(!v&&E.type===forge$1.pki.oids.contentType){if(v=!0,x)break;continue}if(!x&&E.type===forge$1.pki.oids.messageDigest){if(x=!0,v)break;continue}}if(!v||!x)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:c,version:1,issuer:o,serialNumber:u,digestAlgorithm:g,signatureAlgorithm:forge$1.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:d,unauthenticatedAttributes:[]})},sign:function(a){if(a=a||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(forge$1.pki.oids.data).getBytes())]),"content"in e)){var o;e.content instanceof forge$1.util.ByteBuffer?o=e.content.bytes():typeof e.content=="string"&&(o=forge$1.util.encodeUtf8(e.content)),a.detached?e.detachedContent=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,o):e.contentInfo.value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,o)]))}if(e.signers.length!==0){var u=r();n(u)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(a){typeof a=="string"&&(a=forge$1.pki.certificateFromPem(a)),e.certificates.push(a)},addCertificateRevokationList:function(a){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function r(){for(var a={},o=0;o<e.signers.length;++o){var u=e.signers[o],l=u.digestAlgorithm;l in a||(a[l]=forge$1.md[forge$1.pki.oids[l]].create()),u.authenticatedAttributes.length===0?u.md=a[l]:u.md=forge$1.md[forge$1.pki.oids[l]].create()}e.digestAlgorithmIdentifiers=[];for(var l in a)e.digestAlgorithmIdentifiers.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(l).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")]));return a}function n(a){var o;if(e.detachedContent?o=e.detachedContent:(o=e.contentInfo.value[1],o=o.value[0]),!o)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var u=asn1.derToOid(e.contentInfo.value[0].value),l=asn1.toDer(o);l.getByte(),asn1.getBerValueLength(l),l=l.getBytes();for(var c in a)a[c].start().update(l);for(var g=new Date,d=0;d<e.signers.length;++d){var v=e.signers[d];if(v.authenticatedAttributes.length===0){if(u!==forge$1.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{v.authenticatedAttributesAsn1=asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var x=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,[]),m=0;m<v.authenticatedAttributes.length;++m){var E=v.authenticatedAttributes[m];E.type===forge$1.pki.oids.messageDigest?E.value=a[v.digestAlgorithm].digest():E.type===forge$1.pki.oids.signingTime&&(E.value||(E.value=g)),x.value.push(_attributeToAsn1(E)),v.authenticatedAttributesAsn1.value.push(_attributeToAsn1(E))}l=asn1.toDer(x).getBytes(),v.md.start().update(l)}v.signature=v.key.sign(v.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=_signersToAsn1(e.signers)}};p7.createEncryptedData=function(){var e=null;return e={type:forge$1.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:forge$1.pki.oids["aes256-CBC"]},fromAsn1:function(r){_fromAsn1(e,r,p7.asn1.encryptedDataValidator)},decrypt:function(r){r!==void 0&&(e.encryptedContent.key=r),_decryptContent(e)}},e};p7.createEnvelopedData=function(){var e=null;return e={type:forge$1.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:forge$1.pki.oids["aes256-CBC"]},fromAsn1:function(r){var n=_fromAsn1(e,r,p7.asn1.envelopedDataValidator);e.recipients=_recipientsFromAsn1(n.recipientInfos.value)},toAsn1:function(){return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(e.type).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(e.version).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,_recipientsToAsn1(e.recipients)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,_encryptedContentToAsn1(e.encryptedContent))])])])},findRecipient:function(r){for(var n=r.issuer.attributes,a=0;a<e.recipients.length;++a){var o=e.recipients[a],u=o.issuer;if(o.serialNumber===r.serialNumber&&u.length===n.length){for(var l=!0,c=0;c<n.length;++c)if(u[c].type!==n[c].type||u[c].value!==n[c].value){l=!1;break}if(l)return o}}return null},decrypt:function(r,n){if(e.encryptedContent.key===void 0&&r!==void 0&&n!==void 0)switch(r.encryptedContent.algorithm){case forge$1.pki.oids.rsaEncryption:case forge$1.pki.oids.desCBC:var a=n.decrypt(r.encryptedContent.content);e.encryptedContent.key=forge$1.util.createBuffer(a);break;default:throw new Error("Unsupported asymmetric cipher, OID "+r.encryptedContent.algorithm)}_decryptContent(e)},addRecipient:function(r){e.recipients.push({version:0,issuer:r.issuer.attributes,serialNumber:r.serialNumber,encryptedContent:{algorithm:forge$1.pki.oids.rsaEncryption,key:r.publicKey}})},encrypt:function(r,n){if(e.encryptedContent.content===void 0){n=n||e.encryptedContent.algorithm,r=r||e.encryptedContent.key;var a,o,u;switch(n){case forge$1.pki.oids["aes128-CBC"]:a=16,o=16,u=forge$1.aes.createEncryptionCipher;break;case forge$1.pki.oids["aes192-CBC"]:a=24,o=16,u=forge$1.aes.createEncryptionCipher;break;case forge$1.pki.oids["aes256-CBC"]:a=32,o=16,u=forge$1.aes.createEncryptionCipher;break;case forge$1.pki.oids["des-EDE3-CBC"]:a=24,o=8,u=forge$1.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(r===void 0)r=forge$1.util.createBuffer(forge$1.random.getBytes(a));else if(r.length()!=a)throw new Error("Symmetric key has wrong length; got "+r.length()+" bytes, expected "+a+".");e.encryptedContent.algorithm=n,e.encryptedContent.key=r,e.encryptedContent.parameter=forge$1.util.createBuffer(forge$1.random.getBytes(o));var l=u(r);if(l.start(e.encryptedContent.parameter.copy()),l.update(e.content),!l.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=l.output}for(var c=0;c<e.recipients.length;++c){var g=e.recipients[c];if(g.encryptedContent.content===void 0)switch(g.encryptedContent.algorithm){case forge$1.pki.oids.rsaEncryption:g.encryptedContent.content=g.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+g.encryptedContent.algorithm)}}}},e};function _recipientFromAsn1(e){var r={},n=[];if(!asn1.validate(e,p7.asn1.recipientInfoValidator,r,n)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=n,a}return{version:r.version.charCodeAt(0),issuer:forge$1.pki.RDNAttributesAsArray(r.issuer),serialNumber:forge$1.util.createBuffer(r.serial).toHex(),encryptedContent:{algorithm:asn1.derToOid(r.encAlgorithm),parameter:r.encParameter?r.encParameter.value:void 0,content:r.encKey}}}function _recipientToAsn1(e){return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(e.version).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[forge$1.pki.distinguishedNameToAsn1({attributes:e.issuer}),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,forge$1.util.hexToBytes(e.serialNumber))]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(e.encryptedContent.algorithm).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function _recipientsFromAsn1(e){for(var r=[],n=0;n<e.length;++n)r.push(_recipientFromAsn1(e[n]));return r}function _recipientsToAsn1(e){for(var r=[],n=0;n<e.length;++n)r.push(_recipientToAsn1(e[n]));return r}function _signerToAsn1(e){var r=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(e.version).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[forge$1.pki.distinguishedNameToAsn1({attributes:e.issuer}),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,forge$1.util.hexToBytes(e.serialNumber))]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(e.digestAlgorithm).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&r.value.push(e.authenticatedAttributesAsn1),r.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(e.signatureAlgorithm).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")])),r.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var n=asn1.create(asn1.Class.CONTEXT_SPECIFIC,1,!0,[]),a=0;a<e.unauthenticatedAttributes.length;++a){var o=e.unauthenticatedAttributes[a];n.values.push(_attributeToAsn1(o))}r.value.push(n)}return r}function _signersToAsn1(e){for(var r=[],n=0;n<e.length;++n)r.push(_signerToAsn1(e[n]));return r}function _attributeToAsn1(e){var r;if(e.type===forge$1.pki.oids.contentType)r=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(e.value).getBytes());else if(e.type===forge$1.pki.oids.messageDigest)r=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===forge$1.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),a=new Date("2050-01-01T00:00:00Z"),o=e.value;if(typeof o=="string"){var u=Date.parse(o);isNaN(u)?o.length===13?o=asn1.utcTimeToDate(o):o=asn1.generalizedTimeToDate(o):o=new Date(u)}o>=n&&o<a?r=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.UTCTIME,!1,asn1.dateToUtcTime(o)):r=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.GENERALIZEDTIME,!1,asn1.dateToGeneralizedTime(o))}return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(e.type).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,[r])])}function _encryptedContentToAsn1(e){return[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(forge$1.pki.oids.data).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(e.algorithm).getBytes()),e.parameter?asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,e.content.getBytes())])]}function _fromAsn1(e,r,n){var a={},o=[];if(!asn1.validate(r,n,a,o)){var u=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw u.errors=u,u}var l=asn1.derToOid(a.contentType);if(l!==forge$1.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(a.encryptedContent){var c="";if(forge$1.util.isArray(a.encryptedContent))for(var g=0;g<a.encryptedContent.length;++g){if(a.encryptedContent[g].type!==asn1.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");c+=a.encryptedContent[g].value}else c=a.encryptedContent;e.encryptedContent={algorithm:asn1.derToOid(a.encAlgorithm),parameter:forge$1.util.createBuffer(a.encParameter.value),content:forge$1.util.createBuffer(c)}}if(a.content){var c="";if(forge$1.util.isArray(a.content))for(var g=0;g<a.content.length;++g){if(a.content[g].type!==asn1.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");c+=a.content[g].value}else c=a.content;e.content=forge$1.util.createBuffer(c)}return e.version=a.version.charCodeAt(0),e.rawCapture=a,a}function _decryptContent(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var r;switch(e.encryptedContent.algorithm){case forge$1.pki.oids["aes128-CBC"]:case forge$1.pki.oids["aes192-CBC"]:case forge$1.pki.oids["aes256-CBC"]:r=forge$1.aes.createDecryptionCipher(e.encryptedContent.key);break;case forge$1.pki.oids.desCBC:case forge$1.pki.oids["des-EDE3-CBC"]:r=forge$1.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(r.start(e.encryptedContent.parameter),r.update(e.encryptedContent.content),!r.finish())throw new Error("Symmetric decryption failed.");e.content=r.output}}var forge=forge$C,ssh=forge.ssh=forge.ssh||{};ssh.privateKeyToPutty=function(e,r,n){n=n||"",r=r||"";var a="ssh-rsa",o=r===""?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: "+a+`\r
`;u+="Encryption: "+o+`\r
`,u+="Comment: "+n+`\r
`;var l=forge.util.createBuffer();_addStringToBuffer(l,a),_addBigIntegerToBuffer(l,e.e),_addBigIntegerToBuffer(l,e.n);var c=forge.util.encode64(l.bytes(),64),g=Math.floor(c.length/66)+1;u+="Public-Lines: "+g+`\r
`,u+=c;var d=forge.util.createBuffer();_addBigIntegerToBuffer(d,e.d),_addBigIntegerToBuffer(d,e.p),_addBigIntegerToBuffer(d,e.q),_addBigIntegerToBuffer(d,e.qInv);var v;if(!r)v=forge.util.encode64(d.bytes(),64);else{var x=d.length()+16-1;x-=x%16;var m=_sha1(d.bytes());m.truncate(m.length()-x+d.length()),d.putBuffer(m);var E=forge.util.createBuffer();E.putBuffer(_sha1("\0\0\0\0",r)),E.putBuffer(_sha1("\0\0\0",r));var y=forge.aes.createEncryptionCipher(E.truncate(8),"CBC");y.start(forge.util.createBuffer().fillWithByte(0,16)),y.update(d.copy()),y.finish();var C=y.output;C.truncate(16),v=forge.util.encode64(C.bytes(),64)}g=Math.floor(v.length/66)+1,u+=`\r
Private-Lines: `+g+`\r
`,u+=v;var b=_sha1("putty-private-key-file-mac-key",r),$=forge.util.createBuffer();_addStringToBuffer($,a),_addStringToBuffer($,o),_addStringToBuffer($,n),$.putInt32(l.length()),$.putBuffer(l),$.putInt32(d.length()),$.putBuffer(d);var B=forge.hmac.create();return B.start("sha1",b),B.update($.bytes()),u+=`\r
Private-MAC: `+B.digest().toHex()+`\r
`,u};ssh.publicKeyToOpenSSH=function(e,r){var n="ssh-rsa";r=r||"";var a=forge.util.createBuffer();return _addStringToBuffer(a,n),_addBigIntegerToBuffer(a,e.e),_addBigIntegerToBuffer(a,e.n),n+" "+forge.util.encode64(a.bytes())+" "+r};ssh.privateKeyToOpenSSH=function(e,r){return r?forge.pki.encryptRsaPrivateKey(e,r,{legacy:!0,algorithm:"aes128"}):forge.pki.privateKeyToPem(e)};ssh.getPublicKeyFingerprint=function(e,r){r=r||{};var n=r.md||forge.md.md5.create(),a="ssh-rsa",o=forge.util.createBuffer();_addStringToBuffer(o,a),_addBigIntegerToBuffer(o,e.e),_addBigIntegerToBuffer(o,e.n),n.start(),n.update(o.getBytes());var u=n.digest();if(r.encoding==="hex"){var l=u.toHex();return r.delimiter?l.match(/.{2}/g).join(r.delimiter):l}else{if(r.encoding==="binary")return u.getBytes();if(r.encoding)throw new Error('Unknown encoding "'+r.encoding+'".')}return u};function _addBigIntegerToBuffer(e,r){var n=r.toString(16);n[0]>="8"&&(n="00"+n);var a=forge.util.hexToBytes(n);e.putInt32(a.length),e.putBytes(a)}function _addStringToBuffer(e,r){e.putInt32(r.length),e.putString(r)}function _sha1(){for(var e=forge.md.sha1.create(),r=arguments.length,n=0;n<r;++n)e.update(arguments[n]);return e.digest()}var lib=forge$C;useRouter();const service=axios.create({baseURL:"http://www.ftyyds.com/esay",timeout:3e4,headers:{"Content-Type":"application/json;charset=utf-8"}});service.interceptors.request.use(e=>{if(useUserStore(),!e.headers)throw new Error("Expected 'config' and 'config.headers' not to be undefined");if(getToken()&&(e.headers.Satoken=getToken()),e.data!=null){let r=getKey();e.data=encrypt(JSON.stringify(e.data),r),e.headers.signa=pubencrypt(r,getRsapublickey())}return e.headers.Tenant_Id=getTenantId(),e},e=>Promise.reject(e));service.interceptors.response.use(e=>{let r=e.data;if(r.code==null){if(!pubverify(e.headers.signa,getRsapublickey(),e.headers.sign)){handleError();return}r=JSON.parse(aesDecrypt(r,e.headers.signa))}const{code:n,msg:a}=r;if(n===200)return r;if(n===401)handleError();else return Dialog.alert({message:a}),Promise.reject(new Error(a))},e=>{console.log("\u8BF7\u6C42\u5F02\u5E38\uFF1A",e);let r="\u670D\u52A1\u5668\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5!";return Promise.reject(new Error(r))});function handleError(e){removeUserId(),removeUserType(),removeToken(),removeTenantId(),removeRsapublickey(),window.location.href="/#/login"}function getKey(e=16){var r=["!","@","#","$","%","&","*","(",")","_",1,2,3,4,5,6,7,8,9],n=Math.floor(Math.random()*e),a=n;a=a+r[n];for(let o=0;o<Math.floor(e/2)-1;o++)n=Math.floor(Math.random()*26),a=a+String.fromCharCode(65+n);for(let o=0;o<e-Math.floor(e/2)-1;o++)n=Math.floor(Math.random()*26),a=a+String.fromCharCode(97+n);return a}function encrypt(e,r){const n=CryptoJS.enc.Utf8.parse(r);return CryptoJS.AES.encrypt(e,n,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString()}function pubencrypt(e,r){const n=`-----BEGIN PUBLIC KEY-----
`+r+`
-----END PUBLIC KEY-----`;let a=lib.pki.publicKeyFromPem(n),u=lib.util.createBuffer(e,"utf8").getBytes();return lib.util.encode64(a.encrypt(u,"RSAES-PKCS1-V1_5"))}function pubverify(e,r,n){const a=`-----BEGIN PUBLIC KEY-----
`+r+`
-----END PUBLIC KEY-----`;try{let o=new KJUR_1.crypto.Signature({alg:"MD5withRSA"});return o.init(a),o.updateString(e),o.verify(b64tohex_1(n))}catch(o){console.log(o)}}function aesDecrypt(e,r){return CryptoJS.AES.decrypt(e.toString(),CryptoJS.enc.Utf8.parse(r),{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8)}const BASE_API="/rest/v1/user";var sysUserApi={getCaptcha(e){return service({url:"/rest/v1/auth/qrcode",method:"post",data:e,headers:{Tenant_Flag:"true"}})},login(e){return service({url:"/app/v1/auth/logintelegrame",method:"post",data:e,headers:{Tenant_Flag:"true"}})},logout(){return service({url:"/app/v1/auth/logoutapp",method:"get"})},getuser(){return service({url:"/app/v1/auth/getuser",method:"get"})},getuseraccount(e){return service({url:"/app/v1/auth/getuseraccount/"+e,method:"get"})},listPage(e,r){return service({url:BASE_API+"/list",method:"post",data:e,headers:r})},list(e){return service({url:BASE_API+"/list",method:"post",data:e})},add(e){return service({url:BASE_API,method:"post",data:e})},update(e){return service({url:BASE_API,method:"put",data:e})},delete(e){return service({url:BASE_API+"/"+e,method:"delete"})},get(e){return service({url:BASE_API+"/"+e,method:"get"})},updateStatus(e,r){return service({url:BASE_API+"/updateStatus",method:"post",data:{userId:e,status:r}})},getrsakey(){return service({url:"/rest/v1/auth/getrsakey",method:"get"})},verCaptcha(e){return service({url:"/rest/v1/auth/verqrcode",method:"post",data:e,headers:{Tenant_Flag:"true"}})},checkgoogle(e){return service({url:BASE_API+"/checkgoogle/"+e,method:"post"})},resetpassword(e){return service({url:BASE_API,method:"put",data:e})}};async function apilogin(e,r,n){return(await sysUserApi.login({username:e,password:r,code:n})).body}async function apiinitrsakey(){return(await sysUserApi.getrsakey()).body}async function apiGetUserInfo(){return(await sysUserApi.getuser()).body}async function apiGetUserAccount(e){return(await sysUserApi.getuseraccount(e)).body}async function apilogout(){return(await sysUserApi.logout()).body}const useUserStore=defineStore({id:"userInfo",state:()=>({token:null,rsapublickey:null,tenantId:null,tokenName:null,usertype:null,userId:null,userName:null,avatar:null,nickName:null,permissions:[],roles:[]}),actions:{Login:function(e){const r=e.name.trim(),n=e.password.trim(),a=e.tgid.trim();return new Promise((o,u)=>{apilogin(r,n,a).then(l=>{console.info(l),setToken(l.tokenValue),setTenantId(l.tenantId),this.token=l.token,this.tenantId=l.tenantId,this.tokenName=l.tokenName,this.usertype=l.accounttype,setUserName(r),setUserType(l.accounttype),apiGetUserInfo().then(c=>{this.userId=c,setUserId(this.userId),o()})}).catch(l=>{u(l)})})},Initrsakey:function(){apiinitrsakey().then(e=>{setRsapublickey(e)})},GetUserInfo:function(){apiGetUserInfo().then(e=>{this.userId=e.userid})},LogOut:function(){apilogout().then(()=>{removeToken(),removeUserId(),removeTenantId()})}}}),whiteList=["/login"];router.beforeEach((e,r,n)=>{const a=useUserStore(),o=useSettingStore();getToken()?(e.meta.title&&o.setTitle(e.meta.title),e.path==="/login"?n({path:"/"}):getUserId()==null?(a.GetUserInfo(),n(We(Xe({},e),{replace:!1}))):n()):whiteList.indexOf(e.path)!==-1?n():n("/login")});var hasPermi={mounted(e,r,n){const a=useUserStore(),{value:o}=r,u="*:*:*",l=a.permissions;if(o&&o instanceof Array&&o.length>0){const c=o;l.some(d=>u===d||c.includes(d))||e.parentNode&&e.parentNode.removeChild(e)}else throw new Error("\u8BF7\u8BBE\u7F6E\u64CD\u4F5C\u6743\u9650\u6807\u7B7E\u503C")}},hasRole={mounted(e,r,n){const a=useUserStore(),{value:o}=r,u="admin",l=a.roles;if(o&&o instanceof Array&&o.length>0){const c=o;l.some(d=>u===d||c.includes(d))||e.parentNode&&e.parentNode.removeChild(e)}else throw new Error('\u8BF7\u8BBE\u7F6E\u89D2\u8272\u6743\u9650\u6807\u7B7E\u503C"')}},has={mounted(el,binding,vnode){const userStore=useUserStore();var{value}=binding;const R=/R\((.*?)\)/g,Rs=value.match(R)||[],P=/P\((.*?)\)/g,Ps=value.match(P)||[];for(let e=0;e<Rs.length;e++)value=userStore.roles.some(n=>Rs[e]===`R(${n})`)?value.replace(Rs[e],"true"):value.replace(Rs[e],"false");for(let e=0;e<Ps.length;e++)value=userStore.permissions.some(n=>Ps[e]===`P(${n})`)?value.replace(Ps[e],"true"):value.replace(Ps[e],"false");eval(value)||el.parentNode&&el.parentNode.removeChild(el)}};function directive(e){e.directive("hasPermi",hasPermi),e.directive("hasRole",hasRole),e.directive("has",has)}var index$h="",index$g="",index$f="",index$e="",index$d="",index$c="",index$b="",index$a="",index$9="",index$8="",index$7="",index$6="",index$5="",index$4="",index$3="",index$2="",index$1="",index="";const app=createApp(_sfc_main$3);app.use(createPinia());app.use(router);app.use(List);app.use(Cell);app.use(Search);app.use(PullRefresh);app.use(Grid);app.use(GridItem);app.use(Image);app.use(Divider);app.use(Icon);app.use(Form);app.use(Field);app.use(CellGroup);app.use(Button);app.use(Uploader);app.use(Notify);app.use(Overlay);app.use(Loading);app.use(Tag);app.use(Popover);app.use(Picker);app.use(Popup);app.use(Area);directive(app);app.component("svg-icon",_sfc_main);app.mount("#app");export{getDefaultExportFromCjs as A,Fragment as F,Notify as N,useUserStore as a,apiGetUserAccount as b,openBlock as c,createElementBlock as d,resolveComponent as e,createVNode as f,getUserId as g,renderList as h,createBlock as i,createBaseVNode as j,unref as k,isRef as l,createTextVNode as m,getToken as n,onMounted as o,getTenantId as p,axios as q,ref as r,service as s,toDisplayString as t,useRouter as u,getUserName as v,withCtx as w,pushScopeId as x,popScopeId as y,commonjsGlobal as z};

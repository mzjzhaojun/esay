import{m as U}from"./merchantaisle.4f893b76.js";import{r as l,e as v,c,d as _,f,w as V,g as w,F as B,h as L,i as S}from"./index.5ac32ff6.js";const F={setup(b){const n=l([]),o=l(!1),s=l(!1),u=l(!1),r=l(1),p=l("");function m(){setTimeout(()=>{u.value&&(n.value=[],u.value=!1),g()},1e3)}function y(){n.value=[],r.value=1,g()}async function g(){let h={pageNum:r.value,pageSize:10},a={userid:w()},t=await U.page(a,h);if(console.info(t),t.body.records.length>0){let i=t.body.records;i.length>0?(i.forEach(d=>{n.value.push(d)}),o.value=!1,r.value++):s.value=!0}else s.value=!0,o.value=!1}function k(){s.value=!1,o.value=!0,r.value=1,n.value=[],m()}return(h,a)=>{const t=v("van-search"),i=v("van-cell"),d=v("van-list"),x=v("van-pull-refresh");return c(),_("div",null,[f(t,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),"input-align":"center",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u540D\u79F0",onSearch:y},null,8,["modelValue"]),f(x,{modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=e=>u.value=e),onRefresh:k},{default:V(()=>[f(d,{loading:o.value,"onUpdate:loading":a[1]||(a[1]=e=>o.value=e),finished:s.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:V(()=>[(c(!0),_(B,null,L(n.value,e=>(c(),S(i,{key:e,title:e.name,value:e.code},null,8,["title","value"]))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}};export{F as default};

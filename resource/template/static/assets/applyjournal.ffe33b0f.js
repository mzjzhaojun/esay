import{s as n,r as o,e as p,c as h,d as k,f as g,w as B,g as U,F as w,h as A,i as E}from"./index.c25cc860.js";const r="/rest/v1/merchantaccountrecord";var L={page(e,t){return n({url:r+"/page",method:"post",data:e,headers:t})},list(e){return n({url:r+"/list",method:"post",data:e})},add(e){return n({url:r,method:"post",data:e})},update(e){return n({url:r,method:"put",data:e})},delete(e){return n({url:r+"/"+e,method:"delete"})},get(){return n({url:r+"/data",method:"get"})}};const F={setup(e){const t=o([]),u=o(!1),d=o(!1),c=o(!1),i=o(1),f=o("");function _(){setTimeout(()=>{c.value&&(t.value=[],c.value=!1),y()},1e3)}function b(){t.value=[],i.value=1,y()}async function y(){let V={pageNum:i.value,pageSize:10,orderBy:"create_time",dir:"desc"},l={accname:f.value,userid:U()},s=await L.page(l,V);if(console.info(s),s.body.records.length>0){let v=s.body.records;v.length>0?(v.forEach(m=>{t.value.push(m)}),u.value=!1,i.value++):d.value=!0}else d.value=!0,u.value=!1}function x(){d.value=!1,u.value=!0,i.value=1,t.value=[],_()}return(V,l)=>{const s=p("van-search"),v=p("van-cell"),m=p("van-list"),S=p("van-pull-refresh");return h(),k("div",null,[g(s,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=a=>f.value=a),"input-align":"center",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u540D\u79F0",onSearch:b},null,8,["modelValue"]),g(S,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=a=>c.value=a),onRefresh:x},{default:B(()=>[g(m,{loading:u.value,"onUpdate:loading":l[1]||(l[1]=a=>u.value=a),finished:d.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:_},{default:B(()=>[(h(!0),k(w,null,A(t.value,a=>(h(),E(v,{key:a,title:a.remark,value:a.typename,label:a.create_time},null,8,["title","value","label"]))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}};export{F as default};

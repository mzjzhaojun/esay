import{g as S,r as g,a as n,b as y,c as C,w as t,d as e,u as o,i as b,j as U,k as z}from"./index-65a05d71.js";const J={__name:"tgmerchantgroup",setup(E){const{proxy:p}=S();let m=g({}),u=g({}),r=g(!1),c=g(""),h=g({merchantname:[{required:!0,message:"请输入商户名称",trigger:"blur"}],merchantcode:[{required:!0,message:"请输入商户标签",trigger:"blur"}],tggroupname:[{required:!0,message:"请输入商户群名",trigger:"blur"}]});function i(){p.$refs.baseTableRef.refresh()}function x(){u.value={status:!0},c.value="add",r.value=!0}function T(s){u.value=Object.assign({},s),c.value="update",r.value=!0}async function $(s){let l=await p.$api.agent.tgmerchantgroup(s.id);i(),p.submitOk(l.message)}function O(){p.$refs.dataFormRef.validate(async s=>{if(s){let l=await p.$api.tgmerchantgroup[u.value.id?"update":"add"](u.value);p.submitOk(l.message),i(),r.value=!1}})}function G(s){}return(s,l)=>{const v=n("base-input"),w=n("el-col"),R=n("base-select-no"),_=n("el-button"),L=n("el-row"),j=n("base-header"),d=n("el-table-column"),q=n("base-switch"),F=n("base-delete-btn"),N=n("base-table-p"),B=n("base-content"),V=n("base-input-no"),f=n("el-form-item"),D=n("base-radio-group"),A=n("el-form"),I=n("base-dialog"),Q=n("base-wrapper");return y(),C(Q,null,{default:t(()=>[e(j,null,{default:t(()=>[e(L,null,{default:t(()=>[e(w,{span:4.5},{default:t(()=>[e(v,{modelValue:o(m).name,"onUpdate:modelValue":l[0]||(l[0]=a=>o(m).name=a),label:"代理名称",onClear:i},null,8,["modelValue"])]),_:1}),e(w,{span:4.5},{default:t(()=>[e(v,{modelValue:o(m).nkname,"onUpdate:modelValue":l[1]||(l[1]=a=>o(m).nkname=a),label:"代理标签",onClear:i},null,8,["modelValue"])]),_:1}),e(R,{modelValue:o(m).status,"onUpdate:modelValue":l[2]||(l[2]=a=>o(m).status=a),label:"状态","tag-type":"success",onClear:i,style:{"margin-right":"10px"},clearable:"","option-props":{label:"name",value:"value"},dataList:s.statusList},null,8,["modelValue","dataList"]),e(w,{span:4.5},{default:t(()=>[e(_,{type:"primary",onClick:i},{default:t(()=>[b("查询")]),_:1}),e(_,{type:"success",onClick:x},{default:t(()=>[b("添加")]),_:1})]),_:1})]),_:1})]),_:1}),e(B,null,{default:t(()=>[e(N,{ref:"baseTableRef",api:"tgmerchantgroup.page",params:o(m),indexCode:!0},{default:t(()=>[e(d,{label:"商户名称",prop:"merchantname"}),e(d,{label:"商户标签",prop:"merchantcode"}),e(d,{label:"状态"},{default:t(a=>[e(q,{modelValue:a.row.status,"onUpdate:modelValue":k=>a.row.status=k,api:"tgmerchantgroup.update",params:{id:a.row.id,status:!a.row.status}},null,8,["modelValue","onUpdate:modelValue","params"])]),_:1}),e(d,{label:"Tg-id",prop:"tgid"}),e(d,{label:"Tg-群名称",prop:"tggroupname"}),e(d,{label:"备注",prop:"remark"}),e(d,{label:"创建时间",prop:"create_time"}),e(d,{label:"操作"},{default:t(a=>[e(_,{type:"primary",link:"",onClick:k=>T(a.row)},{default:t(()=>[b("编辑")]),_:2},1032,["onClick"]),e(_,{type:"success",link:"",onClick:k=>(a.row,void 0)},{default:t(()=>[b("设置标签")]),_:2},1032,["onClick"]),e(F,{onOk:k=>$(a.row)},null,8,["onOk"])]),_:1})]),_:1},8,["params"])]),_:1}),o(c)==="add"||o(c)==="update"?(y(),C(I,{key:0,modelValue:o(r),"onUpdate:modelValue":l[9]||(l[9]=a=>U(r)?r.value=a:r=a),title:s.dialogTitleObj[o(c)],width:"23%"},{footer:t(()=>[e(_,{onClick:l[8]||(l[8]=a=>U(r)?r.value=!1:r=!1)},{default:t(()=>[b("取 消")]),_:1}),e(_,{type:"primary",onClick:O},{default:t(()=>[b("确 定")]),_:1})]),default:t(()=>[e(A,{inline:!0,ref:"dataFormRef",rules:o(h),model:o(u),"label-width":"100px"},{default:t(()=>[e(f,{label:"商户名称:",prop:"merchantname"},{default:t(()=>[e(V,{modelValue:o(u).merchantname,"onUpdate:modelValue":l[3]||(l[3]=a=>o(u).merchantname=a)},null,8,["modelValue"])]),_:1}),e(f,{label:"商户标签:",prop:"merchantcode"},{default:t(()=>[e(V,{modelValue:o(u).merchantcode,"onUpdate:modelValue":l[4]||(l[4]=a=>o(u).merchantcode=a)},null,8,["modelValue"])]),_:1}),e(f,{label:"商户群名称:",prop:"tggroupname"},{default:t(()=>[e(V,{modelValue:o(u).tggroupname,"onUpdate:modelValue":l[5]||(l[5]=a=>o(u).tggroupname=a)},null,8,["modelValue"])]),_:1}),e(f,{label:"状态:",prop:"status"},{default:t(()=>[e(D,{modelValue:o(u).status,"onUpdate:modelValue":l[6]||(l[6]=a=>o(u).status=a)},null,8,["modelValue"])]),_:1}),e(f,{label:"备注:"},{default:t(()=>[e(V,{modelValue:o(u).remark,"onUpdate:modelValue":l[7]||(l[7]=a=>o(u).remark=a),type:"textarea",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])):z("",!0)]),_:1})}}};export{J as default};

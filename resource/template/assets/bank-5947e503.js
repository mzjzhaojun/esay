import{g as A,r as b,a as u,b as I,c as Q,w as t,d as e,u as o,i as _,j as v}from"./index-e6078610.js";const E={__name:"bank",setup(S){const{proxy:m}=A();let V=b({}),n=b({}),s=b(!1),g=b(""),w=b({name:[{required:!0,message:"名称不得为空",trigger:"blur"}],code:[{required:!0,message:"编码不得为空",trigger:"blur"}],spanme:[{required:!0,message:"简称不得为空",trigger:"blur"}]});function f(){m.$refs.baseTableRef.refresh()}function y(){n.value={status:!0,sort:100},g.value="add",s.value=!0}function C(d){n.value=Object.assign({},d),g.value="update",s.value=!0}async function U(d){let a=await m.$api.sys_bank.delete(d.id);f(),m.submitOk(a.message)}function x(){m.$refs.dataFormRef.validate(async d=>{if(d){let a=await m.$api.sys_bank[n.value.id?"update":"add"](n.value);m.submitOk(a.message),f(),s.value=!1}})}return(d,a)=>{const O=u("base-input"),p=u("el-button"),$=u("base-header"),r=u("el-table-column"),R=u("base-tag"),T=u("base-delete-btn"),j=u("base-table-p"),q=u("base-content"),c=u("base-input-no"),i=u("el-form-item"),F=u("base-radio-group"),B=u("el-form"),D=u("base-dialog"),N=u("base-wrapper");return I(),Q(N,null,{default:t(()=>[e($,null,{default:t(()=>[e(O,{modelValue:o(V).name,"onUpdate:modelValue":a[0]||(a[0]=l=>o(V).name=l),label:"银行名称",onClear:f},null,8,["modelValue"]),e(p,{type:"primary",onClick:f},{default:t(()=>[_("查询")]),_:1}),e(p,{type:"success",onClick:y},{default:t(()=>[_("添加")]),_:1})]),_:1}),e(q,null,{default:t(()=>[e(j,{ref:"baseTableRef",api:"sys_post.page",params:o(V),indexCode:!0},{default:t(()=>[e(r,{label:"银行名称",prop:"deptname"}),e(r,{label:"银行卡代码",prop:"name"}),e(r,{label:"银行卡简称",prop:"code"}),e(r,{label:"排序",prop:"sort"}),e(r,{label:"状态"},{default:t(l=>[e(R,{modelValue:l.row.status,"onUpdate:modelValue":k=>l.row.status=k},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(r,{label:"备注",prop:"remark"}),e(r,{label:"创建时间",prop:"create_time"}),e(r,{label:"操作"},{default:t(l=>[e(p,{link:"",onClick:k=>C(l.row)},{default:t(()=>[_("编辑")]),_:2},1032,["onClick"]),e(T,{onOk:k=>U(l.row)},null,8,["onOk"])]),_:1})]),_:1},8,["params"])]),_:1}),e(D,{modelValue:o(s),"onUpdate:modelValue":a[7]||(a[7]=l=>v(s)?s.value=l:s=l),title:d.dialogTitleObj[o(g)],width:"23%"},{footer:t(()=>[e(p,{onClick:a[6]||(a[6]=l=>v(s)?s.value=!1:s=!1)},{default:t(()=>[_("取 消")]),_:1}),e(p,{type:"primary",onClick:x},{default:t(()=>[_("确 定")]),_:1})]),default:t(()=>[e(B,{ref:"dataFormRef",model:o(n),rules:o(w),"label-width":"100px"},{default:t(()=>[e(i,{label:"银行名称:",prop:"name"},{default:t(()=>[e(c,{modelValue:o(n).name,"onUpdate:modelValue":a[1]||(a[1]=l=>o(n).name=l)},null,8,["modelValue"])]),_:1}),e(i,{label:"银行编码:",prop:"code"},{default:t(()=>[e(c,{modelValue:o(n).code,"onUpdate:modelValue":a[2]||(a[2]=l=>o(n).code=l)},null,8,["modelValue"])]),_:1}),e(i,{label:"状态:"},{default:t(()=>[e(F,{modelValue:o(n).status,"onUpdate:modelValue":a[3]||(a[3]=l=>o(n).status=l)},null,8,["modelValue"])]),_:1}),e(i,{label:"银行简称:"},{default:t(()=>[e(c,{modelValue:o(n).spanme,"onUpdate:modelValue":a[4]||(a[4]=l=>o(n).spanme=l)},null,8,["modelValue"])]),_:1}),e(i,{label:"备注:"},{default:t(()=>[e(c,{modelValue:o(n).remark,"onUpdate:modelValue":a[5]||(a[5]=l=>o(n).remark=l),rows:2,type:"textarea",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])]),_:1})}}};export{E as default};

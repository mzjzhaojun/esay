import{g as A,r as _,a as u,b as I,c as Q,w as t,d as e,u as o,i as f,j as v}from"./index-3e58188c.js";const E={__name:"bank",setup(S){const{proxy:m}=A();let c=_({}),n=_({}),s=_(!1),g=_(""),w=_({name:[{required:!0,message:"名称不得为空",trigger:"blur"}],code:[{required:!0,message:"编码不得为空",trigger:"blur"}],spname:[{required:!0,message:"简称不得为空",trigger:"blur"}]});function V(){m.$refs.baseTableRef.refresh()}function y(){n.value={status:!0,sort:100},g.value="add",s.value=!0}function C(r){n.value=Object.assign({},r),g.value="update",s.value=!0}async function U(r){let a=await m.$api.sys_bank.delete(r.id);V(),m.submitOk(a.message)}function x(){m.$refs.dataFormRef.validate(async r=>{if(r){let a=await m.$api.sys_bank[n.value.id?"update":"add"](n.value);m.submitOk(a.message),V(),s.value=!1}})}return(r,a)=>{const O=u("base-input"),b=u("el-button"),$=u("base-header"),d=u("el-table-column"),R=u("base-tag"),T=u("base-delete-btn"),j=u("base-table-p"),q=u("base-content"),i=u("base-input-no"),p=u("el-form-item"),F=u("base-radio-group"),B=u("el-form"),D=u("base-dialog"),N=u("base-wrapper");return I(),Q(N,null,{default:t(()=>[e($,null,{default:t(()=>[e(O,{modelValue:o(c).name,"onUpdate:modelValue":a[0]||(a[0]=l=>o(c).name=l),label:"银行名称",onClear:V},null,8,["modelValue"]),e(b,{type:"primary",onClick:V},{default:t(()=>[f("查询")]),_:1}),e(b,{type:"success",onClick:y},{default:t(()=>[f("添加")]),_:1})]),_:1}),e(q,null,{default:t(()=>[e(j,{ref:"baseTableRef",api:"sys_bank.page",params:o(c),indexCode:!0},{default:t(()=>[e(d,{label:"银行名称",prop:"name"}),e(d,{label:"银行卡代码",prop:"code"}),e(d,{label:"银行卡简称",prop:"spname"}),e(d,{label:"排序",prop:"sort"}),e(d,{label:"状态"},{default:t(l=>[e(R,{modelValue:l.row.status,"onUpdate:modelValue":k=>l.row.status=k},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"备注",prop:"remark"}),e(d,{label:"创建时间",prop:"create_time"}),e(d,{label:"操作"},{default:t(l=>[e(b,{link:"",onClick:k=>C(l.row)},{default:t(()=>[f("编辑")]),_:2},1032,["onClick"]),e(T,{onOk:k=>U(l.row)},null,8,["onOk"])]),_:1})]),_:1},8,["params"])]),_:1}),e(D,{modelValue:o(s),"onUpdate:modelValue":a[8]||(a[8]=l=>v(s)?s.value=l:s=l),title:r.dialogTitleObj[o(g)],width:"23%"},{footer:t(()=>[e(b,{onClick:a[7]||(a[7]=l=>v(s)?s.value=!1:s=!1)},{default:t(()=>[f("取 消")]),_:1}),e(b,{type:"primary",onClick:x},{default:t(()=>[f("确 定")]),_:1})]),default:t(()=>[e(B,{ref:"dataFormRef",model:o(n),rules:o(w),"label-width":"100px"},{default:t(()=>[e(p,{label:"银行名称:",prop:"name"},{default:t(()=>[e(i,{modelValue:o(n).name,"onUpdate:modelValue":a[1]||(a[1]=l=>o(n).name=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"银行编码:",prop:"code"},{default:t(()=>[e(i,{modelValue:o(n).code,"onUpdate:modelValue":a[2]||(a[2]=l=>o(n).code=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"状态:"},{default:t(()=>[e(F,{modelValue:o(n).status,"onUpdate:modelValue":a[3]||(a[3]=l=>o(n).status=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"银行简称:",prop:"spname"},{default:t(()=>[e(i,{modelValue:o(n).spname,"onUpdate:modelValue":a[4]||(a[4]=l=>o(n).spname=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"排序:"},{default:t(()=>[e(i,{modelValue:o(n).sort,"onUpdate:modelValue":a[5]||(a[5]=l=>o(n).sort=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"备注:"},{default:t(()=>[e(i,{modelValue:o(n).remark,"onUpdate:modelValue":a[6]||(a[6]=l=>o(n).remark=l),rows:2,type:"textarea",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])]),_:1})}}};export{E as default};

import{g as I,r as b,a as o,b as y,c as C,w as a,d as e,u as t,i as f,j as w,k as Q}from"./index-e96609df.js";const E={__name:"tgmerchantlabel",setup(S){const{proxy:m}=I();let d=b({}),u=b({}),s=b(!1),i=b(""),x=b({name:[{required:!0,message:"请输入标签名称",trigger:"blur"}]});function p(){m.$refs.baseTableRef.refresh()}function U(){u.value={status:!0},i.value="add",s.value=!0}function O(r){u.value=Object.assign({},r),i.value="update",s.value=!0}async function $(r){let l=await m.$api.tgmerchantlabel.delete(r.id);p(),m.submitOk(l.message)}function R(){m.$refs.dataFormRef.validate(async r=>{if(r){let l=await m.$api.tgmerchantlabel[u.value.id?"update":"add"](u.value);m.submitOk(l.message),p(),s.value=!1}})}return(r,l)=>{const g=o("base-input"),V=o("el-col"),T=o("base-select-no"),_=o("el-button"),h=o("el-row"),j=o("base-header"),c=o("el-table-column"),F=o("base-delete-btn"),L=o("base-table-p"),N=o("base-content"),k=o("base-input-no"),v=o("el-form-item"),B=o("el-form"),D=o("base-dialog"),q=o("base-wrapper");return y(),C(q,null,{default:a(()=>[e(j,null,{default:a(()=>[e(h,null,{default:a(()=>[e(V,{span:4.5},{default:a(()=>[e(g,{modelValue:t(d).name,"onUpdate:modelValue":l[0]||(l[0]=n=>t(d).name=n),label:"代理名称",onClear:p},null,8,["modelValue"])]),_:1}),e(V,{span:4.5},{default:a(()=>[e(g,{modelValue:t(d).nkname,"onUpdate:modelValue":l[1]||(l[1]=n=>t(d).nkname=n),label:"代理标签",onClear:p},null,8,["modelValue"])]),_:1}),e(T,{modelValue:t(d).status,"onUpdate:modelValue":l[2]||(l[2]=n=>t(d).status=n),label:"状态","tag-type":"success",onClear:p,style:{"margin-right":"10px"},clearable:"","option-props":{label:"name",value:"value"},dataList:r.statusList},null,8,["modelValue","dataList"]),e(V,{span:4.5},{default:a(()=>[e(_,{type:"primary",onClick:p},{default:a(()=>[f("查询")]),_:1}),e(_,{type:"success",onClick:U},{default:a(()=>[f("添加")]),_:1})]),_:1})]),_:1})]),_:1}),e(N,null,{default:a(()=>[e(L,{ref:"baseTableRef",api:"tgmerchantlabel.page",params:t(d),indexCode:!0},{default:a(()=>[e(c,{label:"标签名称",prop:"name"}),e(c,{label:"备注",prop:"remark"}),e(c,{label:"创建时间",prop:"create_time"}),e(c,{label:"操作"},{default:a(n=>[e(_,{type:"primary",link:"",onClick:A=>O(n.row)},{default:a(()=>[f("编辑")]),_:2},1032,["onClick"]),e(F,{onOk:A=>$(n.row)},null,8,["onOk"])]),_:1})]),_:1},8,["params"])]),_:1}),t(i)==="add"||t(i)==="update"?(y(),C(D,{key:0,modelValue:t(s),"onUpdate:modelValue":l[6]||(l[6]=n=>w(s)?s.value=n:s=n),title:r.dialogTitleObj[t(i)],width:"23%"},{footer:a(()=>[e(_,{onClick:l[5]||(l[5]=n=>w(s)?s.value=!1:s=!1)},{default:a(()=>[f("取 消")]),_:1}),e(_,{type:"primary",onClick:R},{default:a(()=>[f("确 定")]),_:1})]),default:a(()=>[e(B,{inline:!0,ref:"dataFormRef",rules:t(x),model:t(u),"label-width":"100px"},{default:a(()=>[e(v,{label:"标签名称:",prop:"name"},{default:a(()=>[e(k,{modelValue:t(u).name,"onUpdate:modelValue":l[3]||(l[3]=n=>t(u).name=n)},null,8,["modelValue"])]),_:1}),e(v,{label:"备注:"},{default:a(()=>[e(k,{modelValue:t(u).remark,"onUpdate:modelValue":l[4]||(l[4]=n=>t(u).remark=n),type:"textarea",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])):Q("",!0)]),_:1})}}};export{E as default};

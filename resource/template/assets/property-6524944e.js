import{g as B,A as D,t as N,a as o,b as Q,c as A,w as l,d as e,u as n,i as m,j as F}from"./index-995db30f.js";const P={__name:"property",setup(I){const{proxy:i}=B(),s=D({formdata:{},dialogVisible:!1,listLoading:!1,listQuery:{type:2},dialogStatus:""}),{formdata:d,dialogVisible:p,listQuery:b,dialogStatus:k}=N(s);async function f(){i.$refs.baseTableRef.refresh()}function g(){i.$refs.formRef.validate(async u=>{if(u){s.formdata.type=2;let a=await i.$api.sys_config[s.formdata.id?"update":"add"](s.formdata);i.submitOk(a.msg),f(),s.dialogVisible=!1}})}function V(u){s.formdata=Object.assign({},u),s.dialogVisible=!0,s.dialogStatus="update"}function v(){s.dialogVisible=!0,s.dialogStatus="add",s.formdata={}}async function w(u){let a=await i.$api.sys_config.delete(u);i.submitOk(a.msg),f()}return(u,a)=>{const C=o("base-input"),r=o("el-button"),x=o("base-header"),_=o("el-table-column"),$=o("base-delete-btn"),O=o("base-table-p"),R=o("base-content"),c=o("base-input-no"),y=o("el-form-item"),T=o("el-form"),U=o("base-dialog"),S=o("base-wrapper");return Q(),A(S,null,{default:l(()=>[e(x,null,{default:l(()=>[e(C,{modelValue:n(b).key,"onUpdate:modelValue":a[0]||(a[0]=t=>n(b).key=t),clearable:"",placeholder:"key",style:{width:"200px"},onClear:f},null,8,["modelValue"]),e(r,{type:"primary",onClick:f},{default:l(()=>[m("查询")]),_:1}),e(r,{type:"success",onClick:v},{default:l(()=>[m("添加")]),_:1})]),_:1}),e(R,null,{default:l(()=>[e(O,{ref:"baseTableRef",api:"sys_config.listPage",params:n(b),indexCode:!0},{default:l(()=>[e(_,{prop:"keyn",label:"属性key"}),e(_,{prop:"valuen",label:"属性value"}),e(_,{prop:"remark",label:"备注"}),e(_,{label:"操作",width:"250"},{default:l(t=>[e(r,{link:"",onClick:j=>V(t.row)},{default:l(()=>[m("编辑")]),_:2},1032,["onClick"]),e($,{onOk:j=>w(t.row.id)},null,8,["onOk"])]),_:1})]),_:1},8,["params"])]),_:1}),e(U,{modelValue:n(p),"onUpdate:modelValue":a[5]||(a[5]=t=>F(p)?p.value=t:null),title:u.dialogTitleObj[n(k)],width:"23%"},{footer:l(()=>[e(r,{onClick:a[4]||(a[4]=t=>p.value=!1)},{default:l(()=>[m("取 消")]),_:1}),e(r,{type:"primary",onClick:g},{default:l(()=>[m("确 定")]),_:1})]),default:l(()=>[e(T,{ref:"formdataRef",model:n(d),"label-width":"100px"},{default:l(()=>[e(y,{label:"属性key："},{default:l(()=>[e(c,{modelValue:n(d).keyn,"onUpdate:modelValue":a[1]||(a[1]=t=>n(d).keyn=t)},null,8,["modelValue"])]),_:1}),e(y,{label:"属性value："},{default:l(()=>[e(c,{modelValue:n(d).valuen,"onUpdate:modelValue":a[2]||(a[2]=t=>n(d).valuen=t)},null,8,["modelValue"])]),_:1}),e(y,{label:"备注："},{default:l(()=>[e(c,{modelValue:n(d).remark,"onUpdate:modelValue":a[3]||(a[3]=t=>n(d).remark=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1})}}};export{P as default};

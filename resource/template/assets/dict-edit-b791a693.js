import{g as C,r as f,a as s,b as U,c as j,w as r,d as o,j as V,i as v,u as t}from"./index-5e118f72.js";const $={__name:"dict-edit",setup(O,{expose:c}){const{proxy:m}=C();let _=f(""),u=f(!1),l=f({}),g={name:[{required:!0,message:"字典名称不得为空",trigger:"blur"}],value:[{required:!0,message:"字典值不得为空",trigger:"blur"}]};c({open:x});function x(n,e,i,d,p){_.value=n,n==="add"?l.value={dict_type_id:i,code:d,sort:p}:n==="update"&&(l.value=Object.assign({},e)),u.value=!0}function k(){m.$refs.formRef.validate(async n=>{if(n){let e=await m.$api.sys_dict[l.value.id?"update":"add"](l.value);m.$emit("save-succ"),u.value=!1,m.submitOk(e.msg)}else return!1})}return(n,e)=>{const i=s("el-input"),d=s("el-form-item"),p=s("el-input-number"),w=s("el-form"),b=s("el-button"),y=s("base-dialog");return U(),j(y,{modelValue:t(u),"onUpdate:modelValue":e[5]||(e[5]=a=>V(u)?u.value=a:u=a),title:n.dialogTitleObj[t(_)],width:"25%"},{footer:r(()=>[o(b,{onClick:e[4]||(e[4]=a=>V(u)?u.value=!1:u=!1)},{default:r(()=>[v("取 消")]),_:1}),o(b,{type:"primary",onClick:k},{default:r(()=>[v("确 定")]),_:1})]),default:r(()=>[o(w,{ref:"formRef",model:t(l),rules:t(g),"label-width":"100px"},{default:r(()=>[o(d,{label:"字典名称：",prop:"name"},{default:r(()=>[o(i,{modelValue:t(l).name,"onUpdate:modelValue":e[0]||(e[0]=a=>t(l).name=a),placeholder:"输入字典名称"},null,8,["modelValue"])]),_:1}),o(d,{label:"字典值：",prop:"value"},{default:r(()=>[o(i,{modelValue:t(l).value,"onUpdate:modelValue":e[1]||(e[1]=a=>t(l).value=a),placeholder:"输入字典值"},null,8,["modelValue"])]),_:1}),o(d,{label:"排序："},{default:r(()=>[o(p,{modelValue:t(l).sort,"onUpdate:modelValue":e[2]||(e[2]=a=>t(l).sort=a),min:1,"controls-position":"right",placeholder:"请输入排序"},null,8,["modelValue"])]),_:1}),o(d,{label:"备注："},{default:r(()=>[o(i,{modelValue:t(l).remark,"onUpdate:modelValue":e[3]||(e[3]=a=>t(l).remark=a),rows:2,type:"textarea",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}};export{$ as default};

import{g as x,r as h,a,b as k,c as C,w as t,d as e,u as p,i as V,e as T,n as B}from"./index-b2871155.js";const $={__name:"file",setup(D){const{proxy:s}=x();let r=h({});function _(){s.$refs.baseTableRef.refresh()}async function u(c){let o=await s.$api.sys_file.delete(c);_(),s.submitOk(o.message)}return(c,o)=>{const i=a("base-input"),b=a("el-button"),m=a("base-header"),n=a("el-table-column"),f=a("el-image"),d=a("base-delete-btn"),w=a("base-table-p"),y=a("base-content"),g=a("base-wrapper");return k(),C(g,null,{default:t(()=>[e(m,null,{default:t(()=>[e(i,{modelValue:p(r).file_name,"onUpdate:modelValue":o[0]||(o[0]=l=>p(r).file_name=l),label:"文件名",style:{width:"200px"},clearable:"",onClear:_},null,8,["modelValue"]),e(b,{type:"primary",onClick:_},{default:t(()=>[V("查询")]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(w,{ref:"baseTableRef",api:"sys_file.page",params:p(r),indexCode:!0},{default:t(()=>[e(n,{label:"文件名",prop:"file_name"}),e(n,{label:"文件",prop:"url"},{default:t(l=>[e(f,{src:l.row.url,class:"img-sm"},null,8,["src"])]),_:1}),e(n,{label:"文件大小",prop:"file_size"},{default:t(l=>[T("span",null,B((l.row.file_size/1024/1024).toFixed(2))+"M",1)]),_:1}),e(n,{label:"创建时间",prop:"createtime"}),e(n,{label:"操作"},{default:t(l=>[e(d,{onOk:N=>u(l.row.id)},null,8,["onOk"])]),_:1})]),_:1},8,["params"])]),_:1})]),_:1})}}};export{$ as default};

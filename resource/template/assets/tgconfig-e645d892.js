import{g as Q,r as b,a as n,b as y,c as C,w as a,d as e,u as t,i as c,j as w,k as S}from"./index-971bc216.js";const G={__name:"tgconfig",setup(z){const{proxy:m}=Q();let d=b({}),s=b({}),u=b(!1),f=b(""),U=b({setname:[{required:!0,message:"请输入配置名称",trigger:"blur"}],setvalues:[{required:!0,message:"请输入配置消息",trigger:"blur"}],fieldname:[{required:!0,message:"请输入单字段名",trigger:"blur"}]});function p(){m.$refs.baseTableRef.refresh()}function x(){s.value={status:!0},f.value="add",u.value=!0}function O(r){s.value=Object.assign({},r),f.value="update",u.value=!0}async function $(r){let l=await m.$api.tgconfig.delete(r.id);p(),m.submitOk(l.message)}function R(){m.$refs.dataFormRef.validate(async r=>{if(r){let l=await m.$api.tgconfig[s.value.id?"update":"add"](s.value);m.submitOk(l.message),p(),u.value=!1}})}return(r,l)=>{const k=n("base-input"),v=n("el-col"),T=n("base-select-no"),_=n("el-button"),j=n("el-row"),q=n("base-header"),i=n("el-table-column"),F=n("base-delete-btn"),L=n("base-table-p"),N=n("base-content"),g=n("base-input-no"),V=n("el-form-item"),B=n("el-form"),D=n("base-dialog"),A=n("base-wrapper");return y(),C(A,null,{default:a(()=>[e(q,null,{default:a(()=>[e(j,null,{default:a(()=>[e(v,{span:4.5},{default:a(()=>[e(k,{modelValue:t(d).name,"onUpdate:modelValue":l[0]||(l[0]=o=>t(d).name=o),label:"代理名称",onClear:p},null,8,["modelValue"])]),_:1}),e(v,{span:4.5},{default:a(()=>[e(k,{modelValue:t(d).nkname,"onUpdate:modelValue":l[1]||(l[1]=o=>t(d).nkname=o),label:"代理标签",onClear:p},null,8,["modelValue"])]),_:1}),e(T,{modelValue:t(d).status,"onUpdate:modelValue":l[2]||(l[2]=o=>t(d).status=o),label:"状态","tag-type":"success",onClear:p,style:{"margin-right":"10px"},clearable:"","option-props":{label:"name",value:"value"},dataList:r.statusList},null,8,["modelValue","dataList"]),e(v,{span:4.5},{default:a(()=>[e(_,{type:"primary",onClick:p},{default:a(()=>[c("查询")]),_:1}),e(_,{type:"success",onClick:x},{default:a(()=>[c("添加")]),_:1})]),_:1})]),_:1})]),_:1}),e(N,null,{default:a(()=>[e(L,{ref:"baseTableRef",api:"tgconfig.page",params:t(d),indexCode:!0},{default:a(()=>[e(i,{label:"配置名称",prop:"setname"}),e(i,{label:"配置消息",prop:"setvalues"}),e(i,{label:"字段名",prop:"fieldname"}),e(i,{label:"备注",prop:"remark"}),e(i,{label:"创建时间",prop:"create_time"}),e(i,{label:"操作"},{default:a(o=>[e(_,{type:"primary",link:"",onClick:I=>O(o.row)},{default:a(()=>[c("编辑")]),_:2},1032,["onClick"]),e(F,{onOk:I=>$(o.row)},null,8,["onOk"])]),_:1})]),_:1},8,["params"])]),_:1}),t(f)==="add"||t(f)==="update"?(y(),C(D,{key:0,modelValue:t(u),"onUpdate:modelValue":l[8]||(l[8]=o=>w(u)?u.value=o:u=o),title:r.dialogTitleObj[t(f)],width:"23%"},{footer:a(()=>[e(_,{onClick:l[7]||(l[7]=o=>w(u)?u.value=!1:u=!1)},{default:a(()=>[c("取 消")]),_:1}),e(_,{type:"primary",onClick:R},{default:a(()=>[c("确 定")]),_:1})]),default:a(()=>[e(B,{inline:!0,ref:"dataFormRef",rules:t(U),model:t(s),"label-width":"100px"},{default:a(()=>[e(V,{label:"配置名称:",prop:"setname"},{default:a(()=>[e(g,{modelValue:t(s).setname,"onUpdate:modelValue":l[3]||(l[3]=o=>t(s).setname=o)},null,8,["modelValue"])]),_:1}),e(V,{label:"配置消息:",prop:"setvalues"},{default:a(()=>[e(g,{modelValue:t(s).setvalues,"onUpdate:modelValue":l[4]||(l[4]=o=>t(s).setvalues=o)},null,8,["modelValue"])]),_:1}),e(V,{label:"字段名:",prop:"fieldname"},{default:a(()=>[e(g,{modelValue:t(s).fieldname,"onUpdate:modelValue":l[5]||(l[5]=o=>t(s).fieldname=o)},null,8,["modelValue"])]),_:1}),e(V,{label:"备注:"},{default:a(()=>[e(g,{modelValue:t(s).remark,"onUpdate:modelValue":l[6]||(l[6]=o=>t(s).remark=o),type:"textarea",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])):S("",!0)]),_:1})}}};export{G as default};
